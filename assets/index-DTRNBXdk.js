(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const O of document.querySelectorAll('link[rel="modulepreload"]'))D(O);new MutationObserver(O=>{for(const p of O)if(p.type==="childList")for(const x of p.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&D(x)}).observe(document,{childList:!0,subtree:!0});function E(O){const p={};return O.integrity&&(p.integrity=O.integrity),O.referrerPolicy&&(p.referrerPolicy=O.referrerPolicy),O.crossOrigin==="use-credentials"?p.credentials="include":O.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function D(O){if(O.ep)return;O.ep=!0;const p=E(O);fetch(O.href,p)}})();function sh(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Tu={exports:{}},Mr={},Hu={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),lh=Symbol.for("react.portal"),uh=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),dh=Symbol.for("react.profiler"),hh=Symbol.for("react.provider"),fh=Symbol.for("react.context"),ph=Symbol.for("react.forward_ref"),gh=Symbol.for("react.suspense"),vh=Symbol.for("react.memo"),_h=Symbol.for("react.lazy"),El=Symbol.iterator;function mh(o){return o===null||typeof o!="object"?null:(o=El&&o[El]||o["@@iterator"],typeof o=="function"?o:null)}var Au={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$u=Object.assign,Vu={};function Ii(o,h,E){this.props=o,this.context=h,this.refs=Vu,this.updater=E||Au}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(o,h){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,h,"setState")};Ii.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function ju(){}ju.prototype=Ii.prototype;function ys(o,h,E){this.props=o,this.context=h,this.refs=Vu,this.updater=E||Au}var bs=ys.prototype=new ju;bs.constructor=ys;$u(bs,Ii.prototype);bs.isPureReactComponent=!0;var Cl=Array.isArray,Ru=Object.prototype.hasOwnProperty,xs={current:null},Fu={key:!0,ref:!0,__self:!0,__source:!0};function Lu(o,h,E){var D,O={},p=null,x=null;if(h!=null)for(D in h.ref!==void 0&&(x=h.ref),h.key!==void 0&&(p=""+h.key),h)Ru.call(h,D)&&!Fu.hasOwnProperty(D)&&(O[D]=h[D]);var w=arguments.length-2;if(w===1)O.children=E;else if(1<w){for(var C=Array(w),b=0;b<w;b++)C[b]=arguments[b+2];O.children=C}if(o&&o.defaultProps)for(D in w=o.defaultProps,w)O[D]===void 0&&(O[D]=w[D]);return{$$typeof:bo,type:o,key:p,ref:x,props:O,_owner:xs.current}}function yh(o,h){return{$$typeof:bo,type:o.type,key:h,ref:o.ref,props:o.props,_owner:o._owner}}function ws(o){return typeof o=="object"&&o!==null&&o.$$typeof===bo}function bh(o){var h={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(E){return h[E]})}var kl=/\/+/g;function ea(o,h){return typeof o=="object"&&o!==null&&o.key!=null?bh(""+o.key):h.toString(36)}function qo(o,h,E,D,O){var p=typeof o;(p==="undefined"||p==="boolean")&&(o=null);var x=!1;if(o===null)x=!0;else switch(p){case"string":case"number":x=!0;break;case"object":switch(o.$$typeof){case bo:case lh:x=!0}}if(x)return x=o,O=O(x),o=D===""?"."+ea(x,0):D,Cl(O)?(E="",o!=null&&(E=o.replace(kl,"$&/")+"/"),qo(O,h,E,"",function(b){return b})):O!=null&&(ws(O)&&(O=yh(O,E+(!O.key||x&&x.key===O.key?"":(""+O.key).replace(kl,"$&/")+"/")+o)),h.push(O)),1;if(x=0,D=D===""?".":D+":",Cl(o))for(var w=0;w<o.length;w++){p=o[w];var C=D+ea(p,w);x+=qo(p,h,E,C,O)}else if(C=mh(o),typeof C=="function")for(o=C.call(o),w=0;!(p=o.next()).done;)p=p.value,C=D+ea(p,w++),x+=qo(p,h,E,C,O);else if(p==="object")throw h=String(o),Error("Objects are not valid as a React child (found: "+(h==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":h)+"). If you meant to render a collection of children, use an array instead.");return x}function Mo(o,h,E){if(o==null)return o;var D=[],O=0;return qo(o,D,"","",function(p){return h.call(E,p,O++)}),D}function xh(o){if(o._status===-1){var h=o._result;h=h(),h.then(function(E){(o._status===0||o._status===-1)&&(o._status=1,o._result=E)},function(E){(o._status===0||o._status===-1)&&(o._status=2,o._result=E)}),o._status===-1&&(o._status=0,o._result=h)}if(o._status===1)return o._result.default;throw o._result}var dt={current:null},Xo={transition:null},wh={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:Xo,ReactCurrentOwner:xs};function Nu(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Mo,forEach:function(o,h,E){Mo(o,function(){h.apply(this,arguments)},E)},count:function(o){var h=0;return Mo(o,function(){h++}),h},toArray:function(o){return Mo(o,function(h){return h})||[]},only:function(o){if(!ws(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};Ie.Component=Ii;Ie.Fragment=uh;Ie.Profiler=dh;Ie.PureComponent=ys;Ie.StrictMode=ch;Ie.Suspense=gh;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wh;Ie.act=Nu;Ie.cloneElement=function(o,h,E){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var D=$u({},o.props),O=o.key,p=o.ref,x=o._owner;if(h!=null){if(h.ref!==void 0&&(p=h.ref,x=xs.current),h.key!==void 0&&(O=""+h.key),o.type&&o.type.defaultProps)var w=o.type.defaultProps;for(C in h)Ru.call(h,C)&&!Fu.hasOwnProperty(C)&&(D[C]=h[C]===void 0&&w!==void 0?w[C]:h[C])}var C=arguments.length-2;if(C===1)D.children=E;else if(1<C){w=Array(C);for(var b=0;b<C;b++)w[b]=arguments[b+2];D.children=w}return{$$typeof:bo,type:o.type,key:O,ref:p,props:D,_owner:x}};Ie.createContext=function(o){return o={$$typeof:fh,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:hh,_context:o},o.Consumer=o};Ie.createElement=Lu;Ie.createFactory=function(o){var h=Lu.bind(null,o);return h.type=o,h};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(o){return{$$typeof:ph,render:o}};Ie.isValidElement=ws;Ie.lazy=function(o){return{$$typeof:_h,_payload:{_status:-1,_result:o},_init:xh}};Ie.memo=function(o,h){return{$$typeof:vh,type:o,compare:h===void 0?null:h}};Ie.startTransition=function(o){var h=Xo.transition;Xo.transition={};try{o()}finally{Xo.transition=h}};Ie.unstable_act=Nu;Ie.useCallback=function(o,h){return dt.current.useCallback(o,h)};Ie.useContext=function(o){return dt.current.useContext(o)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(o){return dt.current.useDeferredValue(o)};Ie.useEffect=function(o,h){return dt.current.useEffect(o,h)};Ie.useId=function(){return dt.current.useId()};Ie.useImperativeHandle=function(o,h,E){return dt.current.useImperativeHandle(o,h,E)};Ie.useInsertionEffect=function(o,h){return dt.current.useInsertionEffect(o,h)};Ie.useLayoutEffect=function(o,h){return dt.current.useLayoutEffect(o,h)};Ie.useMemo=function(o,h){return dt.current.useMemo(o,h)};Ie.useReducer=function(o,h,E){return dt.current.useReducer(o,h,E)};Ie.useRef=function(o){return dt.current.useRef(o)};Ie.useState=function(o){return dt.current.useState(o)};Ie.useSyncExternalStore=function(o,h,E){return dt.current.useSyncExternalStore(o,h,E)};Ie.useTransition=function(){return dt.current.useTransition()};Ie.version="18.3.1";Hu.exports=Ie;var bn=Hu.exports;const Eh=sh(bn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=bn,kh=Symbol.for("react.element"),Sh=Symbol.for("react.fragment"),Ih=Object.prototype.hasOwnProperty,Ph=Ch.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oh={key:!0,ref:!0,__self:!0,__source:!0};function zu(o,h,E){var D,O={},p=null,x=null;E!==void 0&&(p=""+E),h.key!==void 0&&(p=""+h.key),h.ref!==void 0&&(x=h.ref);for(D in h)Ih.call(h,D)&&!Oh.hasOwnProperty(D)&&(O[D]=h[D]);if(o&&o.defaultProps)for(D in h=o.defaultProps,h)O[D]===void 0&&(O[D]=h[D]);return{$$typeof:kh,type:o,key:p,ref:x,props:O,_owner:Ph.current}}Mr.Fragment=Sh;Mr.jsx=zu;Mr.jsxs=zu;Tu.exports=Mr;var ar=Tu.exports,Sa={},Bu={exports:{}},wt={},Wu={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function h(j,M){var F=j.length;j.push(M);e:for(;0<F;){var S=F-1>>>1,R=j[S];if(0<O(R,M))j[S]=M,j[F]=R,F=S;else break e}}function E(j){return j.length===0?null:j[0]}function D(j){if(j.length===0)return null;var M=j[0],F=j.pop();if(F!==M){j[0]=F;e:for(var S=0,R=j.length,B=R>>>1;S<B;){var Y=2*(S+1)-1,q=j[Y],U=Y+1,V=j[U];if(0>O(q,F))U<R&&0>O(V,q)?(j[S]=V,j[U]=F,S=U):(j[S]=q,j[Y]=F,S=Y);else if(U<R&&0>O(V,F))j[S]=V,j[U]=F,S=U;else break e}}return M}function O(j,M){var F=j.sortIndex-M.sortIndex;return F!==0?F:j.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;o.unstable_now=function(){return p.now()}}else{var x=Date,w=x.now();o.unstable_now=function(){return x.now()-w}}var C=[],b=[],y=1,g=null,d=3,_=!1,f=!1,l=!1,u=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function t(j){for(var M=E(b);M!==null;){if(M.callback===null)D(b);else if(M.startTime<=j)D(b),M.sortIndex=M.expirationTime,h(C,M);else break;M=E(b)}}function n(j){if(l=!1,t(j),!f)if(E(C)!==null)f=!0,$(i);else{var M=E(b);M!==null&&L(n,M.startTime-j)}}function i(j,M){f=!1,l&&(l=!1,r(c),c=-1),_=!0;var F=d;try{for(t(M),g=E(C);g!==null&&(!(g.expirationTime>M)||j&&!k());){var S=g.callback;if(typeof S=="function"){g.callback=null,d=g.priorityLevel;var R=S(g.expirationTime<=M);M=o.unstable_now(),typeof R=="function"?g.callback=R:g===E(C)&&D(C),t(M)}else D(C);g=E(C)}if(g!==null)var B=!0;else{var Y=E(b);Y!==null&&L(n,Y.startTime-M),B=!1}return B}finally{g=null,d=F,_=!1}}var e=!1,a=null,c=-1,v=5,m=-1;function k(){return!(o.unstable_now()-m<v)}function I(){if(a!==null){var j=o.unstable_now();m=j;var M=!0;try{M=a(!0,j)}finally{M?P():(e=!1,a=null)}}else e=!1}var P;if(typeof s=="function")P=function(){s(I)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,H=T.port2;T.port1.onmessage=I,P=function(){H.postMessage(null)}}else P=function(){u(I,0)};function $(j){a=j,e||(e=!0,P())}function L(j,M){c=u(function(){j(o.unstable_now())},M)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(j){j.callback=null},o.unstable_continueExecution=function(){f||_||(f=!0,$(i))},o.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<j?Math.floor(1e3/j):5},o.unstable_getCurrentPriorityLevel=function(){return d},o.unstable_getFirstCallbackNode=function(){return E(C)},o.unstable_next=function(j){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var F=d;d=M;try{return j()}finally{d=F}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var F=d;d=j;try{return M()}finally{d=F}},o.unstable_scheduleCallback=function(j,M,F){var S=o.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?S+F:S):F=S,j){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=F+R,j={id:y++,callback:M,priorityLevel:j,startTime:F,expirationTime:R,sortIndex:-1},F>S?(j.sortIndex=F,h(b,j),E(C)===null&&j===E(b)&&(l?(r(c),c=-1):l=!0,L(n,F-S))):(j.sortIndex=R,h(C,j),f||_||(f=!0,$(i))),j},o.unstable_shouldYield=k,o.unstable_wrapCallback=function(j){var M=d;return function(){var F=d;d=M;try{return j.apply(this,arguments)}finally{d=F}}}})(Uu);Wu.exports=Uu;var Dh=Wu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh=bn,xt=Dh;function fe(o){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+o,E=1;E<arguments.length;E++)h+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+o+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gu=new Set,no={};function Xn(o,h){bi(o,h),bi(o+"Capture",h)}function bi(o,h){for(no[o]=h,o=0;o<h.length;o++)Gu.add(h[o])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=Object.prototype.hasOwnProperty,Th=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sl={},Il={};function Hh(o){return Ia.call(Il,o)?!0:Ia.call(Sl,o)?!1:Th.test(o)?Il[o]=!0:(Sl[o]=!0,!1)}function Ah(o,h,E,D){if(E!==null&&E.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return D?!1:E!==null?!E.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function $h(o,h,E,D){if(h===null||typeof h>"u"||Ah(o,h,E,D))return!0;if(D)return!1;if(E!==null)switch(E.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function ht(o,h,E,D,O,p,x){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=D,this.attributeNamespace=O,this.mustUseProperty=E,this.propertyName=o,this.type=h,this.sanitizeURL=p,this.removeEmptyString=x}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){ot[o]=new ht(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var h=o[0];ot[h]=new ht(h,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){ot[o]=new ht(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){ot[o]=new ht(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){ot[o]=new ht(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){ot[o]=new ht(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){ot[o]=new ht(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){ot[o]=new ht(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){ot[o]=new ht(o,5,!1,o.toLowerCase(),null,!1,!1)});var Es=/[\-:]([a-z])/g;function Cs(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var h=o.replace(Es,Cs);ot[h]=new ht(h,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var h=o.replace(Es,Cs);ot[h]=new ht(h,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var h=o.replace(Es,Cs);ot[h]=new ht(h,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){ot[o]=new ht(o,1,!1,o.toLowerCase(),null,!1,!1)});ot.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){ot[o]=new ht(o,1,!1,o.toLowerCase(),null,!0,!0)});function ks(o,h,E,D){var O=ot.hasOwnProperty(h)?ot[h]:null;(O!==null?O.type!==0:D||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&($h(h,E,O,D)&&(E=null),D||O===null?Hh(h)&&(E===null?o.removeAttribute(h):o.setAttribute(h,""+E)):O.mustUseProperty?o[O.propertyName]=E===null?O.type===3?!1:"":E:(h=O.attributeName,D=O.attributeNamespace,E===null?o.removeAttribute(h):(O=O.type,E=O===3||O===4&&E===!0?"":""+E,D?o.setAttributeNS(D,h,E):o.setAttribute(h,E))))}var un=Mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),Ss=Symbol.for("react.strict_mode"),Pa=Symbol.for("react.profiler"),Yu=Symbol.for("react.provider"),qu=Symbol.for("react.context"),Is=Symbol.for("react.forward_ref"),Oa=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Ps=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),Xu=Symbol.for("react.offscreen"),Pl=Symbol.iterator;function $i(o){return o===null||typeof o!="object"?null:(o=Pl&&o[Pl]||o["@@iterator"],typeof o=="function"?o:null)}var Be=Object.assign,ta;function Bi(o){if(ta===void 0)try{throw Error()}catch(E){var h=E.stack.trim().match(/\n( *(at )?)/);ta=h&&h[1]||""}return`
`+ta+o}var na=!1;function ia(o,h){if(!o||na)return"";na=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(b){var D=b}Reflect.construct(o,[],h)}else{try{h.call()}catch(b){D=b}o.call(h.prototype)}else{try{throw Error()}catch(b){D=b}o()}}catch(b){if(b&&D&&typeof b.stack=="string"){for(var O=b.stack.split(`
`),p=D.stack.split(`
`),x=O.length-1,w=p.length-1;1<=x&&0<=w&&O[x]!==p[w];)w--;for(;1<=x&&0<=w;x--,w--)if(O[x]!==p[w]){if(x!==1||w!==1)do if(x--,w--,0>w||O[x]!==p[w]){var C=`
`+O[x].replace(" at new "," at ");return o.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",o.displayName)),C}while(1<=x&&0<=w);break}}}finally{na=!1,Error.prepareStackTrace=E}return(o=o?o.displayName||o.name:"")?Bi(o):""}function Vh(o){switch(o.tag){case 5:return Bi(o.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return o=ia(o.type,!1),o;case 11:return o=ia(o.type.render,!1),o;case 1:return o=ia(o.type,!0),o;default:return""}}function Ma(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ii:return"Fragment";case ni:return"Portal";case Pa:return"Profiler";case Ss:return"StrictMode";case Oa:return"Suspense";case Da:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case qu:return(o.displayName||"Context")+".Consumer";case Yu:return(o._context.displayName||"Context")+".Provider";case Is:var h=o.render;return o=o.displayName,o||(o=h.displayName||h.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ps:return h=o.displayName||null,h!==null?h:Ma(o.type)||"Memo";case vn:h=o._payload,o=o._init;try{return Ma(o(h))}catch{}}return null}function jh(o){var h=o.type;switch(o.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=h.render,o=o.displayName||o.name||"",h.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ma(h);case 8:return h===Ss?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Mn(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ku(o){var h=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Rh(o){var h=Ku(o)?"checked":"value",E=Object.getOwnPropertyDescriptor(o.constructor.prototype,h),D=""+o[h];if(!o.hasOwnProperty(h)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var O=E.get,p=E.set;return Object.defineProperty(o,h,{configurable:!0,get:function(){return O.call(this)},set:function(x){D=""+x,p.call(this,x)}}),Object.defineProperty(o,h,{enumerable:E.enumerable}),{getValue:function(){return D},setValue:function(x){D=""+x},stopTracking:function(){o._valueTracker=null,delete o[h]}}}}function Ho(o){o._valueTracker||(o._valueTracker=Rh(o))}function Qu(o){if(!o)return!1;var h=o._valueTracker;if(!h)return!0;var E=h.getValue(),D="";return o&&(D=Ku(o)?o.checked?"true":"false":o.value),o=D,o!==E?(h.setValue(o),!0):!1}function sr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ta(o,h){var E=h.checked;return Be({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??o._wrapperState.initialChecked})}function Ol(o,h){var E=h.defaultValue==null?"":h.defaultValue,D=h.checked!=null?h.checked:h.defaultChecked;E=Mn(h.value!=null?h.value:E),o._wrapperState={initialChecked:D,initialValue:E,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Ju(o,h){h=h.checked,h!=null&&ks(o,"checked",h,!1)}function Ha(o,h){Ju(o,h);var E=Mn(h.value),D=h.type;if(E!=null)D==="number"?(E===0&&o.value===""||o.value!=E)&&(o.value=""+E):o.value!==""+E&&(o.value=""+E);else if(D==="submit"||D==="reset"){o.removeAttribute("value");return}h.hasOwnProperty("value")?Aa(o,h.type,E):h.hasOwnProperty("defaultValue")&&Aa(o,h.type,Mn(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(o.defaultChecked=!!h.defaultChecked)}function Dl(o,h,E){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var D=h.type;if(!(D!=="submit"&&D!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+o._wrapperState.initialValue,E||h===o.value||(o.value=h),o.defaultValue=h}E=o.name,E!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,E!==""&&(o.name=E)}function Aa(o,h,E){(h!=="number"||sr(o.ownerDocument)!==o)&&(E==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+E&&(o.defaultValue=""+E))}var Wi=Array.isArray;function pi(o,h,E,D){if(o=o.options,h){h={};for(var O=0;O<E.length;O++)h["$"+E[O]]=!0;for(E=0;E<o.length;E++)O=h.hasOwnProperty("$"+o[E].value),o[E].selected!==O&&(o[E].selected=O),O&&D&&(o[E].defaultSelected=!0)}else{for(E=""+Mn(E),h=null,O=0;O<o.length;O++){if(o[O].value===E){o[O].selected=!0,D&&(o[O].defaultSelected=!0);return}h!==null||o[O].disabled||(h=o[O])}h!==null&&(h.selected=!0)}}function $a(o,h){if(h.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Be({},h,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ml(o,h){var E=h.value;if(E==null){if(E=h.children,h=h.defaultValue,E!=null){if(h!=null)throw Error(fe(92));if(Wi(E)){if(1<E.length)throw Error(fe(93));E=E[0]}h=E}h==null&&(h=""),E=h}o._wrapperState={initialValue:Mn(E)}}function Zu(o,h){var E=Mn(h.value),D=Mn(h.defaultValue);E!=null&&(E=""+E,E!==o.value&&(o.value=E),h.defaultValue==null&&o.defaultValue!==E&&(o.defaultValue=E)),D!=null&&(o.defaultValue=""+D)}function Tl(o){var h=o.textContent;h===o._wrapperState.initialValue&&h!==""&&h!==null&&(o.value=h)}function ec(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Va(o,h){return o==null||o==="http://www.w3.org/1999/xhtml"?ec(h):o==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ao,tc=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,E,D,O){MSApp.execUnsafeLocalFunction(function(){return o(h,E,D,O)})}:o}(function(o,h){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=h;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Ao.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;h.firstChild;)o.appendChild(h.firstChild)}});function io(o,h){if(h){var E=o.firstChild;if(E&&E===o.lastChild&&E.nodeType===3){E.nodeValue=h;return}}o.textContent=h}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fh=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(o){Fh.forEach(function(h){h=h+o.charAt(0).toUpperCase()+o.substring(1),Yi[h]=Yi[o]})});function nc(o,h,E){return h==null||typeof h=="boolean"||h===""?"":E||typeof h!="number"||h===0||Yi.hasOwnProperty(o)&&Yi[o]?(""+h).trim():h+"px"}function ic(o,h){o=o.style;for(var E in h)if(h.hasOwnProperty(E)){var D=E.indexOf("--")===0,O=nc(E,h[E],D);E==="float"&&(E="cssFloat"),D?o.setProperty(E,O):o[E]=O}}var Lh=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ja(o,h){if(h){if(Lh[o]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(fe(137,o));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(fe(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(fe(61))}if(h.style!=null&&typeof h.style!="object")throw Error(fe(62))}}function Ra(o,h){if(o.indexOf("-")===-1)return typeof h.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fa=null;function Os(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var La=null,gi=null,vi=null;function Hl(o){if(o=Eo(o)){if(typeof La!="function")throw Error(fe(280));var h=o.stateNode;h&&(h=Vr(h),La(o.stateNode,o.type,h))}}function oc(o){gi?vi?vi.push(o):vi=[o]:gi=o}function rc(){if(gi){var o=gi,h=vi;if(vi=gi=null,Hl(o),h)for(o=0;o<h.length;o++)Hl(h[o])}}function ac(o,h){return o(h)}function sc(){}var oa=!1;function lc(o,h,E){if(oa)return o(h,E);oa=!0;try{return ac(o,h,E)}finally{oa=!1,(gi!==null||vi!==null)&&(sc(),rc())}}function oo(o,h){var E=o.stateNode;if(E===null)return null;var D=Vr(E);if(D===null)return null;E=D[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(o=o.type,D=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!D;break e;default:o=!1}if(o)return null;if(E&&typeof E!="function")throw Error(fe(231,h,typeof E));return E}var Na=!1;if(rn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Na=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{Na=!1}function Nh(o,h,E,D,O,p,x,w,C){var b=Array.prototype.slice.call(arguments,3);try{h.apply(E,b)}catch(y){this.onError(y)}}var qi=!1,lr=null,ur=!1,za=null,zh={onError:function(o){qi=!0,lr=o}};function Bh(o,h,E,D,O,p,x,w,C){qi=!1,lr=null,Nh.apply(zh,arguments)}function Wh(o,h,E,D,O,p,x,w,C){if(Bh.apply(this,arguments),qi){if(qi){var b=lr;qi=!1,lr=null}else throw Error(fe(198));ur||(ur=!0,za=b)}}function Kn(o){var h=o,E=o;if(o.alternate)for(;h.return;)h=h.return;else{o=h;do h=o,h.flags&4098&&(E=h.return),o=h.return;while(o)}return h.tag===3?E:null}function uc(o){if(o.tag===13){var h=o.memoizedState;if(h===null&&(o=o.alternate,o!==null&&(h=o.memoizedState)),h!==null)return h.dehydrated}return null}function Al(o){if(Kn(o)!==o)throw Error(fe(188))}function Uh(o){var h=o.alternate;if(!h){if(h=Kn(o),h===null)throw Error(fe(188));return h!==o?null:o}for(var E=o,D=h;;){var O=E.return;if(O===null)break;var p=O.alternate;if(p===null){if(D=O.return,D!==null){E=D;continue}break}if(O.child===p.child){for(p=O.child;p;){if(p===E)return Al(O),o;if(p===D)return Al(O),h;p=p.sibling}throw Error(fe(188))}if(E.return!==D.return)E=O,D=p;else{for(var x=!1,w=O.child;w;){if(w===E){x=!0,E=O,D=p;break}if(w===D){x=!0,D=O,E=p;break}w=w.sibling}if(!x){for(w=p.child;w;){if(w===E){x=!0,E=p,D=O;break}if(w===D){x=!0,D=p,E=O;break}w=w.sibling}if(!x)throw Error(fe(189))}}if(E.alternate!==D)throw Error(fe(190))}if(E.tag!==3)throw Error(fe(188));return E.stateNode.current===E?o:h}function cc(o){return o=Uh(o),o!==null?dc(o):null}function dc(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var h=dc(o);if(h!==null)return h;o=o.sibling}return null}var hc=xt.unstable_scheduleCallback,$l=xt.unstable_cancelCallback,Gh=xt.unstable_shouldYield,Yh=xt.unstable_requestPaint,Ye=xt.unstable_now,qh=xt.unstable_getCurrentPriorityLevel,Ds=xt.unstable_ImmediatePriority,fc=xt.unstable_UserBlockingPriority,cr=xt.unstable_NormalPriority,Xh=xt.unstable_LowPriority,pc=xt.unstable_IdlePriority,Tr=null,Yt=null;function Kh(o){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Tr,o,void 0,(o.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Zh,Qh=Math.log,Jh=Math.LN2;function Zh(o){return o>>>=0,o===0?32:31-(Qh(o)/Jh|0)|0}var $o=64,Vo=4194304;function Ui(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function dr(o,h){var E=o.pendingLanes;if(E===0)return 0;var D=0,O=o.suspendedLanes,p=o.pingedLanes,x=E&268435455;if(x!==0){var w=x&~O;w!==0?D=Ui(w):(p&=x,p!==0&&(D=Ui(p)))}else x=E&~O,x!==0?D=Ui(x):p!==0&&(D=Ui(p));if(D===0)return 0;if(h!==0&&h!==D&&!(h&O)&&(O=D&-D,p=h&-h,O>=p||O===16&&(p&4194240)!==0))return h;if(D&4&&(D|=E&16),h=o.entangledLanes,h!==0)for(o=o.entanglements,h&=D;0<h;)E=31-jt(h),O=1<<E,D|=o[E],h&=~O;return D}function ef(o,h){switch(o){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tf(o,h){for(var E=o.suspendedLanes,D=o.pingedLanes,O=o.expirationTimes,p=o.pendingLanes;0<p;){var x=31-jt(p),w=1<<x,C=O[x];C===-1?(!(w&E)||w&D)&&(O[x]=ef(w,h)):C<=h&&(o.expiredLanes|=w),p&=~w}}function Ba(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function gc(){var o=$o;return $o<<=1,!($o&4194240)&&($o=64),o}function ra(o){for(var h=[],E=0;31>E;E++)h.push(o);return h}function xo(o,h,E){o.pendingLanes|=h,h!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,h=31-jt(h),o[h]=E}function nf(o,h){var E=o.pendingLanes&~h;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=h,o.mutableReadLanes&=h,o.entangledLanes&=h,h=o.entanglements;var D=o.eventTimes;for(o=o.expirationTimes;0<E;){var O=31-jt(E),p=1<<O;h[O]=0,D[O]=-1,o[O]=-1,E&=~p}}function Ms(o,h){var E=o.entangledLanes|=h;for(o=o.entanglements;E;){var D=31-jt(E),O=1<<D;O&h|o[D]&h&&(o[D]|=h),E&=~O}}var Te=0;function vc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var _c,Ts,mc,yc,bc,Wa=!1,jo=[],En=null,Cn=null,kn=null,ro=new Map,ao=new Map,mn=[],of="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(o,h){switch(o){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":ro.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(h.pointerId)}}function ji(o,h,E,D,O,p){return o===null||o.nativeEvent!==p?(o={blockedOn:h,domEventName:E,eventSystemFlags:D,nativeEvent:p,targetContainers:[O]},h!==null&&(h=Eo(h),h!==null&&Ts(h)),o):(o.eventSystemFlags|=D,h=o.targetContainers,O!==null&&h.indexOf(O)===-1&&h.push(O),o)}function rf(o,h,E,D,O){switch(h){case"focusin":return En=ji(En,o,h,E,D,O),!0;case"dragenter":return Cn=ji(Cn,o,h,E,D,O),!0;case"mouseover":return kn=ji(kn,o,h,E,D,O),!0;case"pointerover":var p=O.pointerId;return ro.set(p,ji(ro.get(p)||null,o,h,E,D,O)),!0;case"gotpointercapture":return p=O.pointerId,ao.set(p,ji(ao.get(p)||null,o,h,E,D,O)),!0}return!1}function xc(o){var h=Fn(o.target);if(h!==null){var E=Kn(h);if(E!==null){if(h=E.tag,h===13){if(h=uc(E),h!==null){o.blockedOn=h,bc(o.priority,function(){mc(E)});return}}else if(h===3&&E.stateNode.current.memoizedState.isDehydrated){o.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ko(o){if(o.blockedOn!==null)return!1;for(var h=o.targetContainers;0<h.length;){var E=Ua(o.domEventName,o.eventSystemFlags,h[0],o.nativeEvent);if(E===null){E=o.nativeEvent;var D=new E.constructor(E.type,E);Fa=D,E.target.dispatchEvent(D),Fa=null}else return h=Eo(E),h!==null&&Ts(h),o.blockedOn=E,!1;h.shift()}return!0}function jl(o,h,E){Ko(o)&&E.delete(h)}function af(){Wa=!1,En!==null&&Ko(En)&&(En=null),Cn!==null&&Ko(Cn)&&(Cn=null),kn!==null&&Ko(kn)&&(kn=null),ro.forEach(jl),ao.forEach(jl)}function Ri(o,h){o.blockedOn===h&&(o.blockedOn=null,Wa||(Wa=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,af)))}function so(o){function h(O){return Ri(O,o)}if(0<jo.length){Ri(jo[0],o);for(var E=1;E<jo.length;E++){var D=jo[E];D.blockedOn===o&&(D.blockedOn=null)}}for(En!==null&&Ri(En,o),Cn!==null&&Ri(Cn,o),kn!==null&&Ri(kn,o),ro.forEach(h),ao.forEach(h),E=0;E<mn.length;E++)D=mn[E],D.blockedOn===o&&(D.blockedOn=null);for(;0<mn.length&&(E=mn[0],E.blockedOn===null);)xc(E),E.blockedOn===null&&mn.shift()}var _i=un.ReactCurrentBatchConfig,hr=!0;function sf(o,h,E,D){var O=Te,p=_i.transition;_i.transition=null;try{Te=1,Hs(o,h,E,D)}finally{Te=O,_i.transition=p}}function lf(o,h,E,D){var O=Te,p=_i.transition;_i.transition=null;try{Te=4,Hs(o,h,E,D)}finally{Te=O,_i.transition=p}}function Hs(o,h,E,D){if(hr){var O=Ua(o,h,E,D);if(O===null)ga(o,h,D,fr,E),Vl(o,D);else if(rf(O,o,h,E,D))D.stopPropagation();else if(Vl(o,D),h&4&&-1<of.indexOf(o)){for(;O!==null;){var p=Eo(O);if(p!==null&&_c(p),p=Ua(o,h,E,D),p===null&&ga(o,h,D,fr,E),p===O)break;O=p}O!==null&&D.stopPropagation()}else ga(o,h,D,null,E)}}var fr=null;function Ua(o,h,E,D){if(fr=null,o=Os(D),o=Fn(o),o!==null)if(h=Kn(o),h===null)o=null;else if(E=h.tag,E===13){if(o=uc(h),o!==null)return o;o=null}else if(E===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;o=null}else h!==o&&(o=null);return fr=o,null}function wc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qh()){case Ds:return 1;case fc:return 4;case cr:case Xh:return 16;case pc:return 536870912;default:return 16}default:return 16}}var xn=null,As=null,Qo=null;function Ec(){if(Qo)return Qo;var o,h=As,E=h.length,D,O="value"in xn?xn.value:xn.textContent,p=O.length;for(o=0;o<E&&h[o]===O[o];o++);var x=E-o;for(D=1;D<=x&&h[E-D]===O[p-D];D++);return Qo=O.slice(o,1<D?1-D:void 0)}function Jo(o){var h=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&h===13&&(o=13)):o=h,o===10&&(o=13),32<=o||o===13?o:0}function Ro(){return!0}function Rl(){return!1}function Et(o){function h(E,D,O,p,x){this._reactName=E,this._targetInst=O,this.type=D,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var w in o)o.hasOwnProperty(w)&&(E=o[w],this[w]=E?E(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ro:Rl,this.isPropagationStopped=Rl,this}return Be(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),h}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Et(Pi),wo=Be({},Pi,{view:0,detail:0}),uf=Et(wo),aa,sa,Fi,Hr=Be({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Fi&&(Fi&&o.type==="mousemove"?(aa=o.screenX-Fi.screenX,sa=o.screenY-Fi.screenY):sa=aa=0,Fi=o),aa)},movementY:function(o){return"movementY"in o?o.movementY:sa}}),Fl=Et(Hr),cf=Be({},Hr,{dataTransfer:0}),df=Et(cf),hf=Be({},wo,{relatedTarget:0}),la=Et(hf),ff=Be({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),pf=Et(ff),gf=Be({},Pi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),vf=Et(gf),_f=Be({},Pi,{data:0}),Ll=Et(_f),mf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xf(o){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(o):(o=bf[o])?!!h[o]:!1}function Vs(){return xf}var wf=Be({},wo,{key:function(o){if(o.key){var h=mf[o.key]||o.key;if(h!=="Unidentified")return h}return o.type==="keypress"?(o=Jo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?yf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(o){return o.type==="keypress"?Jo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Jo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ef=Et(wf),Cf=Be({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nl=Et(Cf),kf=Be({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),Sf=Et(kf),If=Be({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pf=Et(If),Of=Be({},Hr,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Df=Et(Of),Mf=[9,13,27,32],js=rn&&"CompositionEvent"in window,Xi=null;rn&&"documentMode"in document&&(Xi=document.documentMode);var Tf=rn&&"TextEvent"in window&&!Xi,Cc=rn&&(!js||Xi&&8<Xi&&11>=Xi),zl=" ",Bl=!1;function kc(o,h){switch(o){case"keyup":return Mf.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sc(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var oi=!1;function Hf(o,h){switch(o){case"compositionend":return Sc(h);case"keypress":return h.which!==32?null:(Bl=!0,zl);case"textInput":return o=h.data,o===zl&&Bl?null:o;default:return null}}function Af(o,h){if(oi)return o==="compositionend"||!js&&kc(o,h)?(o=Ec(),Qo=As=xn=null,oi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Cc&&h.locale!=="ko"?null:h.data;default:return null}}var $f={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wl(o){var h=o&&o.nodeName&&o.nodeName.toLowerCase();return h==="input"?!!$f[o.type]:h==="textarea"}function Ic(o,h,E,D){oc(D),h=pr(h,"onChange"),0<h.length&&(E=new $s("onChange","change",null,E,D),o.push({event:E,listeners:h}))}var Ki=null,lo=null;function Vf(o){Rc(o,0)}function Ar(o){var h=si(o);if(Qu(h))return o}function jf(o,h){if(o==="change")return h}var Pc=!1;if(rn){var ua;if(rn){var ca="oninput"in document;if(!ca){var Ul=document.createElement("div");Ul.setAttribute("oninput","return;"),ca=typeof Ul.oninput=="function"}ua=ca}else ua=!1;Pc=ua&&(!document.documentMode||9<document.documentMode)}function Gl(){Ki&&(Ki.detachEvent("onpropertychange",Oc),lo=Ki=null)}function Oc(o){if(o.propertyName==="value"&&Ar(lo)){var h=[];Ic(h,lo,o,Os(o)),lc(Vf,h)}}function Rf(o,h,E){o==="focusin"?(Gl(),Ki=h,lo=E,Ki.attachEvent("onpropertychange",Oc)):o==="focusout"&&Gl()}function Ff(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ar(lo)}function Lf(o,h){if(o==="click")return Ar(h)}function Nf(o,h){if(o==="input"||o==="change")return Ar(h)}function zf(o,h){return o===h&&(o!==0||1/o===1/h)||o!==o&&h!==h}var Ft=typeof Object.is=="function"?Object.is:zf;function uo(o,h){if(Ft(o,h))return!0;if(typeof o!="object"||o===null||typeof h!="object"||h===null)return!1;var E=Object.keys(o),D=Object.keys(h);if(E.length!==D.length)return!1;for(D=0;D<E.length;D++){var O=E[D];if(!Ia.call(h,O)||!Ft(o[O],h[O]))return!1}return!0}function Yl(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ql(o,h){var E=Yl(o);o=0;for(var D;E;){if(E.nodeType===3){if(D=o+E.textContent.length,o<=h&&D>=h)return{node:E,offset:h-o};o=D}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=Yl(E)}}function Dc(o,h){return o&&h?o===h?!0:o&&o.nodeType===3?!1:h&&h.nodeType===3?Dc(o,h.parentNode):"contains"in o?o.contains(h):o.compareDocumentPosition?!!(o.compareDocumentPosition(h)&16):!1:!1}function Mc(){for(var o=window,h=sr();h instanceof o.HTMLIFrameElement;){try{var E=typeof h.contentWindow.location.href=="string"}catch{E=!1}if(E)o=h.contentWindow;else break;h=sr(o.document)}return h}function Rs(o){var h=o&&o.nodeName&&o.nodeName.toLowerCase();return h&&(h==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||h==="textarea"||o.contentEditable==="true")}function Bf(o){var h=Mc(),E=o.focusedElem,D=o.selectionRange;if(h!==E&&E&&E.ownerDocument&&Dc(E.ownerDocument.documentElement,E)){if(D!==null&&Rs(E)){if(h=D.start,o=D.end,o===void 0&&(o=h),"selectionStart"in E)E.selectionStart=h,E.selectionEnd=Math.min(o,E.value.length);else if(o=(h=E.ownerDocument||document)&&h.defaultView||window,o.getSelection){o=o.getSelection();var O=E.textContent.length,p=Math.min(D.start,O);D=D.end===void 0?p:Math.min(D.end,O),!o.extend&&p>D&&(O=D,D=p,p=O),O=ql(E,p);var x=ql(E,D);O&&x&&(o.rangeCount!==1||o.anchorNode!==O.node||o.anchorOffset!==O.offset||o.focusNode!==x.node||o.focusOffset!==x.offset)&&(h=h.createRange(),h.setStart(O.node,O.offset),o.removeAllRanges(),p>D?(o.addRange(h),o.extend(x.node,x.offset)):(h.setEnd(x.node,x.offset),o.addRange(h)))}}for(h=[],o=E;o=o.parentNode;)o.nodeType===1&&h.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<h.length;E++)o=h[E],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Wf=rn&&"documentMode"in document&&11>=document.documentMode,ri=null,Ga=null,Qi=null,Ya=!1;function Xl(o,h,E){var D=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;Ya||ri==null||ri!==sr(D)||(D=ri,"selectionStart"in D&&Rs(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),Qi&&uo(Qi,D)||(Qi=D,D=pr(Ga,"onSelect"),0<D.length&&(h=new $s("onSelect","select",null,h,E),o.push({event:h,listeners:D}),h.target=ri)))}function Fo(o,h){var E={};return E[o.toLowerCase()]=h.toLowerCase(),E["Webkit"+o]="webkit"+h,E["Moz"+o]="moz"+h,E}var ai={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionend:Fo("Transition","TransitionEnd")},da={},Tc={};rn&&(Tc=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function $r(o){if(da[o])return da[o];if(!ai[o])return o;var h=ai[o],E;for(E in h)if(h.hasOwnProperty(E)&&E in Tc)return da[o]=h[E];return o}var Hc=$r("animationend"),Ac=$r("animationiteration"),$c=$r("animationstart"),Vc=$r("transitionend"),jc=new Map,Kl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(o,h){jc.set(o,h),Xn(h,[o])}for(var ha=0;ha<Kl.length;ha++){var fa=Kl[ha],Uf=fa.toLowerCase(),Gf=fa[0].toUpperCase()+fa.slice(1);Hn(Uf,"on"+Gf)}Hn(Hc,"onAnimationEnd");Hn(Ac,"onAnimationIteration");Hn($c,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(Vc,"onTransitionEnd");bi("onMouseEnter",["mouseout","mouseover"]);bi("onMouseLeave",["mouseout","mouseover"]);bi("onPointerEnter",["pointerout","pointerover"]);bi("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function Ql(o,h,E){var D=o.type||"unknown-event";o.currentTarget=E,Wh(D,h,void 0,o),o.currentTarget=null}function Rc(o,h){h=(h&4)!==0;for(var E=0;E<o.length;E++){var D=o[E],O=D.event;D=D.listeners;e:{var p=void 0;if(h)for(var x=D.length-1;0<=x;x--){var w=D[x],C=w.instance,b=w.currentTarget;if(w=w.listener,C!==p&&O.isPropagationStopped())break e;Ql(O,w,b),p=C}else for(x=0;x<D.length;x++){if(w=D[x],C=w.instance,b=w.currentTarget,w=w.listener,C!==p&&O.isPropagationStopped())break e;Ql(O,w,b),p=C}}}if(ur)throw o=za,ur=!1,za=null,o}function Ve(o,h){var E=h[Ja];E===void 0&&(E=h[Ja]=new Set);var D=o+"__bubble";E.has(D)||(Fc(h,o,2,!1),E.add(D))}function pa(o,h,E){var D=0;h&&(D|=4),Fc(E,o,D,h)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function co(o){if(!o[Lo]){o[Lo]=!0,Gu.forEach(function(E){E!=="selectionchange"&&(Yf.has(E)||pa(E,!1,o),pa(E,!0,o))});var h=o.nodeType===9?o:o.ownerDocument;h===null||h[Lo]||(h[Lo]=!0,pa("selectionchange",!1,h))}}function Fc(o,h,E,D){switch(wc(h)){case 1:var O=sf;break;case 4:O=lf;break;default:O=Hs}E=O.bind(null,h,E,o),O=void 0,!Na||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(O=!0),D?O!==void 0?o.addEventListener(h,E,{capture:!0,passive:O}):o.addEventListener(h,E,!0):O!==void 0?o.addEventListener(h,E,{passive:O}):o.addEventListener(h,E,!1)}function ga(o,h,E,D,O){var p=D;if(!(h&1)&&!(h&2)&&D!==null)e:for(;;){if(D===null)return;var x=D.tag;if(x===3||x===4){var w=D.stateNode.containerInfo;if(w===O||w.nodeType===8&&w.parentNode===O)break;if(x===4)for(x=D.return;x!==null;){var C=x.tag;if((C===3||C===4)&&(C=x.stateNode.containerInfo,C===O||C.nodeType===8&&C.parentNode===O))return;x=x.return}for(;w!==null;){if(x=Fn(w),x===null)return;if(C=x.tag,C===5||C===6){D=p=x;continue e}w=w.parentNode}}D=D.return}lc(function(){var b=p,y=Os(E),g=[];e:{var d=jc.get(o);if(d!==void 0){var _=$s,f=o;switch(o){case"keypress":if(Jo(E)===0)break e;case"keydown":case"keyup":_=Ef;break;case"focusin":f="focus",_=la;break;case"focusout":f="blur",_=la;break;case"beforeblur":case"afterblur":_=la;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Sf;break;case Hc:case Ac:case $c:_=pf;break;case Vc:_=Pf;break;case"scroll":_=uf;break;case"wheel":_=Df;break;case"copy":case"cut":case"paste":_=vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Nl}var l=(h&4)!==0,u=!l&&o==="scroll",r=l?d!==null?d+"Capture":null:d;l=[];for(var s=b,t;s!==null;){t=s;var n=t.stateNode;if(t.tag===5&&n!==null&&(t=n,r!==null&&(n=oo(s,r),n!=null&&l.push(ho(s,n,t)))),u)break;s=s.return}0<l.length&&(d=new _(d,f,null,E,y),g.push({event:d,listeners:l}))}}if(!(h&7)){e:{if(d=o==="mouseover"||o==="pointerover",_=o==="mouseout"||o==="pointerout",d&&E!==Fa&&(f=E.relatedTarget||E.fromElement)&&(Fn(f)||f[an]))break e;if((_||d)&&(d=y.window===y?y:(d=y.ownerDocument)?d.defaultView||d.parentWindow:window,_?(f=E.relatedTarget||E.toElement,_=b,f=f?Fn(f):null,f!==null&&(u=Kn(f),f!==u||f.tag!==5&&f.tag!==6)&&(f=null)):(_=null,f=b),_!==f)){if(l=Fl,n="onMouseLeave",r="onMouseEnter",s="mouse",(o==="pointerout"||o==="pointerover")&&(l=Nl,n="onPointerLeave",r="onPointerEnter",s="pointer"),u=_==null?d:si(_),t=f==null?d:si(f),d=new l(n,s+"leave",_,E,y),d.target=u,d.relatedTarget=t,n=null,Fn(y)===b&&(l=new l(r,s+"enter",f,E,y),l.target=t,l.relatedTarget=u,n=l),u=n,_&&f)t:{for(l=_,r=f,s=0,t=l;t;t=ti(t))s++;for(t=0,n=r;n;n=ti(n))t++;for(;0<s-t;)l=ti(l),s--;for(;0<t-s;)r=ti(r),t--;for(;s--;){if(l===r||r!==null&&l===r.alternate)break t;l=ti(l),r=ti(r)}l=null}else l=null;_!==null&&Jl(g,d,_,l,!1),f!==null&&u!==null&&Jl(g,u,f,l,!0)}}e:{if(d=b?si(b):window,_=d.nodeName&&d.nodeName.toLowerCase(),_==="select"||_==="input"&&d.type==="file")var i=jf;else if(Wl(d))if(Pc)i=Nf;else{i=Ff;var e=Rf}else(_=d.nodeName)&&_.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(i=Lf);if(i&&(i=i(o,b))){Ic(g,i,E,y);break e}e&&e(o,d,b),o==="focusout"&&(e=d._wrapperState)&&e.controlled&&d.type==="number"&&Aa(d,"number",d.value)}switch(e=b?si(b):window,o){case"focusin":(Wl(e)||e.contentEditable==="true")&&(ri=e,Ga=b,Qi=null);break;case"focusout":Qi=Ga=ri=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,Xl(g,E,y);break;case"selectionchange":if(Wf)break;case"keydown":case"keyup":Xl(g,E,y)}var a;if(js)e:{switch(o){case"compositionstart":var c="onCompositionStart";break e;case"compositionend":c="onCompositionEnd";break e;case"compositionupdate":c="onCompositionUpdate";break e}c=void 0}else oi?kc(o,E)&&(c="onCompositionEnd"):o==="keydown"&&E.keyCode===229&&(c="onCompositionStart");c&&(Cc&&E.locale!=="ko"&&(oi||c!=="onCompositionStart"?c==="onCompositionEnd"&&oi&&(a=Ec()):(xn=y,As="value"in xn?xn.value:xn.textContent,oi=!0)),e=pr(b,c),0<e.length&&(c=new Ll(c,o,null,E,y),g.push({event:c,listeners:e}),a?c.data=a:(a=Sc(E),a!==null&&(c.data=a)))),(a=Tf?Hf(o,E):Af(o,E))&&(b=pr(b,"onBeforeInput"),0<b.length&&(y=new Ll("onBeforeInput","beforeinput",null,E,y),g.push({event:y,listeners:b}),y.data=a))}Rc(g,h)})}function ho(o,h,E){return{instance:o,listener:h,currentTarget:E}}function pr(o,h){for(var E=h+"Capture",D=[];o!==null;){var O=o,p=O.stateNode;O.tag===5&&p!==null&&(O=p,p=oo(o,E),p!=null&&D.unshift(ho(o,p,O)),p=oo(o,h),p!=null&&D.push(ho(o,p,O))),o=o.return}return D}function ti(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Jl(o,h,E,D,O){for(var p=h._reactName,x=[];E!==null&&E!==D;){var w=E,C=w.alternate,b=w.stateNode;if(C!==null&&C===D)break;w.tag===5&&b!==null&&(w=b,O?(C=oo(E,p),C!=null&&x.unshift(ho(E,C,w))):O||(C=oo(E,p),C!=null&&x.push(ho(E,C,w)))),E=E.return}x.length!==0&&o.push({event:h,listeners:x})}var qf=/\r\n?/g,Xf=/\u0000|\uFFFD/g;function Zl(o){return(typeof o=="string"?o:""+o).replace(qf,`
`).replace(Xf,"")}function No(o,h,E){if(h=Zl(h),Zl(o)!==h&&E)throw Error(fe(425))}function gr(){}var qa=null,Xa=null;function Ka(o,h){return o==="textarea"||o==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Qa=typeof setTimeout=="function"?setTimeout:void 0,Kf=typeof clearTimeout=="function"?clearTimeout:void 0,eu=typeof Promise=="function"?Promise:void 0,Qf=typeof queueMicrotask=="function"?queueMicrotask:typeof eu<"u"?function(o){return eu.resolve(null).then(o).catch(Jf)}:Qa;function Jf(o){setTimeout(function(){throw o})}function va(o,h){var E=h,D=0;do{var O=E.nextSibling;if(o.removeChild(E),O&&O.nodeType===8)if(E=O.data,E==="/$"){if(D===0){o.removeChild(O),so(h);return}D--}else E!=="$"&&E!=="$?"&&E!=="$!"||D++;E=O}while(E);so(h)}function Sn(o){for(;o!=null;o=o.nextSibling){var h=o.nodeType;if(h===1||h===3)break;if(h===8){if(h=o.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return o}function tu(o){o=o.previousSibling;for(var h=0;o;){if(o.nodeType===8){var E=o.data;if(E==="$"||E==="$!"||E==="$?"){if(h===0)return o;h--}else E==="/$"&&h++}o=o.previousSibling}return null}var Oi=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Oi,fo="__reactProps$"+Oi,an="__reactContainer$"+Oi,Ja="__reactEvents$"+Oi,Zf="__reactListeners$"+Oi,ep="__reactHandles$"+Oi;function Fn(o){var h=o[Gt];if(h)return h;for(var E=o.parentNode;E;){if(h=E[an]||E[Gt]){if(E=h.alternate,h.child!==null||E!==null&&E.child!==null)for(o=tu(o);o!==null;){if(E=o[Gt])return E;o=tu(o)}return h}o=E,E=o.parentNode}return null}function Eo(o){return o=o[Gt]||o[an],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function si(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(fe(33))}function Vr(o){return o[fo]||null}var Za=[],li=-1;function An(o){return{current:o}}function je(o){0>li||(o.current=Za[li],Za[li]=null,li--)}function $e(o,h){li++,Za[li]=o.current,o.current=h}var Tn={},lt=An(Tn),gt=An(!1),Wn=Tn;function xi(o,h){var E=o.type.contextTypes;if(!E)return Tn;var D=o.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===h)return D.__reactInternalMemoizedMaskedChildContext;var O={},p;for(p in E)O[p]=h[p];return D&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=h,o.__reactInternalMemoizedMaskedChildContext=O),O}function vt(o){return o=o.childContextTypes,o!=null}function vr(){je(gt),je(lt)}function nu(o,h,E){if(lt.current!==Tn)throw Error(fe(168));$e(lt,h),$e(gt,E)}function Lc(o,h,E){var D=o.stateNode;if(h=h.childContextTypes,typeof D.getChildContext!="function")return E;D=D.getChildContext();for(var O in D)if(!(O in h))throw Error(fe(108,jh(o)||"Unknown",O));return Be({},E,D)}function _r(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Tn,Wn=lt.current,$e(lt,o),$e(gt,gt.current),!0}function iu(o,h,E){var D=o.stateNode;if(!D)throw Error(fe(169));E?(o=Lc(o,h,Wn),D.__reactInternalMemoizedMergedChildContext=o,je(gt),je(lt),$e(lt,o)):je(gt),$e(gt,E)}var en=null,jr=!1,_a=!1;function Nc(o){en===null?en=[o]:en.push(o)}function tp(o){jr=!0,Nc(o)}function $n(){if(!_a&&en!==null){_a=!0;var o=0,h=Te;try{var E=en;for(Te=1;o<E.length;o++){var D=E[o];do D=D(!0);while(D!==null)}en=null,jr=!1}catch(O){throw en!==null&&(en=en.slice(o+1)),hc(Ds,$n),O}finally{Te=h,_a=!1}}return null}var ui=[],ci=0,mr=null,yr=0,kt=[],St=0,Un=null,tn=1,nn="";function jn(o,h){ui[ci++]=yr,ui[ci++]=mr,mr=o,yr=h}function zc(o,h,E){kt[St++]=tn,kt[St++]=nn,kt[St++]=Un,Un=o;var D=tn;o=nn;var O=32-jt(D)-1;D&=~(1<<O),E+=1;var p=32-jt(h)+O;if(30<p){var x=O-O%5;p=(D&(1<<x)-1).toString(32),D>>=x,O-=x,tn=1<<32-jt(h)+O|E<<O|D,nn=p+o}else tn=1<<p|E<<O|D,nn=o}function Fs(o){o.return!==null&&(jn(o,1),zc(o,1,0))}function Ls(o){for(;o===mr;)mr=ui[--ci],ui[ci]=null,yr=ui[--ci],ui[ci]=null;for(;o===Un;)Un=kt[--St],kt[St]=null,nn=kt[--St],kt[St]=null,tn=kt[--St],kt[St]=null}var bt=null,yt=null,Re=!1,Vt=null;function Bc(o,h){var E=It(5,null,null,0);E.elementType="DELETED",E.stateNode=h,E.return=o,h=o.deletions,h===null?(o.deletions=[E],o.flags|=16):h.push(E)}function ou(o,h){switch(o.tag){case 5:var E=o.type;return h=h.nodeType!==1||E.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(o.stateNode=h,bt=o,yt=Sn(h.firstChild),!0):!1;case 6:return h=o.pendingProps===""||h.nodeType!==3?null:h,h!==null?(o.stateNode=h,bt=o,yt=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(E=Un!==null?{id:tn,overflow:nn}:null,o.memoizedState={dehydrated:h,treeContext:E,retryLane:1073741824},E=It(18,null,null,0),E.stateNode=h,E.return=o,o.child=E,bt=o,yt=null,!0):!1;default:return!1}}function es(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ts(o){if(Re){var h=yt;if(h){var E=h;if(!ou(o,h)){if(es(o))throw Error(fe(418));h=Sn(E.nextSibling);var D=bt;h&&ou(o,h)?Bc(D,E):(o.flags=o.flags&-4097|2,Re=!1,bt=o)}}else{if(es(o))throw Error(fe(418));o.flags=o.flags&-4097|2,Re=!1,bt=o}}}function ru(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;bt=o}function zo(o){if(o!==bt)return!1;if(!Re)return ru(o),Re=!0,!1;var h;if((h=o.tag!==3)&&!(h=o.tag!==5)&&(h=o.type,h=h!=="head"&&h!=="body"&&!Ka(o.type,o.memoizedProps)),h&&(h=yt)){if(es(o))throw Wc(),Error(fe(418));for(;h;)Bc(o,h),h=Sn(h.nextSibling)}if(ru(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(fe(317));e:{for(o=o.nextSibling,h=0;o;){if(o.nodeType===8){var E=o.data;if(E==="/$"){if(h===0){yt=Sn(o.nextSibling);break e}h--}else E!=="$"&&E!=="$!"&&E!=="$?"||h++}o=o.nextSibling}yt=null}}else yt=bt?Sn(o.stateNode.nextSibling):null;return!0}function Wc(){for(var o=yt;o;)o=Sn(o.nextSibling)}function wi(){yt=bt=null,Re=!1}function Ns(o){Vt===null?Vt=[o]:Vt.push(o)}var np=un.ReactCurrentBatchConfig;function Li(o,h,E){if(o=E.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(fe(309));var D=E.stateNode}if(!D)throw Error(fe(147,o));var O=D,p=""+o;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===p?h.ref:(h=function(x){var w=O.refs;x===null?delete w[p]:w[p]=x},h._stringRef=p,h)}if(typeof o!="string")throw Error(fe(284));if(!E._owner)throw Error(fe(290,o))}return o}function Bo(o,h){throw o=Object.prototype.toString.call(h),Error(fe(31,o==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":o))}function au(o){var h=o._init;return h(o._payload)}function Uc(o){function h(r,s){if(o){var t=r.deletions;t===null?(r.deletions=[s],r.flags|=16):t.push(s)}}function E(r,s){if(!o)return null;for(;s!==null;)h(r,s),s=s.sibling;return null}function D(r,s){for(r=new Map;s!==null;)s.key!==null?r.set(s.key,s):r.set(s.index,s),s=s.sibling;return r}function O(r,s){return r=Dn(r,s),r.index=0,r.sibling=null,r}function p(r,s,t){return r.index=t,o?(t=r.alternate,t!==null?(t=t.index,t<s?(r.flags|=2,s):t):(r.flags|=2,s)):(r.flags|=1048576,s)}function x(r){return o&&r.alternate===null&&(r.flags|=2),r}function w(r,s,t,n){return s===null||s.tag!==6?(s=Ca(t,r.mode,n),s.return=r,s):(s=O(s,t),s.return=r,s)}function C(r,s,t,n){var i=t.type;return i===ii?y(r,s,t.props.children,n,t.key):s!==null&&(s.elementType===i||typeof i=="object"&&i!==null&&i.$$typeof===vn&&au(i)===s.type)?(n=O(s,t.props),n.ref=Li(r,s,t),n.return=r,n):(n=rr(t.type,t.key,t.props,null,r.mode,n),n.ref=Li(r,s,t),n.return=r,n)}function b(r,s,t,n){return s===null||s.tag!==4||s.stateNode.containerInfo!==t.containerInfo||s.stateNode.implementation!==t.implementation?(s=ka(t,r.mode,n),s.return=r,s):(s=O(s,t.children||[]),s.return=r,s)}function y(r,s,t,n,i){return s===null||s.tag!==7?(s=Bn(t,r.mode,n,i),s.return=r,s):(s=O(s,t),s.return=r,s)}function g(r,s,t){if(typeof s=="string"&&s!==""||typeof s=="number")return s=Ca(""+s,r.mode,t),s.return=r,s;if(typeof s=="object"&&s!==null){switch(s.$$typeof){case To:return t=rr(s.type,s.key,s.props,null,r.mode,t),t.ref=Li(r,null,s),t.return=r,t;case ni:return s=ka(s,r.mode,t),s.return=r,s;case vn:var n=s._init;return g(r,n(s._payload),t)}if(Wi(s)||$i(s))return s=Bn(s,r.mode,t,null),s.return=r,s;Bo(r,s)}return null}function d(r,s,t,n){var i=s!==null?s.key:null;if(typeof t=="string"&&t!==""||typeof t=="number")return i!==null?null:w(r,s,""+t,n);if(typeof t=="object"&&t!==null){switch(t.$$typeof){case To:return t.key===i?C(r,s,t,n):null;case ni:return t.key===i?b(r,s,t,n):null;case vn:return i=t._init,d(r,s,i(t._payload),n)}if(Wi(t)||$i(t))return i!==null?null:y(r,s,t,n,null);Bo(r,t)}return null}function _(r,s,t,n,i){if(typeof n=="string"&&n!==""||typeof n=="number")return r=r.get(t)||null,w(s,r,""+n,i);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case To:return r=r.get(n.key===null?t:n.key)||null,C(s,r,n,i);case ni:return r=r.get(n.key===null?t:n.key)||null,b(s,r,n,i);case vn:var e=n._init;return _(r,s,t,e(n._payload),i)}if(Wi(n)||$i(n))return r=r.get(t)||null,y(s,r,n,i,null);Bo(s,n)}return null}function f(r,s,t,n){for(var i=null,e=null,a=s,c=s=0,v=null;a!==null&&c<t.length;c++){a.index>c?(v=a,a=null):v=a.sibling;var m=d(r,a,t[c],n);if(m===null){a===null&&(a=v);break}o&&a&&m.alternate===null&&h(r,a),s=p(m,s,c),e===null?i=m:e.sibling=m,e=m,a=v}if(c===t.length)return E(r,a),Re&&jn(r,c),i;if(a===null){for(;c<t.length;c++)a=g(r,t[c],n),a!==null&&(s=p(a,s,c),e===null?i=a:e.sibling=a,e=a);return Re&&jn(r,c),i}for(a=D(r,a);c<t.length;c++)v=_(a,r,c,t[c],n),v!==null&&(o&&v.alternate!==null&&a.delete(v.key===null?c:v.key),s=p(v,s,c),e===null?i=v:e.sibling=v,e=v);return o&&a.forEach(function(k){return h(r,k)}),Re&&jn(r,c),i}function l(r,s,t,n){var i=$i(t);if(typeof i!="function")throw Error(fe(150));if(t=i.call(t),t==null)throw Error(fe(151));for(var e=i=null,a=s,c=s=0,v=null,m=t.next();a!==null&&!m.done;c++,m=t.next()){a.index>c?(v=a,a=null):v=a.sibling;var k=d(r,a,m.value,n);if(k===null){a===null&&(a=v);break}o&&a&&k.alternate===null&&h(r,a),s=p(k,s,c),e===null?i=k:e.sibling=k,e=k,a=v}if(m.done)return E(r,a),Re&&jn(r,c),i;if(a===null){for(;!m.done;c++,m=t.next())m=g(r,m.value,n),m!==null&&(s=p(m,s,c),e===null?i=m:e.sibling=m,e=m);return Re&&jn(r,c),i}for(a=D(r,a);!m.done;c++,m=t.next())m=_(a,r,c,m.value,n),m!==null&&(o&&m.alternate!==null&&a.delete(m.key===null?c:m.key),s=p(m,s,c),e===null?i=m:e.sibling=m,e=m);return o&&a.forEach(function(I){return h(r,I)}),Re&&jn(r,c),i}function u(r,s,t,n){if(typeof t=="object"&&t!==null&&t.type===ii&&t.key===null&&(t=t.props.children),typeof t=="object"&&t!==null){switch(t.$$typeof){case To:e:{for(var i=t.key,e=s;e!==null;){if(e.key===i){if(i=t.type,i===ii){if(e.tag===7){E(r,e.sibling),s=O(e,t.props.children),s.return=r,r=s;break e}}else if(e.elementType===i||typeof i=="object"&&i!==null&&i.$$typeof===vn&&au(i)===e.type){E(r,e.sibling),s=O(e,t.props),s.ref=Li(r,e,t),s.return=r,r=s;break e}E(r,e);break}else h(r,e);e=e.sibling}t.type===ii?(s=Bn(t.props.children,r.mode,n,t.key),s.return=r,r=s):(n=rr(t.type,t.key,t.props,null,r.mode,n),n.ref=Li(r,s,t),n.return=r,r=n)}return x(r);case ni:e:{for(e=t.key;s!==null;){if(s.key===e)if(s.tag===4&&s.stateNode.containerInfo===t.containerInfo&&s.stateNode.implementation===t.implementation){E(r,s.sibling),s=O(s,t.children||[]),s.return=r,r=s;break e}else{E(r,s);break}else h(r,s);s=s.sibling}s=ka(t,r.mode,n),s.return=r,r=s}return x(r);case vn:return e=t._init,u(r,s,e(t._payload),n)}if(Wi(t))return f(r,s,t,n);if($i(t))return l(r,s,t,n);Bo(r,t)}return typeof t=="string"&&t!==""||typeof t=="number"?(t=""+t,s!==null&&s.tag===6?(E(r,s.sibling),s=O(s,t),s.return=r,r=s):(E(r,s),s=Ca(t,r.mode,n),s.return=r,r=s),x(r)):E(r,s)}return u}var Ei=Uc(!0),Gc=Uc(!1),br=An(null),xr=null,di=null,zs=null;function Bs(){zs=di=xr=null}function Ws(o){var h=br.current;je(br),o._currentValue=h}function ns(o,h,E){for(;o!==null;){var D=o.alternate;if((o.childLanes&h)!==h?(o.childLanes|=h,D!==null&&(D.childLanes|=h)):D!==null&&(D.childLanes&h)!==h&&(D.childLanes|=h),o===E)break;o=o.return}}function mi(o,h){xr=o,zs=di=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&h&&(pt=!0),o.firstContext=null)}function Ot(o){var h=o._currentValue;if(zs!==o)if(o={context:o,memoizedValue:h,next:null},di===null){if(xr===null)throw Error(fe(308));di=o,xr.dependencies={lanes:0,firstContext:o}}else di=di.next=o;return h}var Ln=null;function Us(o){Ln===null?Ln=[o]:Ln.push(o)}function Yc(o,h,E,D){var O=h.interleaved;return O===null?(E.next=E,Us(h)):(E.next=O.next,O.next=E),h.interleaved=E,sn(o,D)}function sn(o,h){o.lanes|=h;var E=o.alternate;for(E!==null&&(E.lanes|=h),E=o,o=o.return;o!==null;)o.childLanes|=h,E=o.alternate,E!==null&&(E.childLanes|=h),E=o,o=o.return;return E.tag===3?E.stateNode:null}var _n=!1;function Gs(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qc(o,h){o=o.updateQueue,h.updateQueue===o&&(h.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function on(o,h){return{eventTime:o,lane:h,tag:0,payload:null,callback:null,next:null}}function In(o,h,E){var D=o.updateQueue;if(D===null)return null;if(D=D.shared,De&2){var O=D.pending;return O===null?h.next=h:(h.next=O.next,O.next=h),D.pending=h,sn(o,E)}return O=D.interleaved,O===null?(h.next=h,Us(D)):(h.next=O.next,O.next=h),D.interleaved=h,sn(o,E)}function Zo(o,h,E){if(h=h.updateQueue,h!==null&&(h=h.shared,(E&4194240)!==0)){var D=h.lanes;D&=o.pendingLanes,E|=D,h.lanes=E,Ms(o,E)}}function su(o,h){var E=o.updateQueue,D=o.alternate;if(D!==null&&(D=D.updateQueue,E===D)){var O=null,p=null;if(E=E.firstBaseUpdate,E!==null){do{var x={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};p===null?O=p=x:p=p.next=x,E=E.next}while(E!==null);p===null?O=p=h:p=p.next=h}else O=p=h;E={baseState:D.baseState,firstBaseUpdate:O,lastBaseUpdate:p,shared:D.shared,effects:D.effects},o.updateQueue=E;return}o=E.lastBaseUpdate,o===null?E.firstBaseUpdate=h:o.next=h,E.lastBaseUpdate=h}function wr(o,h,E,D){var O=o.updateQueue;_n=!1;var p=O.firstBaseUpdate,x=O.lastBaseUpdate,w=O.shared.pending;if(w!==null){O.shared.pending=null;var C=w,b=C.next;C.next=null,x===null?p=b:x.next=b,x=C;var y=o.alternate;y!==null&&(y=y.updateQueue,w=y.lastBaseUpdate,w!==x&&(w===null?y.firstBaseUpdate=b:w.next=b,y.lastBaseUpdate=C))}if(p!==null){var g=O.baseState;x=0,y=b=C=null,w=p;do{var d=w.lane,_=w.eventTime;if((D&d)===d){y!==null&&(y=y.next={eventTime:_,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var f=o,l=w;switch(d=h,_=E,l.tag){case 1:if(f=l.payload,typeof f=="function"){g=f.call(_,g,d);break e}g=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=l.payload,d=typeof f=="function"?f.call(_,g,d):f,d==null)break e;g=Be({},g,d);break e;case 2:_n=!0}}w.callback!==null&&w.lane!==0&&(o.flags|=64,d=O.effects,d===null?O.effects=[w]:d.push(w))}else _={eventTime:_,lane:d,tag:w.tag,payload:w.payload,callback:w.callback,next:null},y===null?(b=y=_,C=g):y=y.next=_,x|=d;if(w=w.next,w===null){if(w=O.shared.pending,w===null)break;d=w,w=d.next,d.next=null,O.lastBaseUpdate=d,O.shared.pending=null}}while(!0);if(y===null&&(C=g),O.baseState=C,O.firstBaseUpdate=b,O.lastBaseUpdate=y,h=O.shared.interleaved,h!==null){O=h;do x|=O.lane,O=O.next;while(O!==h)}else p===null&&(O.shared.lanes=0);Yn|=x,o.lanes=x,o.memoizedState=g}}function lu(o,h,E){if(o=h.effects,h.effects=null,o!==null)for(h=0;h<o.length;h++){var D=o[h],O=D.callback;if(O!==null){if(D.callback=null,D=E,typeof O!="function")throw Error(fe(191,O));O.call(D)}}}var Co={},qt=An(Co),po=An(Co),go=An(Co);function Nn(o){if(o===Co)throw Error(fe(174));return o}function Ys(o,h){switch($e(go,h),$e(po,o),$e(qt,Co),o=h.nodeType,o){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Va(null,"");break;default:o=o===8?h.parentNode:h,h=o.namespaceURI||null,o=o.tagName,h=Va(h,o)}je(qt),$e(qt,h)}function Ci(){je(qt),je(po),je(go)}function Xc(o){Nn(go.current);var h=Nn(qt.current),E=Va(h,o.type);h!==E&&($e(po,o),$e(qt,E))}function qs(o){po.current===o&&(je(qt),je(po))}var Ne=An(0);function Er(o){for(var h=o;h!==null;){if(h.tag===13){var E=h.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var ma=[];function Xs(){for(var o=0;o<ma.length;o++)ma[o]._workInProgressVersionPrimary=null;ma.length=0}var er=un.ReactCurrentDispatcher,ya=un.ReactCurrentBatchConfig,Gn=0,ze=null,Qe=null,et=null,Cr=!1,Ji=!1,vo=0,ip=0;function rt(){throw Error(fe(321))}function Ks(o,h){if(h===null)return!1;for(var E=0;E<h.length&&E<o.length;E++)if(!Ft(o[E],h[E]))return!1;return!0}function Qs(o,h,E,D,O,p){if(Gn=p,ze=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,er.current=o===null||o.memoizedState===null?sp:lp,o=E(D,O),Ji){p=0;do{if(Ji=!1,vo=0,25<=p)throw Error(fe(301));p+=1,et=Qe=null,h.updateQueue=null,er.current=up,o=E(D,O)}while(Ji)}if(er.current=kr,h=Qe!==null&&Qe.next!==null,Gn=0,et=Qe=ze=null,Cr=!1,h)throw Error(fe(300));return o}function Js(){var o=vo!==0;return vo=0,o}function Ut(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ze.memoizedState=et=o:et=et.next=o,et}function Dt(){if(Qe===null){var o=ze.alternate;o=o!==null?o.memoizedState:null}else o=Qe.next;var h=et===null?ze.memoizedState:et.next;if(h!==null)et=h,Qe=o;else{if(o===null)throw Error(fe(310));Qe=o,o={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},et===null?ze.memoizedState=et=o:et=et.next=o}return et}function _o(o,h){return typeof h=="function"?h(o):h}function ba(o){var h=Dt(),E=h.queue;if(E===null)throw Error(fe(311));E.lastRenderedReducer=o;var D=Qe,O=D.baseQueue,p=E.pending;if(p!==null){if(O!==null){var x=O.next;O.next=p.next,p.next=x}D.baseQueue=O=p,E.pending=null}if(O!==null){p=O.next,D=D.baseState;var w=x=null,C=null,b=p;do{var y=b.lane;if((Gn&y)===y)C!==null&&(C=C.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),D=b.hasEagerState?b.eagerState:o(D,b.action);else{var g={lane:y,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};C===null?(w=C=g,x=D):C=C.next=g,ze.lanes|=y,Yn|=y}b=b.next}while(b!==null&&b!==p);C===null?x=D:C.next=w,Ft(D,h.memoizedState)||(pt=!0),h.memoizedState=D,h.baseState=x,h.baseQueue=C,E.lastRenderedState=D}if(o=E.interleaved,o!==null){O=o;do p=O.lane,ze.lanes|=p,Yn|=p,O=O.next;while(O!==o)}else O===null&&(E.lanes=0);return[h.memoizedState,E.dispatch]}function xa(o){var h=Dt(),E=h.queue;if(E===null)throw Error(fe(311));E.lastRenderedReducer=o;var D=E.dispatch,O=E.pending,p=h.memoizedState;if(O!==null){E.pending=null;var x=O=O.next;do p=o(p,x.action),x=x.next;while(x!==O);Ft(p,h.memoizedState)||(pt=!0),h.memoizedState=p,h.baseQueue===null&&(h.baseState=p),E.lastRenderedState=p}return[p,D]}function Kc(){}function Qc(o,h){var E=ze,D=Dt(),O=h(),p=!Ft(D.memoizedState,O);if(p&&(D.memoizedState=O,pt=!0),D=D.queue,Zs(ed.bind(null,E,D,o),[o]),D.getSnapshot!==h||p||et!==null&&et.memoizedState.tag&1){if(E.flags|=2048,mo(9,Zc.bind(null,E,D,O,h),void 0,null),tt===null)throw Error(fe(349));Gn&30||Jc(E,h,O)}return O}function Jc(o,h,E){o.flags|=16384,o={getSnapshot:h,value:E},h=ze.updateQueue,h===null?(h={lastEffect:null,stores:null},ze.updateQueue=h,h.stores=[o]):(E=h.stores,E===null?h.stores=[o]:E.push(o))}function Zc(o,h,E,D){h.value=E,h.getSnapshot=D,td(h)&&nd(o)}function ed(o,h,E){return E(function(){td(h)&&nd(o)})}function td(o){var h=o.getSnapshot;o=o.value;try{var E=h();return!Ft(o,E)}catch{return!0}}function nd(o){var h=sn(o,1);h!==null&&Rt(h,o,1,-1)}function uu(o){var h=Ut();return typeof o=="function"&&(o=o()),h.memoizedState=h.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:o},h.queue=o,o=o.dispatch=ap.bind(null,ze,o),[h.memoizedState,o]}function mo(o,h,E,D){return o={tag:o,create:h,destroy:E,deps:D,next:null},h=ze.updateQueue,h===null?(h={lastEffect:null,stores:null},ze.updateQueue=h,h.lastEffect=o.next=o):(E=h.lastEffect,E===null?h.lastEffect=o.next=o:(D=E.next,E.next=o,o.next=D,h.lastEffect=o)),o}function id(){return Dt().memoizedState}function tr(o,h,E,D){var O=Ut();ze.flags|=o,O.memoizedState=mo(1|h,E,void 0,D===void 0?null:D)}function Rr(o,h,E,D){var O=Dt();D=D===void 0?null:D;var p=void 0;if(Qe!==null){var x=Qe.memoizedState;if(p=x.destroy,D!==null&&Ks(D,x.deps)){O.memoizedState=mo(h,E,p,D);return}}ze.flags|=o,O.memoizedState=mo(1|h,E,p,D)}function cu(o,h){return tr(8390656,8,o,h)}function Zs(o,h){return Rr(2048,8,o,h)}function od(o,h){return Rr(4,2,o,h)}function rd(o,h){return Rr(4,4,o,h)}function ad(o,h){if(typeof h=="function")return o=o(),h(o),function(){h(null)};if(h!=null)return o=o(),h.current=o,function(){h.current=null}}function sd(o,h,E){return E=E!=null?E.concat([o]):null,Rr(4,4,ad.bind(null,h,o),E)}function el(){}function ld(o,h){var E=Dt();h=h===void 0?null:h;var D=E.memoizedState;return D!==null&&h!==null&&Ks(h,D[1])?D[0]:(E.memoizedState=[o,h],o)}function ud(o,h){var E=Dt();h=h===void 0?null:h;var D=E.memoizedState;return D!==null&&h!==null&&Ks(h,D[1])?D[0]:(o=o(),E.memoizedState=[o,h],o)}function cd(o,h,E){return Gn&21?(Ft(E,h)||(E=gc(),ze.lanes|=E,Yn|=E,o.baseState=!0),h):(o.baseState&&(o.baseState=!1,pt=!0),o.memoizedState=E)}function op(o,h){var E=Te;Te=E!==0&&4>E?E:4,o(!0);var D=ya.transition;ya.transition={};try{o(!1),h()}finally{Te=E,ya.transition=D}}function dd(){return Dt().memoizedState}function rp(o,h,E){var D=On(o);if(E={lane:D,action:E,hasEagerState:!1,eagerState:null,next:null},hd(o))fd(h,E);else if(E=Yc(o,h,E,D),E!==null){var O=ct();Rt(E,o,D,O),pd(E,h,D)}}function ap(o,h,E){var D=On(o),O={lane:D,action:E,hasEagerState:!1,eagerState:null,next:null};if(hd(o))fd(h,O);else{var p=o.alternate;if(o.lanes===0&&(p===null||p.lanes===0)&&(p=h.lastRenderedReducer,p!==null))try{var x=h.lastRenderedState,w=p(x,E);if(O.hasEagerState=!0,O.eagerState=w,Ft(w,x)){var C=h.interleaved;C===null?(O.next=O,Us(h)):(O.next=C.next,C.next=O),h.interleaved=O;return}}catch{}finally{}E=Yc(o,h,O,D),E!==null&&(O=ct(),Rt(E,o,D,O),pd(E,h,D))}}function hd(o){var h=o.alternate;return o===ze||h!==null&&h===ze}function fd(o,h){Ji=Cr=!0;var E=o.pending;E===null?h.next=h:(h.next=E.next,E.next=h),o.pending=h}function pd(o,h,E){if(E&4194240){var D=h.lanes;D&=o.pendingLanes,E|=D,h.lanes=E,Ms(o,E)}}var kr={readContext:Ot,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},sp={readContext:Ot,useCallback:function(o,h){return Ut().memoizedState=[o,h===void 0?null:h],o},useContext:Ot,useEffect:cu,useImperativeHandle:function(o,h,E){return E=E!=null?E.concat([o]):null,tr(4194308,4,ad.bind(null,h,o),E)},useLayoutEffect:function(o,h){return tr(4194308,4,o,h)},useInsertionEffect:function(o,h){return tr(4,2,o,h)},useMemo:function(o,h){var E=Ut();return h=h===void 0?null:h,o=o(),E.memoizedState=[o,h],o},useReducer:function(o,h,E){var D=Ut();return h=E!==void 0?E(h):h,D.memoizedState=D.baseState=h,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:h},D.queue=o,o=o.dispatch=rp.bind(null,ze,o),[D.memoizedState,o]},useRef:function(o){var h=Ut();return o={current:o},h.memoizedState=o},useState:uu,useDebugValue:el,useDeferredValue:function(o){return Ut().memoizedState=o},useTransition:function(){var o=uu(!1),h=o[0];return o=op.bind(null,o[1]),Ut().memoizedState=o,[h,o]},useMutableSource:function(){},useSyncExternalStore:function(o,h,E){var D=ze,O=Ut();if(Re){if(E===void 0)throw Error(fe(407));E=E()}else{if(E=h(),tt===null)throw Error(fe(349));Gn&30||Jc(D,h,E)}O.memoizedState=E;var p={value:E,getSnapshot:h};return O.queue=p,cu(ed.bind(null,D,p,o),[o]),D.flags|=2048,mo(9,Zc.bind(null,D,p,E,h),void 0,null),E},useId:function(){var o=Ut(),h=tt.identifierPrefix;if(Re){var E=nn,D=tn;E=(D&~(1<<32-jt(D)-1)).toString(32)+E,h=":"+h+"R"+E,E=vo++,0<E&&(h+="H"+E.toString(32)),h+=":"}else E=ip++,h=":"+h+"r"+E.toString(32)+":";return o.memoizedState=h},unstable_isNewReconciler:!1},lp={readContext:Ot,useCallback:ld,useContext:Ot,useEffect:Zs,useImperativeHandle:sd,useInsertionEffect:od,useLayoutEffect:rd,useMemo:ud,useReducer:ba,useRef:id,useState:function(){return ba(_o)},useDebugValue:el,useDeferredValue:function(o){var h=Dt();return cd(h,Qe.memoizedState,o)},useTransition:function(){var o=ba(_o)[0],h=Dt().memoizedState;return[o,h]},useMutableSource:Kc,useSyncExternalStore:Qc,useId:dd,unstable_isNewReconciler:!1},up={readContext:Ot,useCallback:ld,useContext:Ot,useEffect:Zs,useImperativeHandle:sd,useInsertionEffect:od,useLayoutEffect:rd,useMemo:ud,useReducer:xa,useRef:id,useState:function(){return xa(_o)},useDebugValue:el,useDeferredValue:function(o){var h=Dt();return Qe===null?h.memoizedState=o:cd(h,Qe.memoizedState,o)},useTransition:function(){var o=xa(_o)[0],h=Dt().memoizedState;return[o,h]},useMutableSource:Kc,useSyncExternalStore:Qc,useId:dd,unstable_isNewReconciler:!1};function At(o,h){if(o&&o.defaultProps){h=Be({},h),o=o.defaultProps;for(var E in o)h[E]===void 0&&(h[E]=o[E]);return h}return h}function is(o,h,E,D){h=o.memoizedState,E=E(D,h),E=E==null?h:Be({},h,E),o.memoizedState=E,o.lanes===0&&(o.updateQueue.baseState=E)}var Fr={isMounted:function(o){return(o=o._reactInternals)?Kn(o)===o:!1},enqueueSetState:function(o,h,E){o=o._reactInternals;var D=ct(),O=On(o),p=on(D,O);p.payload=h,E!=null&&(p.callback=E),h=In(o,p,O),h!==null&&(Rt(h,o,O,D),Zo(h,o,O))},enqueueReplaceState:function(o,h,E){o=o._reactInternals;var D=ct(),O=On(o),p=on(D,O);p.tag=1,p.payload=h,E!=null&&(p.callback=E),h=In(o,p,O),h!==null&&(Rt(h,o,O,D),Zo(h,o,O))},enqueueForceUpdate:function(o,h){o=o._reactInternals;var E=ct(),D=On(o),O=on(E,D);O.tag=2,h!=null&&(O.callback=h),h=In(o,O,D),h!==null&&(Rt(h,o,D,E),Zo(h,o,D))}};function du(o,h,E,D,O,p,x){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(D,p,x):h.prototype&&h.prototype.isPureReactComponent?!uo(E,D)||!uo(O,p):!0}function gd(o,h,E){var D=!1,O=Tn,p=h.contextType;return typeof p=="object"&&p!==null?p=Ot(p):(O=vt(h)?Wn:lt.current,D=h.contextTypes,p=(D=D!=null)?xi(o,O):Tn),h=new h(E,p),o.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Fr,o.stateNode=h,h._reactInternals=o,D&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=O,o.__reactInternalMemoizedMaskedChildContext=p),h}function hu(o,h,E,D){o=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(E,D),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(E,D),h.state!==o&&Fr.enqueueReplaceState(h,h.state,null)}function os(o,h,E,D){var O=o.stateNode;O.props=E,O.state=o.memoizedState,O.refs={},Gs(o);var p=h.contextType;typeof p=="object"&&p!==null?O.context=Ot(p):(p=vt(h)?Wn:lt.current,O.context=xi(o,p)),O.state=o.memoizedState,p=h.getDerivedStateFromProps,typeof p=="function"&&(is(o,h,p,E),O.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(h=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),h!==O.state&&Fr.enqueueReplaceState(O,O.state,null),wr(o,E,O,D),O.state=o.memoizedState),typeof O.componentDidMount=="function"&&(o.flags|=4194308)}function ki(o,h){try{var E="",D=h;do E+=Vh(D),D=D.return;while(D);var O=E}catch(p){O=`
Error generating stack: `+p.message+`
`+p.stack}return{value:o,source:h,stack:O,digest:null}}function wa(o,h,E){return{value:o,source:null,stack:E??null,digest:h??null}}function rs(o,h){try{console.error(h.value)}catch(E){setTimeout(function(){throw E})}}var cp=typeof WeakMap=="function"?WeakMap:Map;function vd(o,h,E){E=on(-1,E),E.tag=3,E.payload={element:null};var D=h.value;return E.callback=function(){Ir||(Ir=!0,gs=D),rs(o,h)},E}function _d(o,h,E){E=on(-1,E),E.tag=3;var D=o.type.getDerivedStateFromError;if(typeof D=="function"){var O=h.value;E.payload=function(){return D(O)},E.callback=function(){rs(o,h)}}var p=o.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(E.callback=function(){rs(o,h),typeof D!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var x=h.stack;this.componentDidCatch(h.value,{componentStack:x!==null?x:""})}),E}function fu(o,h,E){var D=o.pingCache;if(D===null){D=o.pingCache=new cp;var O=new Set;D.set(h,O)}else O=D.get(h),O===void 0&&(O=new Set,D.set(h,O));O.has(E)||(O.add(E),o=Cp.bind(null,o,h,E),h.then(o,o))}function pu(o){do{var h;if((h=o.tag===13)&&(h=o.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return o;o=o.return}while(o!==null);return null}function gu(o,h,E,D,O){return o.mode&1?(o.flags|=65536,o.lanes=O,o):(o===h?o.flags|=65536:(o.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(h=on(-1,1),h.tag=2,In(E,h,1))),E.lanes|=1),o)}var dp=un.ReactCurrentOwner,pt=!1;function ut(o,h,E,D){h.child=o===null?Gc(h,null,E,D):Ei(h,o.child,E,D)}function vu(o,h,E,D,O){E=E.render;var p=h.ref;return mi(h,O),D=Qs(o,h,E,D,p,O),E=Js(),o!==null&&!pt?(h.updateQueue=o.updateQueue,h.flags&=-2053,o.lanes&=~O,ln(o,h,O)):(Re&&E&&Fs(h),h.flags|=1,ut(o,h,D,O),h.child)}function _u(o,h,E,D,O){if(o===null){var p=E.type;return typeof p=="function"&&!ll(p)&&p.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(h.tag=15,h.type=p,md(o,h,p,D,O)):(o=rr(E.type,null,D,h,h.mode,O),o.ref=h.ref,o.return=h,h.child=o)}if(p=o.child,!(o.lanes&O)){var x=p.memoizedProps;if(E=E.compare,E=E!==null?E:uo,E(x,D)&&o.ref===h.ref)return ln(o,h,O)}return h.flags|=1,o=Dn(p,D),o.ref=h.ref,o.return=h,h.child=o}function md(o,h,E,D,O){if(o!==null){var p=o.memoizedProps;if(uo(p,D)&&o.ref===h.ref)if(pt=!1,h.pendingProps=D=p,(o.lanes&O)!==0)o.flags&131072&&(pt=!0);else return h.lanes=o.lanes,ln(o,h,O)}return as(o,h,E,D,O)}function yd(o,h,E){var D=h.pendingProps,O=D.children,p=o!==null?o.memoizedState:null;if(D.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(fi,mt),mt|=E;else{if(!(E&1073741824))return o=p!==null?p.baseLanes|E:E,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:o,cachePool:null,transitions:null},h.updateQueue=null,$e(fi,mt),mt|=o,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},D=p!==null?p.baseLanes:E,$e(fi,mt),mt|=D}else p!==null?(D=p.baseLanes|E,h.memoizedState=null):D=E,$e(fi,mt),mt|=D;return ut(o,h,O,E),h.child}function bd(o,h){var E=h.ref;(o===null&&E!==null||o!==null&&o.ref!==E)&&(h.flags|=512,h.flags|=2097152)}function as(o,h,E,D,O){var p=vt(E)?Wn:lt.current;return p=xi(h,p),mi(h,O),E=Qs(o,h,E,D,p,O),D=Js(),o!==null&&!pt?(h.updateQueue=o.updateQueue,h.flags&=-2053,o.lanes&=~O,ln(o,h,O)):(Re&&D&&Fs(h),h.flags|=1,ut(o,h,E,O),h.child)}function mu(o,h,E,D,O){if(vt(E)){var p=!0;_r(h)}else p=!1;if(mi(h,O),h.stateNode===null)nr(o,h),gd(h,E,D),os(h,E,D,O),D=!0;else if(o===null){var x=h.stateNode,w=h.memoizedProps;x.props=w;var C=x.context,b=E.contextType;typeof b=="object"&&b!==null?b=Ot(b):(b=vt(E)?Wn:lt.current,b=xi(h,b));var y=E.getDerivedStateFromProps,g=typeof y=="function"||typeof x.getSnapshotBeforeUpdate=="function";g||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==D||C!==b)&&hu(h,x,D,b),_n=!1;var d=h.memoizedState;x.state=d,wr(h,D,x,O),C=h.memoizedState,w!==D||d!==C||gt.current||_n?(typeof y=="function"&&(is(h,E,y,D),C=h.memoizedState),(w=_n||du(h,E,w,D,d,C,b))?(g||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(h.flags|=4194308)):(typeof x.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=D,h.memoizedState=C),x.props=D,x.state=C,x.context=b,D=w):(typeof x.componentDidMount=="function"&&(h.flags|=4194308),D=!1)}else{x=h.stateNode,qc(o,h),w=h.memoizedProps,b=h.type===h.elementType?w:At(h.type,w),x.props=b,g=h.pendingProps,d=x.context,C=E.contextType,typeof C=="object"&&C!==null?C=Ot(C):(C=vt(E)?Wn:lt.current,C=xi(h,C));var _=E.getDerivedStateFromProps;(y=typeof _=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==g||d!==C)&&hu(h,x,D,C),_n=!1,d=h.memoizedState,x.state=d,wr(h,D,x,O);var f=h.memoizedState;w!==g||d!==f||gt.current||_n?(typeof _=="function"&&(is(h,E,_,D),f=h.memoizedState),(b=_n||du(h,E,b,D,d,f,C)||!1)?(y||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(D,f,C),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(D,f,C)),typeof x.componentDidUpdate=="function"&&(h.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===o.memoizedProps&&d===o.memoizedState||(h.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===o.memoizedProps&&d===o.memoizedState||(h.flags|=1024),h.memoizedProps=D,h.memoizedState=f),x.props=D,x.state=f,x.context=C,D=b):(typeof x.componentDidUpdate!="function"||w===o.memoizedProps&&d===o.memoizedState||(h.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===o.memoizedProps&&d===o.memoizedState||(h.flags|=1024),D=!1)}return ss(o,h,E,D,p,O)}function ss(o,h,E,D,O,p){bd(o,h);var x=(h.flags&128)!==0;if(!D&&!x)return O&&iu(h,E,!1),ln(o,h,p);D=h.stateNode,dp.current=h;var w=x&&typeof E.getDerivedStateFromError!="function"?null:D.render();return h.flags|=1,o!==null&&x?(h.child=Ei(h,o.child,null,p),h.child=Ei(h,null,w,p)):ut(o,h,w,p),h.memoizedState=D.state,O&&iu(h,E,!0),h.child}function xd(o){var h=o.stateNode;h.pendingContext?nu(o,h.pendingContext,h.pendingContext!==h.context):h.context&&nu(o,h.context,!1),Ys(o,h.containerInfo)}function yu(o,h,E,D,O){return wi(),Ns(O),h.flags|=256,ut(o,h,E,D),h.child}var ls={dehydrated:null,treeContext:null,retryLane:0};function us(o){return{baseLanes:o,cachePool:null,transitions:null}}function wd(o,h,E){var D=h.pendingProps,O=Ne.current,p=!1,x=(h.flags&128)!==0,w;if((w=x)||(w=o!==null&&o.memoizedState===null?!1:(O&2)!==0),w?(p=!0,h.flags&=-129):(o===null||o.memoizedState!==null)&&(O|=1),$e(Ne,O&1),o===null)return ts(h),o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(h.mode&1?o.data==="$!"?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(x=D.children,o=D.fallback,p?(D=h.mode,p=h.child,x={mode:"hidden",children:x},!(D&1)&&p!==null?(p.childLanes=0,p.pendingProps=x):p=zr(x,D,0,null),o=Bn(o,D,E,null),p.return=h,o.return=h,p.sibling=o,h.child=p,h.child.memoizedState=us(E),h.memoizedState=ls,o):tl(h,x));if(O=o.memoizedState,O!==null&&(w=O.dehydrated,w!==null))return hp(o,h,x,D,w,O,E);if(p){p=D.fallback,x=h.mode,O=o.child,w=O.sibling;var C={mode:"hidden",children:D.children};return!(x&1)&&h.child!==O?(D=h.child,D.childLanes=0,D.pendingProps=C,h.deletions=null):(D=Dn(O,C),D.subtreeFlags=O.subtreeFlags&14680064),w!==null?p=Dn(w,p):(p=Bn(p,x,E,null),p.flags|=2),p.return=h,D.return=h,D.sibling=p,h.child=D,D=p,p=h.child,x=o.child.memoizedState,x=x===null?us(E):{baseLanes:x.baseLanes|E,cachePool:null,transitions:x.transitions},p.memoizedState=x,p.childLanes=o.childLanes&~E,h.memoizedState=ls,D}return p=o.child,o=p.sibling,D=Dn(p,{mode:"visible",children:D.children}),!(h.mode&1)&&(D.lanes=E),D.return=h,D.sibling=null,o!==null&&(E=h.deletions,E===null?(h.deletions=[o],h.flags|=16):E.push(o)),h.child=D,h.memoizedState=null,D}function tl(o,h){return h=zr({mode:"visible",children:h},o.mode,0,null),h.return=o,o.child=h}function Wo(o,h,E,D){return D!==null&&Ns(D),Ei(h,o.child,null,E),o=tl(h,h.pendingProps.children),o.flags|=2,h.memoizedState=null,o}function hp(o,h,E,D,O,p,x){if(E)return h.flags&256?(h.flags&=-257,D=wa(Error(fe(422))),Wo(o,h,x,D)):h.memoizedState!==null?(h.child=o.child,h.flags|=128,null):(p=D.fallback,O=h.mode,D=zr({mode:"visible",children:D.children},O,0,null),p=Bn(p,O,x,null),p.flags|=2,D.return=h,p.return=h,D.sibling=p,h.child=D,h.mode&1&&Ei(h,o.child,null,x),h.child.memoizedState=us(x),h.memoizedState=ls,p);if(!(h.mode&1))return Wo(o,h,x,null);if(O.data==="$!"){if(D=O.nextSibling&&O.nextSibling.dataset,D)var w=D.dgst;return D=w,p=Error(fe(419)),D=wa(p,D,void 0),Wo(o,h,x,D)}if(w=(x&o.childLanes)!==0,pt||w){if(D=tt,D!==null){switch(x&-x){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=O&(D.suspendedLanes|x)?0:O,O!==0&&O!==p.retryLane&&(p.retryLane=O,sn(o,O),Rt(D,o,O,-1))}return sl(),D=wa(Error(fe(421))),Wo(o,h,x,D)}return O.data==="$?"?(h.flags|=128,h.child=o.child,h=kp.bind(null,o),O._reactRetry=h,null):(o=p.treeContext,yt=Sn(O.nextSibling),bt=h,Re=!0,Vt=null,o!==null&&(kt[St++]=tn,kt[St++]=nn,kt[St++]=Un,tn=o.id,nn=o.overflow,Un=h),h=tl(h,D.children),h.flags|=4096,h)}function bu(o,h,E){o.lanes|=h;var D=o.alternate;D!==null&&(D.lanes|=h),ns(o.return,h,E)}function Ea(o,h,E,D,O){var p=o.memoizedState;p===null?o.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:D,tail:E,tailMode:O}:(p.isBackwards=h,p.rendering=null,p.renderingStartTime=0,p.last=D,p.tail=E,p.tailMode=O)}function Ed(o,h,E){var D=h.pendingProps,O=D.revealOrder,p=D.tail;if(ut(o,h,D.children,E),D=Ne.current,D&2)D=D&1|2,h.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=h.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&bu(o,E,h);else if(o.tag===19)bu(o,E,h);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===h)break e;for(;o.sibling===null;){if(o.return===null||o.return===h)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}D&=1}if($e(Ne,D),!(h.mode&1))h.memoizedState=null;else switch(O){case"forwards":for(E=h.child,O=null;E!==null;)o=E.alternate,o!==null&&Er(o)===null&&(O=E),E=E.sibling;E=O,E===null?(O=h.child,h.child=null):(O=E.sibling,E.sibling=null),Ea(h,!1,O,E,p);break;case"backwards":for(E=null,O=h.child,h.child=null;O!==null;){if(o=O.alternate,o!==null&&Er(o)===null){h.child=O;break}o=O.sibling,O.sibling=E,E=O,O=o}Ea(h,!0,E,null,p);break;case"together":Ea(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function nr(o,h){!(h.mode&1)&&o!==null&&(o.alternate=null,h.alternate=null,h.flags|=2)}function ln(o,h,E){if(o!==null&&(h.dependencies=o.dependencies),Yn|=h.lanes,!(E&h.childLanes))return null;if(o!==null&&h.child!==o.child)throw Error(fe(153));if(h.child!==null){for(o=h.child,E=Dn(o,o.pendingProps),h.child=E,E.return=h;o.sibling!==null;)o=o.sibling,E=E.sibling=Dn(o,o.pendingProps),E.return=h;E.sibling=null}return h.child}function fp(o,h,E){switch(h.tag){case 3:xd(h),wi();break;case 5:Xc(h);break;case 1:vt(h.type)&&_r(h);break;case 4:Ys(h,h.stateNode.containerInfo);break;case 10:var D=h.type._context,O=h.memoizedProps.value;$e(br,D._currentValue),D._currentValue=O;break;case 13:if(D=h.memoizedState,D!==null)return D.dehydrated!==null?($e(Ne,Ne.current&1),h.flags|=128,null):E&h.child.childLanes?wd(o,h,E):($e(Ne,Ne.current&1),o=ln(o,h,E),o!==null?o.sibling:null);$e(Ne,Ne.current&1);break;case 19:if(D=(E&h.childLanes)!==0,o.flags&128){if(D)return Ed(o,h,E);h.flags|=128}if(O=h.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),$e(Ne,Ne.current),D)break;return null;case 22:case 23:return h.lanes=0,yd(o,h,E)}return ln(o,h,E)}var Cd,cs,kd,Sd;Cd=function(o,h){for(var E=h.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};cs=function(){};kd=function(o,h,E,D){var O=o.memoizedProps;if(O!==D){o=h.stateNode,Nn(qt.current);var p=null;switch(E){case"input":O=Ta(o,O),D=Ta(o,D),p=[];break;case"select":O=Be({},O,{value:void 0}),D=Be({},D,{value:void 0}),p=[];break;case"textarea":O=$a(o,O),D=$a(o,D),p=[];break;default:typeof O.onClick!="function"&&typeof D.onClick=="function"&&(o.onclick=gr)}ja(E,D);var x;E=null;for(b in O)if(!D.hasOwnProperty(b)&&O.hasOwnProperty(b)&&O[b]!=null)if(b==="style"){var w=O[b];for(x in w)w.hasOwnProperty(x)&&(E||(E={}),E[x]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(no.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in D){var C=D[b];if(w=O!=null?O[b]:void 0,D.hasOwnProperty(b)&&C!==w&&(C!=null||w!=null))if(b==="style")if(w){for(x in w)!w.hasOwnProperty(x)||C&&C.hasOwnProperty(x)||(E||(E={}),E[x]="");for(x in C)C.hasOwnProperty(x)&&w[x]!==C[x]&&(E||(E={}),E[x]=C[x])}else E||(p||(p=[]),p.push(b,E)),E=C;else b==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(p=p||[]).push(b,C)):b==="children"?typeof C!="string"&&typeof C!="number"||(p=p||[]).push(b,""+C):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(no.hasOwnProperty(b)?(C!=null&&b==="onScroll"&&Ve("scroll",o),p||w===C||(p=[])):(p=p||[]).push(b,C))}E&&(p=p||[]).push("style",E);var b=p;(h.updateQueue=b)&&(h.flags|=4)}};Sd=function(o,h,E,D){E!==D&&(h.flags|=4)};function Ni(o,h){if(!Re)switch(o.tailMode){case"hidden":h=o.tail;for(var E=null;h!==null;)h.alternate!==null&&(E=h),h=h.sibling;E===null?o.tail=null:E.sibling=null;break;case"collapsed":E=o.tail;for(var D=null;E!==null;)E.alternate!==null&&(D=E),E=E.sibling;D===null?h||o.tail===null?o.tail=null:o.tail.sibling=null:D.sibling=null}}function at(o){var h=o.alternate!==null&&o.alternate.child===o.child,E=0,D=0;if(h)for(var O=o.child;O!==null;)E|=O.lanes|O.childLanes,D|=O.subtreeFlags&14680064,D|=O.flags&14680064,O.return=o,O=O.sibling;else for(O=o.child;O!==null;)E|=O.lanes|O.childLanes,D|=O.subtreeFlags,D|=O.flags,O.return=o,O=O.sibling;return o.subtreeFlags|=D,o.childLanes=E,h}function pp(o,h,E){var D=h.pendingProps;switch(Ls(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(h),null;case 1:return vt(h.type)&&vr(),at(h),null;case 3:return D=h.stateNode,Ci(),je(gt),je(lt),Xs(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(o===null||o.child===null)&&(zo(h)?h.flags|=4:o===null||o.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,Vt!==null&&(ms(Vt),Vt=null))),cs(o,h),at(h),null;case 5:qs(h);var O=Nn(go.current);if(E=h.type,o!==null&&h.stateNode!=null)kd(o,h,E,D,O),o.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!D){if(h.stateNode===null)throw Error(fe(166));return at(h),null}if(o=Nn(qt.current),zo(h)){D=h.stateNode,E=h.type;var p=h.memoizedProps;switch(D[Gt]=h,D[fo]=p,o=(h.mode&1)!==0,E){case"dialog":Ve("cancel",D),Ve("close",D);break;case"iframe":case"object":case"embed":Ve("load",D);break;case"video":case"audio":for(O=0;O<Gi.length;O++)Ve(Gi[O],D);break;case"source":Ve("error",D);break;case"img":case"image":case"link":Ve("error",D),Ve("load",D);break;case"details":Ve("toggle",D);break;case"input":Ol(D,p),Ve("invalid",D);break;case"select":D._wrapperState={wasMultiple:!!p.multiple},Ve("invalid",D);break;case"textarea":Ml(D,p),Ve("invalid",D)}ja(E,p),O=null;for(var x in p)if(p.hasOwnProperty(x)){var w=p[x];x==="children"?typeof w=="string"?D.textContent!==w&&(p.suppressHydrationWarning!==!0&&No(D.textContent,w,o),O=["children",w]):typeof w=="number"&&D.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&No(D.textContent,w,o),O=["children",""+w]):no.hasOwnProperty(x)&&w!=null&&x==="onScroll"&&Ve("scroll",D)}switch(E){case"input":Ho(D),Dl(D,p,!0);break;case"textarea":Ho(D),Tl(D);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(D.onclick=gr)}D=O,h.updateQueue=D,D!==null&&(h.flags|=4)}else{x=O.nodeType===9?O:O.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ec(E)),o==="http://www.w3.org/1999/xhtml"?E==="script"?(o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof D.is=="string"?o=x.createElement(E,{is:D.is}):(o=x.createElement(E),E==="select"&&(x=o,D.multiple?x.multiple=!0:D.size&&(x.size=D.size))):o=x.createElementNS(o,E),o[Gt]=h,o[fo]=D,Cd(o,h,!1,!1),h.stateNode=o;e:{switch(x=Ra(E,D),E){case"dialog":Ve("cancel",o),Ve("close",o),O=D;break;case"iframe":case"object":case"embed":Ve("load",o),O=D;break;case"video":case"audio":for(O=0;O<Gi.length;O++)Ve(Gi[O],o);O=D;break;case"source":Ve("error",o),O=D;break;case"img":case"image":case"link":Ve("error",o),Ve("load",o),O=D;break;case"details":Ve("toggle",o),O=D;break;case"input":Ol(o,D),O=Ta(o,D),Ve("invalid",o);break;case"option":O=D;break;case"select":o._wrapperState={wasMultiple:!!D.multiple},O=Be({},D,{value:void 0}),Ve("invalid",o);break;case"textarea":Ml(o,D),O=$a(o,D),Ve("invalid",o);break;default:O=D}ja(E,O),w=O;for(p in w)if(w.hasOwnProperty(p)){var C=w[p];p==="style"?ic(o,C):p==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&tc(o,C)):p==="children"?typeof C=="string"?(E!=="textarea"||C!=="")&&io(o,C):typeof C=="number"&&io(o,""+C):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(no.hasOwnProperty(p)?C!=null&&p==="onScroll"&&Ve("scroll",o):C!=null&&ks(o,p,C,x))}switch(E){case"input":Ho(o),Dl(o,D,!1);break;case"textarea":Ho(o),Tl(o);break;case"option":D.value!=null&&o.setAttribute("value",""+Mn(D.value));break;case"select":o.multiple=!!D.multiple,p=D.value,p!=null?pi(o,!!D.multiple,p,!1):D.defaultValue!=null&&pi(o,!!D.multiple,D.defaultValue,!0);break;default:typeof O.onClick=="function"&&(o.onclick=gr)}switch(E){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}}D&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return at(h),null;case 6:if(o&&h.stateNode!=null)Sd(o,h,o.memoizedProps,D);else{if(typeof D!="string"&&h.stateNode===null)throw Error(fe(166));if(E=Nn(go.current),Nn(qt.current),zo(h)){if(D=h.stateNode,E=h.memoizedProps,D[Gt]=h,(p=D.nodeValue!==E)&&(o=bt,o!==null))switch(o.tag){case 3:No(D.nodeValue,E,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&No(D.nodeValue,E,(o.mode&1)!==0)}p&&(h.flags|=4)}else D=(E.nodeType===9?E:E.ownerDocument).createTextNode(D),D[Gt]=h,h.stateNode=D}return at(h),null;case 13:if(je(Ne),D=h.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Re&&yt!==null&&h.mode&1&&!(h.flags&128))Wc(),wi(),h.flags|=98560,p=!1;else if(p=zo(h),D!==null&&D.dehydrated!==null){if(o===null){if(!p)throw Error(fe(318));if(p=h.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(fe(317));p[Gt]=h}else wi(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;at(h),p=!1}else Vt!==null&&(ms(Vt),Vt=null),p=!0;if(!p)return h.flags&65536?h:null}return h.flags&128?(h.lanes=E,h):(D=D!==null,D!==(o!==null&&o.memoizedState!==null)&&D&&(h.child.flags|=8192,h.mode&1&&(o===null||Ne.current&1?Je===0&&(Je=3):sl())),h.updateQueue!==null&&(h.flags|=4),at(h),null);case 4:return Ci(),cs(o,h),o===null&&co(h.stateNode.containerInfo),at(h),null;case 10:return Ws(h.type._context),at(h),null;case 17:return vt(h.type)&&vr(),at(h),null;case 19:if(je(Ne),p=h.memoizedState,p===null)return at(h),null;if(D=(h.flags&128)!==0,x=p.rendering,x===null)if(D)Ni(p,!1);else{if(Je!==0||o!==null&&o.flags&128)for(o=h.child;o!==null;){if(x=Er(o),x!==null){for(h.flags|=128,Ni(p,!1),D=x.updateQueue,D!==null&&(h.updateQueue=D,h.flags|=4),h.subtreeFlags=0,D=E,E=h.child;E!==null;)p=E,o=D,p.flags&=14680066,x=p.alternate,x===null?(p.childLanes=0,p.lanes=o,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=x.childLanes,p.lanes=x.lanes,p.child=x.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=x.memoizedProps,p.memoizedState=x.memoizedState,p.updateQueue=x.updateQueue,p.type=x.type,o=x.dependencies,p.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),E=E.sibling;return $e(Ne,Ne.current&1|2),h.child}o=o.sibling}p.tail!==null&&Ye()>Si&&(h.flags|=128,D=!0,Ni(p,!1),h.lanes=4194304)}else{if(!D)if(o=Er(x),o!==null){if(h.flags|=128,D=!0,E=o.updateQueue,E!==null&&(h.updateQueue=E,h.flags|=4),Ni(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!Re)return at(h),null}else 2*Ye()-p.renderingStartTime>Si&&E!==1073741824&&(h.flags|=128,D=!0,Ni(p,!1),h.lanes=4194304);p.isBackwards?(x.sibling=h.child,h.child=x):(E=p.last,E!==null?E.sibling=x:h.child=x,p.last=x)}return p.tail!==null?(h=p.tail,p.rendering=h,p.tail=h.sibling,p.renderingStartTime=Ye(),h.sibling=null,E=Ne.current,$e(Ne,D?E&1|2:E&1),h):(at(h),null);case 22:case 23:return al(),D=h.memoizedState!==null,o!==null&&o.memoizedState!==null!==D&&(h.flags|=8192),D&&h.mode&1?mt&1073741824&&(at(h),h.subtreeFlags&6&&(h.flags|=8192)):at(h),null;case 24:return null;case 25:return null}throw Error(fe(156,h.tag))}function gp(o,h){switch(Ls(h),h.tag){case 1:return vt(h.type)&&vr(),o=h.flags,o&65536?(h.flags=o&-65537|128,h):null;case 3:return Ci(),je(gt),je(lt),Xs(),o=h.flags,o&65536&&!(o&128)?(h.flags=o&-65537|128,h):null;case 5:return qs(h),null;case 13:if(je(Ne),o=h.memoizedState,o!==null&&o.dehydrated!==null){if(h.alternate===null)throw Error(fe(340));wi()}return o=h.flags,o&65536?(h.flags=o&-65537|128,h):null;case 19:return je(Ne),null;case 4:return Ci(),null;case 10:return Ws(h.type._context),null;case 22:case 23:return al(),null;case 24:return null;default:return null}}var Uo=!1,st=!1,vp=typeof WeakSet=="function"?WeakSet:Set,me=null;function hi(o,h){var E=o.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(D){Ue(o,h,D)}else E.current=null}function ds(o,h,E){try{E()}catch(D){Ue(o,h,D)}}var xu=!1;function _p(o,h){if(qa=hr,o=Mc(),Rs(o)){if("selectionStart"in o)var E={start:o.selectionStart,end:o.selectionEnd};else e:{E=(E=o.ownerDocument)&&E.defaultView||window;var D=E.getSelection&&E.getSelection();if(D&&D.rangeCount!==0){E=D.anchorNode;var O=D.anchorOffset,p=D.focusNode;D=D.focusOffset;try{E.nodeType,p.nodeType}catch{E=null;break e}var x=0,w=-1,C=-1,b=0,y=0,g=o,d=null;t:for(;;){for(var _;g!==E||O!==0&&g.nodeType!==3||(w=x+O),g!==p||D!==0&&g.nodeType!==3||(C=x+D),g.nodeType===3&&(x+=g.nodeValue.length),(_=g.firstChild)!==null;)d=g,g=_;for(;;){if(g===o)break t;if(d===E&&++b===O&&(w=x),d===p&&++y===D&&(C=x),(_=g.nextSibling)!==null)break;g=d,d=g.parentNode}g=_}E=w===-1||C===-1?null:{start:w,end:C}}else E=null}E=E||{start:0,end:0}}else E=null;for(Xa={focusedElem:o,selectionRange:E},hr=!1,me=h;me!==null;)if(h=me,o=h.child,(h.subtreeFlags&1028)!==0&&o!==null)o.return=h,me=o;else for(;me!==null;){h=me;try{var f=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var l=f.memoizedProps,u=f.memoizedState,r=h.stateNode,s=r.getSnapshotBeforeUpdate(h.elementType===h.type?l:At(h.type,l),u);r.__reactInternalSnapshotBeforeUpdate=s}break;case 3:var t=h.stateNode.containerInfo;t.nodeType===1?t.textContent="":t.nodeType===9&&t.documentElement&&t.removeChild(t.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(n){Ue(h,h.return,n)}if(o=h.sibling,o!==null){o.return=h.return,me=o;break}me=h.return}return f=xu,xu=!1,f}function Zi(o,h,E){var D=h.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var O=D=D.next;do{if((O.tag&o)===o){var p=O.destroy;O.destroy=void 0,p!==void 0&&ds(h,E,p)}O=O.next}while(O!==D)}}function Lr(o,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var E=h=h.next;do{if((E.tag&o)===o){var D=E.create;E.destroy=D()}E=E.next}while(E!==h)}}function hs(o){var h=o.ref;if(h!==null){var E=o.stateNode;switch(o.tag){case 5:o=E;break;default:o=E}typeof h=="function"?h(o):h.current=o}}function Id(o){var h=o.alternate;h!==null&&(o.alternate=null,Id(h)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(h=o.stateNode,h!==null&&(delete h[Gt],delete h[fo],delete h[Ja],delete h[Zf],delete h[ep])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Pd(o){return o.tag===5||o.tag===3||o.tag===4}function wu(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Pd(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fs(o,h,E){var D=o.tag;if(D===5||D===6)o=o.stateNode,h?E.nodeType===8?E.parentNode.insertBefore(o,h):E.insertBefore(o,h):(E.nodeType===8?(h=E.parentNode,h.insertBefore(o,E)):(h=E,h.appendChild(o)),E=E._reactRootContainer,E!=null||h.onclick!==null||(h.onclick=gr));else if(D!==4&&(o=o.child,o!==null))for(fs(o,h,E),o=o.sibling;o!==null;)fs(o,h,E),o=o.sibling}function ps(o,h,E){var D=o.tag;if(D===5||D===6)o=o.stateNode,h?E.insertBefore(o,h):E.appendChild(o);else if(D!==4&&(o=o.child,o!==null))for(ps(o,h,E),o=o.sibling;o!==null;)ps(o,h,E),o=o.sibling}var nt=null,$t=!1;function gn(o,h,E){for(E=E.child;E!==null;)Od(o,h,E),E=E.sibling}function Od(o,h,E){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Tr,E)}catch{}switch(E.tag){case 5:st||hi(E,h);case 6:var D=nt,O=$t;nt=null,gn(o,h,E),nt=D,$t=O,nt!==null&&($t?(o=nt,E=E.stateNode,o.nodeType===8?o.parentNode.removeChild(E):o.removeChild(E)):nt.removeChild(E.stateNode));break;case 18:nt!==null&&($t?(o=nt,E=E.stateNode,o.nodeType===8?va(o.parentNode,E):o.nodeType===1&&va(o,E),so(o)):va(nt,E.stateNode));break;case 4:D=nt,O=$t,nt=E.stateNode.containerInfo,$t=!0,gn(o,h,E),nt=D,$t=O;break;case 0:case 11:case 14:case 15:if(!st&&(D=E.updateQueue,D!==null&&(D=D.lastEffect,D!==null))){O=D=D.next;do{var p=O,x=p.destroy;p=p.tag,x!==void 0&&(p&2||p&4)&&ds(E,h,x),O=O.next}while(O!==D)}gn(o,h,E);break;case 1:if(!st&&(hi(E,h),D=E.stateNode,typeof D.componentWillUnmount=="function"))try{D.props=E.memoizedProps,D.state=E.memoizedState,D.componentWillUnmount()}catch(w){Ue(E,h,w)}gn(o,h,E);break;case 21:gn(o,h,E);break;case 22:E.mode&1?(st=(D=st)||E.memoizedState!==null,gn(o,h,E),st=D):gn(o,h,E);break;default:gn(o,h,E)}}function Eu(o){var h=o.updateQueue;if(h!==null){o.updateQueue=null;var E=o.stateNode;E===null&&(E=o.stateNode=new vp),h.forEach(function(D){var O=Sp.bind(null,o,D);E.has(D)||(E.add(D),D.then(O,O))})}}function Ht(o,h){var E=h.deletions;if(E!==null)for(var D=0;D<E.length;D++){var O=E[D];try{var p=o,x=h,w=x;e:for(;w!==null;){switch(w.tag){case 5:nt=w.stateNode,$t=!1;break e;case 3:nt=w.stateNode.containerInfo,$t=!0;break e;case 4:nt=w.stateNode.containerInfo,$t=!0;break e}w=w.return}if(nt===null)throw Error(fe(160));Od(p,x,O),nt=null,$t=!1;var C=O.alternate;C!==null&&(C.return=null),O.return=null}catch(b){Ue(O,h,b)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)Dd(h,o),h=h.sibling}function Dd(o,h){var E=o.alternate,D=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ht(h,o),Wt(o),D&4){try{Zi(3,o,o.return),Lr(3,o)}catch(l){Ue(o,o.return,l)}try{Zi(5,o,o.return)}catch(l){Ue(o,o.return,l)}}break;case 1:Ht(h,o),Wt(o),D&512&&E!==null&&hi(E,E.return);break;case 5:if(Ht(h,o),Wt(o),D&512&&E!==null&&hi(E,E.return),o.flags&32){var O=o.stateNode;try{io(O,"")}catch(l){Ue(o,o.return,l)}}if(D&4&&(O=o.stateNode,O!=null)){var p=o.memoizedProps,x=E!==null?E.memoizedProps:p,w=o.type,C=o.updateQueue;if(o.updateQueue=null,C!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&Ju(O,p),Ra(w,x);var b=Ra(w,p);for(x=0;x<C.length;x+=2){var y=C[x],g=C[x+1];y==="style"?ic(O,g):y==="dangerouslySetInnerHTML"?tc(O,g):y==="children"?io(O,g):ks(O,y,g,b)}switch(w){case"input":Ha(O,p);break;case"textarea":Zu(O,p);break;case"select":var d=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!p.multiple;var _=p.value;_!=null?pi(O,!!p.multiple,_,!1):d!==!!p.multiple&&(p.defaultValue!=null?pi(O,!!p.multiple,p.defaultValue,!0):pi(O,!!p.multiple,p.multiple?[]:"",!1))}O[fo]=p}catch(l){Ue(o,o.return,l)}}break;case 6:if(Ht(h,o),Wt(o),D&4){if(o.stateNode===null)throw Error(fe(162));O=o.stateNode,p=o.memoizedProps;try{O.nodeValue=p}catch(l){Ue(o,o.return,l)}}break;case 3:if(Ht(h,o),Wt(o),D&4&&E!==null&&E.memoizedState.isDehydrated)try{so(h.containerInfo)}catch(l){Ue(o,o.return,l)}break;case 4:Ht(h,o),Wt(o);break;case 13:Ht(h,o),Wt(o),O=o.child,O.flags&8192&&(p=O.memoizedState!==null,O.stateNode.isHidden=p,!p||O.alternate!==null&&O.alternate.memoizedState!==null||(ol=Ye())),D&4&&Eu(o);break;case 22:if(y=E!==null&&E.memoizedState!==null,o.mode&1?(st=(b=st)||y,Ht(h,o),st=b):Ht(h,o),Wt(o),D&8192){if(b=o.memoizedState!==null,(o.stateNode.isHidden=b)&&!y&&o.mode&1)for(me=o,y=o.child;y!==null;){for(g=me=y;me!==null;){switch(d=me,_=d.child,d.tag){case 0:case 11:case 14:case 15:Zi(4,d,d.return);break;case 1:hi(d,d.return);var f=d.stateNode;if(typeof f.componentWillUnmount=="function"){D=d,E=d.return;try{h=D,f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(l){Ue(D,E,l)}}break;case 5:hi(d,d.return);break;case 22:if(d.memoizedState!==null){ku(g);continue}}_!==null?(_.return=d,me=_):ku(g)}y=y.sibling}e:for(y=null,g=o;;){if(g.tag===5){if(y===null){y=g;try{O=g.stateNode,b?(p=O.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=g.stateNode,C=g.memoizedProps.style,x=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=nc("display",x))}catch(l){Ue(o,o.return,l)}}}else if(g.tag===6){if(y===null)try{g.stateNode.nodeValue=b?"":g.memoizedProps}catch(l){Ue(o,o.return,l)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===o)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;y===g&&(y=null),g=g.return}y===g&&(y=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ht(h,o),Wt(o),D&4&&Eu(o);break;case 21:break;default:Ht(h,o),Wt(o)}}function Wt(o){var h=o.flags;if(h&2){try{e:{for(var E=o.return;E!==null;){if(Pd(E)){var D=E;break e}E=E.return}throw Error(fe(160))}switch(D.tag){case 5:var O=D.stateNode;D.flags&32&&(io(O,""),D.flags&=-33);var p=wu(o);ps(o,p,O);break;case 3:case 4:var x=D.stateNode.containerInfo,w=wu(o);fs(o,w,x);break;default:throw Error(fe(161))}}catch(C){Ue(o,o.return,C)}o.flags&=-3}h&4096&&(o.flags&=-4097)}function mp(o,h,E){me=o,Md(o)}function Md(o,h,E){for(var D=(o.mode&1)!==0;me!==null;){var O=me,p=O.child;if(O.tag===22&&D){var x=O.memoizedState!==null||Uo;if(!x){var w=O.alternate,C=w!==null&&w.memoizedState!==null||st;w=Uo;var b=st;if(Uo=x,(st=C)&&!b)for(me=O;me!==null;)x=me,C=x.child,x.tag===22&&x.memoizedState!==null?Su(O):C!==null?(C.return=x,me=C):Su(O);for(;p!==null;)me=p,Md(p),p=p.sibling;me=O,Uo=w,st=b}Cu(o)}else O.subtreeFlags&8772&&p!==null?(p.return=O,me=p):Cu(o)}}function Cu(o){for(;me!==null;){var h=me;if(h.flags&8772){var E=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:st||Lr(5,h);break;case 1:var D=h.stateNode;if(h.flags&4&&!st)if(E===null)D.componentDidMount();else{var O=h.elementType===h.type?E.memoizedProps:At(h.type,E.memoizedProps);D.componentDidUpdate(O,E.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var p=h.updateQueue;p!==null&&lu(h,p,D);break;case 3:var x=h.updateQueue;if(x!==null){if(E=null,h.child!==null)switch(h.child.tag){case 5:E=h.child.stateNode;break;case 1:E=h.child.stateNode}lu(h,x,E)}break;case 5:var w=h.stateNode;if(E===null&&h.flags&4){E=w;var C=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&E.focus();break;case"img":C.src&&(E.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var b=h.alternate;if(b!==null){var y=b.memoizedState;if(y!==null){var g=y.dehydrated;g!==null&&so(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}st||h.flags&512&&hs(h)}catch(d){Ue(h,h.return,d)}}if(h===o){me=null;break}if(E=h.sibling,E!==null){E.return=h.return,me=E;break}me=h.return}}function ku(o){for(;me!==null;){var h=me;if(h===o){me=null;break}var E=h.sibling;if(E!==null){E.return=h.return,me=E;break}me=h.return}}function Su(o){for(;me!==null;){var h=me;try{switch(h.tag){case 0:case 11:case 15:var E=h.return;try{Lr(4,h)}catch(C){Ue(h,E,C)}break;case 1:var D=h.stateNode;if(typeof D.componentDidMount=="function"){var O=h.return;try{D.componentDidMount()}catch(C){Ue(h,O,C)}}var p=h.return;try{hs(h)}catch(C){Ue(h,p,C)}break;case 5:var x=h.return;try{hs(h)}catch(C){Ue(h,x,C)}}}catch(C){Ue(h,h.return,C)}if(h===o){me=null;break}var w=h.sibling;if(w!==null){w.return=h.return,me=w;break}me=h.return}}var yp=Math.ceil,Sr=un.ReactCurrentDispatcher,nl=un.ReactCurrentOwner,Pt=un.ReactCurrentBatchConfig,De=0,tt=null,qe=null,it=0,mt=0,fi=An(0),Je=0,yo=null,Yn=0,Nr=0,il=0,eo=null,ft=null,ol=0,Si=1/0,Zt=null,Ir=!1,gs=null,Pn=null,Go=!1,wn=null,Pr=0,to=0,vs=null,ir=-1,or=0;function ct(){return De&6?Ye():ir!==-1?ir:ir=Ye()}function On(o){return o.mode&1?De&2&&it!==0?it&-it:np.transition!==null?(or===0&&(or=gc()),or):(o=Te,o!==0||(o=window.event,o=o===void 0?16:wc(o.type)),o):1}function Rt(o,h,E,D){if(50<to)throw to=0,vs=null,Error(fe(185));xo(o,E,D),(!(De&2)||o!==tt)&&(o===tt&&(!(De&2)&&(Nr|=E),Je===4&&yn(o,it)),_t(o,D),E===1&&De===0&&!(h.mode&1)&&(Si=Ye()+500,jr&&$n()))}function _t(o,h){var E=o.callbackNode;tf(o,h);var D=dr(o,o===tt?it:0);if(D===0)E!==null&&$l(E),o.callbackNode=null,o.callbackPriority=0;else if(h=D&-D,o.callbackPriority!==h){if(E!=null&&$l(E),h===1)o.tag===0?tp(Iu.bind(null,o)):Nc(Iu.bind(null,o)),Qf(function(){!(De&6)&&$n()}),E=null;else{switch(vc(D)){case 1:E=Ds;break;case 4:E=fc;break;case 16:E=cr;break;case 536870912:E=pc;break;default:E=cr}E=Fd(E,Td.bind(null,o))}o.callbackPriority=h,o.callbackNode=E}}function Td(o,h){if(ir=-1,or=0,De&6)throw Error(fe(327));var E=o.callbackNode;if(yi()&&o.callbackNode!==E)return null;var D=dr(o,o===tt?it:0);if(D===0)return null;if(D&30||D&o.expiredLanes||h)h=Or(o,D);else{h=D;var O=De;De|=2;var p=Ad();(tt!==o||it!==h)&&(Zt=null,Si=Ye()+500,zn(o,h));do try{wp();break}catch(w){Hd(o,w)}while(!0);Bs(),Sr.current=p,De=O,qe!==null?h=0:(tt=null,it=0,h=Je)}if(h!==0){if(h===2&&(O=Ba(o),O!==0&&(D=O,h=_s(o,O))),h===1)throw E=yo,zn(o,0),yn(o,D),_t(o,Ye()),E;if(h===6)yn(o,D);else{if(O=o.current.alternate,!(D&30)&&!bp(O)&&(h=Or(o,D),h===2&&(p=Ba(o),p!==0&&(D=p,h=_s(o,p))),h===1))throw E=yo,zn(o,0),yn(o,D),_t(o,Ye()),E;switch(o.finishedWork=O,o.finishedLanes=D,h){case 0:case 1:throw Error(fe(345));case 2:Rn(o,ft,Zt);break;case 3:if(yn(o,D),(D&130023424)===D&&(h=ol+500-Ye(),10<h)){if(dr(o,0)!==0)break;if(O=o.suspendedLanes,(O&D)!==D){ct(),o.pingedLanes|=o.suspendedLanes&O;break}o.timeoutHandle=Qa(Rn.bind(null,o,ft,Zt),h);break}Rn(o,ft,Zt);break;case 4:if(yn(o,D),(D&4194240)===D)break;for(h=o.eventTimes,O=-1;0<D;){var x=31-jt(D);p=1<<x,x=h[x],x>O&&(O=x),D&=~p}if(D=O,D=Ye()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*yp(D/1960))-D,10<D){o.timeoutHandle=Qa(Rn.bind(null,o,ft,Zt),D);break}Rn(o,ft,Zt);break;case 5:Rn(o,ft,Zt);break;default:throw Error(fe(329))}}}return _t(o,Ye()),o.callbackNode===E?Td.bind(null,o):null}function _s(o,h){var E=eo;return o.current.memoizedState.isDehydrated&&(zn(o,h).flags|=256),o=Or(o,h),o!==2&&(h=ft,ft=E,h!==null&&ms(h)),o}function ms(o){ft===null?ft=o:ft.push.apply(ft,o)}function bp(o){for(var h=o;;){if(h.flags&16384){var E=h.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var D=0;D<E.length;D++){var O=E[D],p=O.getSnapshot;O=O.value;try{if(!Ft(p(),O))return!1}catch{return!1}}}if(E=h.child,h.subtreeFlags&16384&&E!==null)E.return=h,h=E;else{if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function yn(o,h){for(h&=~il,h&=~Nr,o.suspendedLanes|=h,o.pingedLanes&=~h,o=o.expirationTimes;0<h;){var E=31-jt(h),D=1<<E;o[E]=-1,h&=~D}}function Iu(o){if(De&6)throw Error(fe(327));yi();var h=dr(o,0);if(!(h&1))return _t(o,Ye()),null;var E=Or(o,h);if(o.tag!==0&&E===2){var D=Ba(o);D!==0&&(h=D,E=_s(o,D))}if(E===1)throw E=yo,zn(o,0),yn(o,h),_t(o,Ye()),E;if(E===6)throw Error(fe(345));return o.finishedWork=o.current.alternate,o.finishedLanes=h,Rn(o,ft,Zt),_t(o,Ye()),null}function rl(o,h){var E=De;De|=1;try{return o(h)}finally{De=E,De===0&&(Si=Ye()+500,jr&&$n())}}function qn(o){wn!==null&&wn.tag===0&&!(De&6)&&yi();var h=De;De|=1;var E=Pt.transition,D=Te;try{if(Pt.transition=null,Te=1,o)return o()}finally{Te=D,Pt.transition=E,De=h,!(De&6)&&$n()}}function al(){mt=fi.current,je(fi)}function zn(o,h){o.finishedWork=null,o.finishedLanes=0;var E=o.timeoutHandle;if(E!==-1&&(o.timeoutHandle=-1,Kf(E)),qe!==null)for(E=qe.return;E!==null;){var D=E;switch(Ls(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&vr();break;case 3:Ci(),je(gt),je(lt),Xs();break;case 5:qs(D);break;case 4:Ci();break;case 13:je(Ne);break;case 19:je(Ne);break;case 10:Ws(D.type._context);break;case 22:case 23:al()}E=E.return}if(tt=o,qe=o=Dn(o.current,null),it=mt=h,Je=0,yo=null,il=Nr=Yn=0,ft=eo=null,Ln!==null){for(h=0;h<Ln.length;h++)if(E=Ln[h],D=E.interleaved,D!==null){E.interleaved=null;var O=D.next,p=E.pending;if(p!==null){var x=p.next;p.next=O,D.next=x}E.pending=D}Ln=null}return o}function Hd(o,h){do{var E=qe;try{if(Bs(),er.current=kr,Cr){for(var D=ze.memoizedState;D!==null;){var O=D.queue;O!==null&&(O.pending=null),D=D.next}Cr=!1}if(Gn=0,et=Qe=ze=null,Ji=!1,vo=0,nl.current=null,E===null||E.return===null){Je=1,yo=h,qe=null;break}e:{var p=o,x=E.return,w=E,C=h;if(h=it,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var b=C,y=w,g=y.tag;if(!(y.mode&1)&&(g===0||g===11||g===15)){var d=y.alternate;d?(y.updateQueue=d.updateQueue,y.memoizedState=d.memoizedState,y.lanes=d.lanes):(y.updateQueue=null,y.memoizedState=null)}var _=pu(x);if(_!==null){_.flags&=-257,gu(_,x,w,p,h),_.mode&1&&fu(p,b,h),h=_,C=b;var f=h.updateQueue;if(f===null){var l=new Set;l.add(C),h.updateQueue=l}else f.add(C);break e}else{if(!(h&1)){fu(p,b,h),sl();break e}C=Error(fe(426))}}else if(Re&&w.mode&1){var u=pu(x);if(u!==null){!(u.flags&65536)&&(u.flags|=256),gu(u,x,w,p,h),Ns(ki(C,w));break e}}p=C=ki(C,w),Je!==4&&(Je=2),eo===null?eo=[p]:eo.push(p),p=x;do{switch(p.tag){case 3:p.flags|=65536,h&=-h,p.lanes|=h;var r=vd(p,C,h);su(p,r);break e;case 1:w=C;var s=p.type,t=p.stateNode;if(!(p.flags&128)&&(typeof s.getDerivedStateFromError=="function"||t!==null&&typeof t.componentDidCatch=="function"&&(Pn===null||!Pn.has(t)))){p.flags|=65536,h&=-h,p.lanes|=h;var n=_d(p,w,h);su(p,n);break e}}p=p.return}while(p!==null)}Vd(E)}catch(i){h=i,qe===E&&E!==null&&(qe=E=E.return);continue}break}while(!0)}function Ad(){var o=Sr.current;return Sr.current=kr,o===null?kr:o}function sl(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||!(Yn&268435455)&&!(Nr&268435455)||yn(tt,it)}function Or(o,h){var E=De;De|=2;var D=Ad();(tt!==o||it!==h)&&(Zt=null,zn(o,h));do try{xp();break}catch(O){Hd(o,O)}while(!0);if(Bs(),De=E,Sr.current=D,qe!==null)throw Error(fe(261));return tt=null,it=0,Je}function xp(){for(;qe!==null;)$d(qe)}function wp(){for(;qe!==null&&!Gh();)$d(qe)}function $d(o){var h=Rd(o.alternate,o,mt);o.memoizedProps=o.pendingProps,h===null?Vd(o):qe=h,nl.current=null}function Vd(o){var h=o;do{var E=h.alternate;if(o=h.return,h.flags&32768){if(E=gp(E,h),E!==null){E.flags&=32767,qe=E;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Je=6,qe=null;return}}else if(E=pp(E,h,mt),E!==null){qe=E;return}if(h=h.sibling,h!==null){qe=h;return}qe=h=o}while(h!==null);Je===0&&(Je=5)}function Rn(o,h,E){var D=Te,O=Pt.transition;try{Pt.transition=null,Te=1,Ep(o,h,E,D)}finally{Pt.transition=O,Te=D}return null}function Ep(o,h,E,D){do yi();while(wn!==null);if(De&6)throw Error(fe(327));E=o.finishedWork;var O=o.finishedLanes;if(E===null)return null;if(o.finishedWork=null,o.finishedLanes=0,E===o.current)throw Error(fe(177));o.callbackNode=null,o.callbackPriority=0;var p=E.lanes|E.childLanes;if(nf(o,p),o===tt&&(qe=tt=null,it=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||Go||(Go=!0,Fd(cr,function(){return yi(),null})),p=(E.flags&15990)!==0,E.subtreeFlags&15990||p){p=Pt.transition,Pt.transition=null;var x=Te;Te=1;var w=De;De|=4,nl.current=null,_p(o,E),Dd(E,o),Bf(Xa),hr=!!qa,Xa=qa=null,o.current=E,mp(E),Yh(),De=w,Te=x,Pt.transition=p}else o.current=E;if(Go&&(Go=!1,wn=o,Pr=O),p=o.pendingLanes,p===0&&(Pn=null),Kh(E.stateNode),_t(o,Ye()),h!==null)for(D=o.onRecoverableError,E=0;E<h.length;E++)O=h[E],D(O.value,{componentStack:O.stack,digest:O.digest});if(Ir)throw Ir=!1,o=gs,gs=null,o;return Pr&1&&o.tag!==0&&yi(),p=o.pendingLanes,p&1?o===vs?to++:(to=0,vs=o):to=0,$n(),null}function yi(){if(wn!==null){var o=vc(Pr),h=Pt.transition,E=Te;try{if(Pt.transition=null,Te=16>o?16:o,wn===null)var D=!1;else{if(o=wn,wn=null,Pr=0,De&6)throw Error(fe(331));var O=De;for(De|=4,me=o.current;me!==null;){var p=me,x=p.child;if(me.flags&16){var w=p.deletions;if(w!==null){for(var C=0;C<w.length;C++){var b=w[C];for(me=b;me!==null;){var y=me;switch(y.tag){case 0:case 11:case 15:Zi(8,y,p)}var g=y.child;if(g!==null)g.return=y,me=g;else for(;me!==null;){y=me;var d=y.sibling,_=y.return;if(Id(y),y===b){me=null;break}if(d!==null){d.return=_,me=d;break}me=_}}}var f=p.alternate;if(f!==null){var l=f.child;if(l!==null){f.child=null;do{var u=l.sibling;l.sibling=null,l=u}while(l!==null)}}me=p}}if(p.subtreeFlags&2064&&x!==null)x.return=p,me=x;else e:for(;me!==null;){if(p=me,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Zi(9,p,p.return)}var r=p.sibling;if(r!==null){r.return=p.return,me=r;break e}me=p.return}}var s=o.current;for(me=s;me!==null;){x=me;var t=x.child;if(x.subtreeFlags&2064&&t!==null)t.return=x,me=t;else e:for(x=s;me!==null;){if(w=me,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Lr(9,w)}}catch(i){Ue(w,w.return,i)}if(w===x){me=null;break e}var n=w.sibling;if(n!==null){n.return=w.return,me=n;break e}me=w.return}}if(De=O,$n(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Tr,o)}catch{}D=!0}return D}finally{Te=E,Pt.transition=h}}return!1}function Pu(o,h,E){h=ki(E,h),h=vd(o,h,1),o=In(o,h,1),h=ct(),o!==null&&(xo(o,1,h),_t(o,h))}function Ue(o,h,E){if(o.tag===3)Pu(o,o,E);else for(;h!==null;){if(h.tag===3){Pu(h,o,E);break}else if(h.tag===1){var D=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(Pn===null||!Pn.has(D))){o=ki(E,o),o=_d(h,o,1),h=In(h,o,1),o=ct(),h!==null&&(xo(h,1,o),_t(h,o));break}}h=h.return}}function Cp(o,h,E){var D=o.pingCache;D!==null&&D.delete(h),h=ct(),o.pingedLanes|=o.suspendedLanes&E,tt===o&&(it&E)===E&&(Je===4||Je===3&&(it&130023424)===it&&500>Ye()-ol?zn(o,0):il|=E),_t(o,h)}function jd(o,h){h===0&&(o.mode&1?(h=Vo,Vo<<=1,!(Vo&130023424)&&(Vo=4194304)):h=1);var E=ct();o=sn(o,h),o!==null&&(xo(o,h,E),_t(o,E))}function kp(o){var h=o.memoizedState,E=0;h!==null&&(E=h.retryLane),jd(o,E)}function Sp(o,h){var E=0;switch(o.tag){case 13:var D=o.stateNode,O=o.memoizedState;O!==null&&(E=O.retryLane);break;case 19:D=o.stateNode;break;default:throw Error(fe(314))}D!==null&&D.delete(h),jd(o,E)}var Rd;Rd=function(o,h,E){if(o!==null)if(o.memoizedProps!==h.pendingProps||gt.current)pt=!0;else{if(!(o.lanes&E)&&!(h.flags&128))return pt=!1,fp(o,h,E);pt=!!(o.flags&131072)}else pt=!1,Re&&h.flags&1048576&&zc(h,yr,h.index);switch(h.lanes=0,h.tag){case 2:var D=h.type;nr(o,h),o=h.pendingProps;var O=xi(h,lt.current);mi(h,E),O=Qs(null,h,D,o,O,E);var p=Js();return h.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,vt(D)?(p=!0,_r(h)):p=!1,h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Gs(h),O.updater=Fr,h.stateNode=O,O._reactInternals=h,os(h,D,o,E),h=ss(null,h,D,!0,p,E)):(h.tag=0,Re&&p&&Fs(h),ut(null,h,O,E),h=h.child),h;case 16:D=h.elementType;e:{switch(nr(o,h),o=h.pendingProps,O=D._init,D=O(D._payload),h.type=D,O=h.tag=Pp(D),o=At(D,o),O){case 0:h=as(null,h,D,o,E);break e;case 1:h=mu(null,h,D,o,E);break e;case 11:h=vu(null,h,D,o,E);break e;case 14:h=_u(null,h,D,At(D.type,o),E);break e}throw Error(fe(306,D,""))}return h;case 0:return D=h.type,O=h.pendingProps,O=h.elementType===D?O:At(D,O),as(o,h,D,O,E);case 1:return D=h.type,O=h.pendingProps,O=h.elementType===D?O:At(D,O),mu(o,h,D,O,E);case 3:e:{if(xd(h),o===null)throw Error(fe(387));D=h.pendingProps,p=h.memoizedState,O=p.element,qc(o,h),wr(h,D,null,E);var x=h.memoizedState;if(D=x.element,p.isDehydrated)if(p={element:D,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},h.updateQueue.baseState=p,h.memoizedState=p,h.flags&256){O=ki(Error(fe(423)),h),h=yu(o,h,D,E,O);break e}else if(D!==O){O=ki(Error(fe(424)),h),h=yu(o,h,D,E,O);break e}else for(yt=Sn(h.stateNode.containerInfo.firstChild),bt=h,Re=!0,Vt=null,E=Gc(h,null,D,E),h.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(wi(),D===O){h=ln(o,h,E);break e}ut(o,h,D,E)}h=h.child}return h;case 5:return Xc(h),o===null&&ts(h),D=h.type,O=h.pendingProps,p=o!==null?o.memoizedProps:null,x=O.children,Ka(D,O)?x=null:p!==null&&Ka(D,p)&&(h.flags|=32),bd(o,h),ut(o,h,x,E),h.child;case 6:return o===null&&ts(h),null;case 13:return wd(o,h,E);case 4:return Ys(h,h.stateNode.containerInfo),D=h.pendingProps,o===null?h.child=Ei(h,null,D,E):ut(o,h,D,E),h.child;case 11:return D=h.type,O=h.pendingProps,O=h.elementType===D?O:At(D,O),vu(o,h,D,O,E);case 7:return ut(o,h,h.pendingProps,E),h.child;case 8:return ut(o,h,h.pendingProps.children,E),h.child;case 12:return ut(o,h,h.pendingProps.children,E),h.child;case 10:e:{if(D=h.type._context,O=h.pendingProps,p=h.memoizedProps,x=O.value,$e(br,D._currentValue),D._currentValue=x,p!==null)if(Ft(p.value,x)){if(p.children===O.children&&!gt.current){h=ln(o,h,E);break e}}else for(p=h.child,p!==null&&(p.return=h);p!==null;){var w=p.dependencies;if(w!==null){x=p.child;for(var C=w.firstContext;C!==null;){if(C.context===D){if(p.tag===1){C=on(-1,E&-E),C.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var y=b.pending;y===null?C.next=C:(C.next=y.next,y.next=C),b.pending=C}}p.lanes|=E,C=p.alternate,C!==null&&(C.lanes|=E),ns(p.return,E,h),w.lanes|=E;break}C=C.next}}else if(p.tag===10)x=p.type===h.type?null:p.child;else if(p.tag===18){if(x=p.return,x===null)throw Error(fe(341));x.lanes|=E,w=x.alternate,w!==null&&(w.lanes|=E),ns(x,E,h),x=p.sibling}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===h){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}ut(o,h,O.children,E),h=h.child}return h;case 9:return O=h.type,D=h.pendingProps.children,mi(h,E),O=Ot(O),D=D(O),h.flags|=1,ut(o,h,D,E),h.child;case 14:return D=h.type,O=At(D,h.pendingProps),O=At(D.type,O),_u(o,h,D,O,E);case 15:return md(o,h,h.type,h.pendingProps,E);case 17:return D=h.type,O=h.pendingProps,O=h.elementType===D?O:At(D,O),nr(o,h),h.tag=1,vt(D)?(o=!0,_r(h)):o=!1,mi(h,E),gd(h,D,O),os(h,D,O,E),ss(null,h,D,!0,o,E);case 19:return Ed(o,h,E);case 22:return yd(o,h,E)}throw Error(fe(156,h.tag))};function Fd(o,h){return hc(o,h)}function Ip(o,h,E,D){this.tag=o,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(o,h,E,D){return new Ip(o,h,E,D)}function ll(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Pp(o){if(typeof o=="function")return ll(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Is)return 11;if(o===Ps)return 14}return 2}function Dn(o,h){var E=o.alternate;return E===null?(E=It(o.tag,h,o.key,o.mode),E.elementType=o.elementType,E.type=o.type,E.stateNode=o.stateNode,E.alternate=o,o.alternate=E):(E.pendingProps=h,E.type=o.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=o.flags&14680064,E.childLanes=o.childLanes,E.lanes=o.lanes,E.child=o.child,E.memoizedProps=o.memoizedProps,E.memoizedState=o.memoizedState,E.updateQueue=o.updateQueue,h=o.dependencies,E.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},E.sibling=o.sibling,E.index=o.index,E.ref=o.ref,E}function rr(o,h,E,D,O,p){var x=2;if(D=o,typeof o=="function")ll(o)&&(x=1);else if(typeof o=="string")x=5;else e:switch(o){case ii:return Bn(E.children,O,p,h);case Ss:x=8,O|=8;break;case Pa:return o=It(12,E,h,O|2),o.elementType=Pa,o.lanes=p,o;case Oa:return o=It(13,E,h,O),o.elementType=Oa,o.lanes=p,o;case Da:return o=It(19,E,h,O),o.elementType=Da,o.lanes=p,o;case Xu:return zr(E,O,p,h);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Yu:x=10;break e;case qu:x=9;break e;case Is:x=11;break e;case Ps:x=14;break e;case vn:x=16,D=null;break e}throw Error(fe(130,o==null?o:typeof o,""))}return h=It(x,E,h,O),h.elementType=o,h.type=D,h.lanes=p,h}function Bn(o,h,E,D){return o=It(7,o,D,h),o.lanes=E,o}function zr(o,h,E,D){return o=It(22,o,D,h),o.elementType=Xu,o.lanes=E,o.stateNode={isHidden:!1},o}function Ca(o,h,E){return o=It(6,o,null,h),o.lanes=E,o}function ka(o,h,E){return h=It(4,o.children!==null?o.children:[],o.key,h),h.lanes=E,h.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},h}function Op(o,h,E,D,O){this.tag=h,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=D,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function ul(o,h,E,D,O,p,x,w,C){return o=new Op(o,h,E,w,C),h===1?(h=1,p===!0&&(h|=8)):h=0,p=It(3,null,null,h),o.current=p,p.stateNode=o,p.memoizedState={element:D,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gs(p),o}function Dp(o,h,E){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:D==null?null:""+D,children:o,containerInfo:h,implementation:E}}function Ld(o){if(!o)return Tn;o=o._reactInternals;e:{if(Kn(o)!==o||o.tag!==1)throw Error(fe(170));var h=o;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(vt(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(fe(171))}if(o.tag===1){var E=o.type;if(vt(E))return Lc(o,E,h)}return h}function Nd(o,h,E,D,O,p,x,w,C){return o=ul(E,D,!0,o,O,p,x,w,C),o.context=Ld(null),E=o.current,D=ct(),O=On(E),p=on(D,O),p.callback=h??null,In(E,p,O),o.current.lanes=O,xo(o,O,D),_t(o,D),o}function Br(o,h,E,D){var O=h.current,p=ct(),x=On(O);return E=Ld(E),h.context===null?h.context=E:h.pendingContext=E,h=on(p,x),h.payload={element:o},D=D===void 0?null:D,D!==null&&(h.callback=D),o=In(O,h,x),o!==null&&(Rt(o,O,x,p),Zo(o,O,x)),x}function Dr(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Ou(o,h){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var E=o.retryLane;o.retryLane=E!==0&&E<h?E:h}}function cl(o,h){Ou(o,h),(o=o.alternate)&&Ou(o,h)}function Mp(){return null}var zd=typeof reportError=="function"?reportError:function(o){console.error(o)};function dl(o){this._internalRoot=o}Wr.prototype.render=dl.prototype.render=function(o){var h=this._internalRoot;if(h===null)throw Error(fe(409));Br(o,h,null,null)};Wr.prototype.unmount=dl.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var h=o.containerInfo;qn(function(){Br(null,o,null,null)}),h[an]=null}};function Wr(o){this._internalRoot=o}Wr.prototype.unstable_scheduleHydration=function(o){if(o){var h=yc();o={blockedOn:null,target:o,priority:h};for(var E=0;E<mn.length&&h!==0&&h<mn[E].priority;E++);mn.splice(E,0,o),E===0&&xc(o)}};function hl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Ur(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Du(){}function Tp(o,h,E,D,O){if(O){if(typeof D=="function"){var p=D;D=function(){var b=Dr(x);p.call(b)}}var x=Nd(h,D,o,0,null,!1,!1,"",Du);return o._reactRootContainer=x,o[an]=x.current,co(o.nodeType===8?o.parentNode:o),qn(),x}for(;O=o.lastChild;)o.removeChild(O);if(typeof D=="function"){var w=D;D=function(){var b=Dr(C);w.call(b)}}var C=ul(o,0,!1,null,null,!1,!1,"",Du);return o._reactRootContainer=C,o[an]=C.current,co(o.nodeType===8?o.parentNode:o),qn(function(){Br(h,C,E,D)}),C}function Gr(o,h,E,D,O){var p=E._reactRootContainer;if(p){var x=p;if(typeof O=="function"){var w=O;O=function(){var C=Dr(x);w.call(C)}}Br(h,x,o,O)}else x=Tp(E,h,o,O,D);return Dr(x)}_c=function(o){switch(o.tag){case 3:var h=o.stateNode;if(h.current.memoizedState.isDehydrated){var E=Ui(h.pendingLanes);E!==0&&(Ms(h,E|1),_t(h,Ye()),!(De&6)&&(Si=Ye()+500,$n()))}break;case 13:qn(function(){var D=sn(o,1);if(D!==null){var O=ct();Rt(D,o,1,O)}}),cl(o,1)}};Ts=function(o){if(o.tag===13){var h=sn(o,134217728);if(h!==null){var E=ct();Rt(h,o,134217728,E)}cl(o,134217728)}};mc=function(o){if(o.tag===13){var h=On(o),E=sn(o,h);if(E!==null){var D=ct();Rt(E,o,h,D)}cl(o,h)}};yc=function(){return Te};bc=function(o,h){var E=Te;try{return Te=o,h()}finally{Te=E}};La=function(o,h,E){switch(h){case"input":if(Ha(o,E),h=E.name,E.type==="radio"&&h!=null){for(E=o;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<E.length;h++){var D=E[h];if(D!==o&&D.form===o.form){var O=Vr(D);if(!O)throw Error(fe(90));Qu(D),Ha(D,O)}}}break;case"textarea":Zu(o,E);break;case"select":h=E.value,h!=null&&pi(o,!!E.multiple,h,!1)}};ac=rl;sc=qn;var Hp={usingClientEntryPoint:!1,Events:[Eo,si,Vr,oc,rc,rl]},zi={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ap={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=cc(o),o===null?null:o.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||Mp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{Tr=Yo.inject(Ap),Yt=Yo}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp;wt.createPortal=function(o,h){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hl(h))throw Error(fe(200));return Dp(o,h,null,E)};wt.createRoot=function(o,h){if(!hl(o))throw Error(fe(299));var E=!1,D="",O=zd;return h!=null&&(h.unstable_strictMode===!0&&(E=!0),h.identifierPrefix!==void 0&&(D=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),h=ul(o,1,!1,null,null,E,!1,D,O),o[an]=h.current,co(o.nodeType===8?o.parentNode:o),new dl(h)};wt.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var h=o._reactInternals;if(h===void 0)throw typeof o.render=="function"?Error(fe(188)):(o=Object.keys(o).join(","),Error(fe(268,o)));return o=cc(h),o=o===null?null:o.stateNode,o};wt.flushSync=function(o){return qn(o)};wt.hydrate=function(o,h,E){if(!Ur(h))throw Error(fe(200));return Gr(null,o,h,!0,E)};wt.hydrateRoot=function(o,h,E){if(!hl(o))throw Error(fe(405));var D=E!=null&&E.hydratedSources||null,O=!1,p="",x=zd;if(E!=null&&(E.unstable_strictMode===!0&&(O=!0),E.identifierPrefix!==void 0&&(p=E.identifierPrefix),E.onRecoverableError!==void 0&&(x=E.onRecoverableError)),h=Nd(h,null,o,1,E??null,O,!1,p,x),o[an]=h.current,co(o),D)for(o=0;o<D.length;o++)E=D[o],O=E._getVersion,O=O(E._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[E,O]:h.mutableSourceEagerHydrationData.push(E,O);return new Wr(h)};wt.render=function(o,h,E){if(!Ur(h))throw Error(fe(200));return Gr(null,o,h,!1,E)};wt.unmountComponentAtNode=function(o){if(!Ur(o))throw Error(fe(40));return o._reactRootContainer?(qn(function(){Gr(null,null,o,!1,function(){o._reactRootContainer=null,o[an]=null})}),!0):!1};wt.unstable_batchedUpdates=rl;wt.unstable_renderSubtreeIntoContainer=function(o,h,E,D){if(!Ur(E))throw Error(fe(200));if(o==null||o._reactInternals===void 0)throw Error(fe(38));return Gr(o,h,E,!1,D)};wt.version="18.3.1-next-f1338f8080-20240426";function Bd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bd)}catch(o){console.error(o)}}Bd(),Bu.exports=wt;var $p=Bu.exports,Mu=$p;Sa.createRoot=Mu.createRoot,Sa.hydrateRoot=Mu.hydrateRoot;var Wd={exports:{}};/*
@license

dhtmlxDiagram v.6.0.1 Evaluation

This software is covered by DHTMLX Evaluation License and purposed only for evaluation.
Contact sales@dhtmlx.com to get Commercial or Enterprise license.
Usage without proper license is prohibited.

(c) XB Software.

*/(function(o,h){if(window.dhx&&(window.dhx_legacy=dhx,delete window.dhx),function(O,p){o.exports=p()}(window,function(){return function(O){var p={};function x(w){if(p[w])return p[w].exports;var C=p[w]={i:w,l:!1,exports:{}};return O[w].call(C.exports,C,C.exports,x),C.l=!0,C.exports}return x.m=O,x.c=p,x.d=function(w,C,b){x.o(w,C)||Object.defineProperty(w,C,{enumerable:!0,get:b})},x.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},x.t=function(w,C){if(1&C&&(w=x(w)),8&C||4&C&&typeof w=="object"&&w&&w.__esModule)return w;var b=Object.create(null);if(x.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:w}),2&C&&typeof w!="string")for(var y in w)x.d(b,y,(function(g){return w[g]}).bind(null,y));return b},x.n=function(w){var C=w&&w.__esModule?function(){return w.default}:function(){return w};return x.d(C,"a",C),C},x.o=function(w,C){return Object.prototype.hasOwnProperty.call(w,C)},x.p="/codebase/",x(x.s=114)}([function(O,p,x){(function(w){Object.defineProperty(p,"__esModule",{value:!0}),p.setTheme=p.awaitRedraw=p.resizeHandler=p.jsonToVDOM=p.xmlToJson=p.resizer=p.disableHelp=p.KEYED_LIST=p.inject=p.create=p.view=p.sv=p.el=void 0;var C=x(125),b=x(2);p.el=C.defineElement,p.sv=C.defineSvgElement,p.view=C.defineView,p.create=C.createView,p.inject=C.injectView,p.KEYED_LIST=C.KEYED_LIST;var y=["animate","animateMotion","animateTransform","circle","clipPath","color-profile","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tspan","unknown","use","view"];function g(d){var _=window.ResizeObserver,f=function(l){var u=l.el.offsetHeight,r=l.el.offsetWidth;d(r,u)};return _?(0,p.el)("div.dhx-resize-observer",{_hooks:{didInsert:function(l){new _(function(){return f(l)}).observe(l.el)}}}):(0,p.el)("iframe.dhx-resize-observer",{_hooks:{didInsert:function(l){l.el.contentWindow.onresize=function(){return f(l)},f(l)}}})}p.disableHelp=function(){C.DEVMODE.mutations=!1,C.DEVMODE.warnings=!1,C.DEVMODE.verbose=!1,C.DEVMODE.UNKEYED_INPUT=!1},p.resizer=g,p.xmlToJson=function d(_){var f={};if(_.nodeType===1){if(_.attributes.length>0){f["@attributes"]={};for(var l=0;l<_.attributes.length;l++){var u=_.attributes.item(l);f["@attributes"][u.nodeName]=u.nodeValue}}}else _.nodeType===3&&(f=_.nodeValue);if(_.hasChildNodes())for(var r=0;r<_.childNodes.length;r++){var s=_.childNodes.item(r),t=s.nodeName;if(f[t]===void 0)f[t]=d(s);else{if(f[t].push===void 0){var n=f[t];f[t]=[],f[t].push(n)}f[t].push(d(s))}}return f},p.jsonToVDOM=function d(_){var f,l,u=Object.keys(_)[0],r=_[u];Array.isArray(r["#text"])&&(r["#text"]=r["#text"].join("").trim());var s=typeof r["#text"]=="string"?[r["#text"]]:[];for(var t in r)if(r.hasOwnProperty(t)&&t!=="@attributes"&&t!=="#text")if(Array.isArray(r[t]))for(var n in r[t])r[t].hasOwnProperty(n)&&s.push(d(((f={})[t]=r[t][n],f)));else s.push(d(((l={})[t]=r[t],l)));return y.includes(u)?(0,p.sv)(u,r["@attributes"]?r["@attributes"]:{},s):(0,p.el)(u,r["@attributes"]?r["@attributes"]:{},s)},p.resizeHandler=function(d,_){return(0,p.create)({render:function(){return g(_)}}).mount(d)},p.awaitRedraw=function(){return new w(function(d){requestAnimationFrame(function(){d()})})},p.setTheme=function(d,_){d===void 0&&(d="light");var f="data-dhx-theme";_||document.querySelectorAll("[".concat(f,"]")).forEach(function(l){return l.removeAttribute(f)}),_=_||document.documentElement,(0,b.toNode)(_).setAttribute(f,d)}}).call(this,x(17))},function(O,p,x){(function(w){var C=this&&this.__assign||function(){return C=Object.assign||function(g){for(var d,_=1,f=arguments.length;_<f;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},C.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.blobToBase64=p.isMacintosh=p.getTextLines=p.getCloneObject=p.rgbToHex=p.isObject=p.getStringWidth=p.getMinArrayNumber=p.getMaxArrayNumber=p.isEmptyObj=p.isType=p.compare=p.debounce=p.downloadFile=p.isNumeric=p.range=p.isId=p.isDefined=p.wrapBox=p.unwrapBox=p.detectWidgetClick=p.singleOuterClick=p.isExistValue=p.findIndex=p.naturalSort=p.copy=p.extend=p.uid=void 0;var b=x(2),y=new Date().valueOf();p.uid=function(){return"u"+y++},p.extend=function g(d,_,f){if(f===void 0&&(f=!0),_)for(var l in _){var u=_[l],r=d[l];u===void 0?delete d[l]:!f||typeof r!="object"||r instanceof Date||r instanceof Array?d[l]=u:g(r,u)}return d},p.copy=function(g,d){var _={};for(var f in g)d&&f.startsWith("$")||(_[f]=g[f]);return _},p.naturalSort=function(g){return g.sort(function(d,_){return typeof d=="string"?d.localeCompare(_):d-_})},p.findIndex=function(g,d){for(var _=g.length,f=0;f<_;f++)if(d(g[f]))return f;return-1},p.isExistValue=function(g,d){var _=d.toString(),f=g.toString();return!(_.length>f.length)&&f.toLowerCase().includes(_.toLowerCase())},p.singleOuterClick=function(g){var d=function(_){g(_)&&document.removeEventListener("click",d)};document.addEventListener("click",d)},p.detectWidgetClick=function(g,d){var _=function(f){return d((0,b.locate)(f,"data-dhx-widget-id")===g)};return document.addEventListener("click",_),function(){return document.removeEventListener("click",_)}},p.unwrapBox=function(g){return Array.isArray(g)?g[0]:g},p.wrapBox=function(g){return Array.isArray(g)?g:[g]},p.isDefined=function(g){return g!=null},p.isId=function(g){return typeof g=="number"||typeof g=="string"&&g!==""},p.range=function(g,d){if(g>d)return[];for(var _=[];g<=d;)_.push(g++);return _},p.isNumeric=function(g){return!isNaN(g-parseFloat(g))},p.downloadFile=function(g,d,_){_===void 0&&(_="text/plain");var f=new Blob([g],{type:_});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(f,d);else{var l=document.createElement("a"),u=URL.createObjectURL(f);l.href=u,l.download=d,document.body.appendChild(l),l.click(),setTimeout(function(){document.body.removeChild(l),window.URL.revokeObjectURL(u)},0)}},p.debounce=function(g,d,_){var f;return function(){for(var l=this,u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];var s=_&&!f;clearTimeout(f),f=setTimeout(function(){f=null,_||g.apply(l,u)},d),s&&g.apply(this,u)}},p.compare=function g(d,_){for(var f in d){if(d.hasOwnProperty(f)!==_.hasOwnProperty(f))return!1;switch(typeof d[f]){case"object":if(!g(d[f],_[f]))return!1;break;case"function":if(_[f]===void 0||f!=="compare"&&d[f].toString()!==_[f].toString())return!1;break;default:if(d[f]!==_[f])return!1}}for(var f in _)if(!d.hasOwnProperty(f))return!1;return!0},p.isType=function(g){return((Object.prototype.toString.call(g).match(/^\[object (\S+?)\]$/)||[])[1]||"undefined").toLowerCase()},p.isEmptyObj=function(g){for(var d in g)return!1;return!0},p.getMaxArrayNumber=function(g){if(g.length){for(var d=-1/0,_=0,f=g.length;_<f;_++)g[_]>d&&(d=g[_]);return d}},p.getMinArrayNumber=function(g){if(g.length){for(var d=1/0,_=0,f=g.length;_<f;_++)g[_]<d&&(d=g[_]);return d}},p.getStringWidth=function(g,d){d=C({font:"normal 14px Roboto",lineHeight:20},d);var _=document.createElement("canvas"),f=_.getContext("2d");d.font&&(f.font=d.font);var l=f.measureText(g).width;return(0,b.isIE)()||_.remove(),l},p.isObject=function(g){return g!==null&&typeof g=="object"&&!(g instanceof Date)},p.rgbToHex=function(g){if(g.substr(0,1)==="#")return g;if(g.substr(0,3)==="rgb"){var d=/(.*?)rgb[a]?\((\d+), *(\d+), *(\d+),* *([\d+.]*)\)/.exec(g),_=parseInt(d[2],10).toString(16).padStart(2,"0"),f=parseInt(d[3],10).toString(16).padStart(2,"0"),l=parseInt(d[4],10).toString(16).padStart(2,"0");return"#".concat(_).concat(f).concat(l)}},p.getCloneObject=function g(d){if(!d)return d;var _=Array.isArray(d)?[]:{};for(var f in d){var l=d[f];l instanceof Date?_[f]=new Date(l):_[f]=typeof l=="object"?g(l):l}return _},p.getTextLines=function(g,d,_){for(var f=d.split(" "),l="",u="",r=[],s=0;s<f.length;s++)u+="".concat(f[s]," "),g.measureText(u.trimEnd()).width>_&&s>0?(r.push(l),l="".concat(f[s]," "),u="".concat(f[s]," ")):l+="".concat(f[s]," "),s===f.length-1&&r.push(l);return r},p.isMacintosh=function(){return navigator.userAgent.indexOf("Mac")>-1},p.blobToBase64=function(g){return new w(function(d,_){var f=new FileReader;f.onloadend=function(){d(f.result)},f.readAsDataURL(g)})}}).call(this,x(17))},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},w.apply(this,arguments)};function C(r,s,t){for(s===void 0&&(s="data-dhx-id"),t===void 0&&(t="target"),r instanceof Event&&(r=r[t]);r;){if(r.getAttribute&&r.getAttribute(s))return r;r=r.parentNode}}Object.defineProperty(p,"__esModule",{value:!0}),p.getPageLinksCss=p.getPageInlineCss=p.getLabelStyle=p.getStrSize=p.fitPosition=p.calculatePosition=p.getRealPosition=p.isFirefox=p.isSafari=p.isIE=p.getScrollbarHeight=p.getScrollbarWidth=p.getBox=p.locateNodeByClassName=p.locate=p.locateNode=p.eventHandler=p.toNode=void 0,p.toNode=function(r){var s;return typeof r=="string"?document.getElementById(r)||document.querySelector("[data-cell-id=".concat(r,"]"))||document.querySelector(r)||((s=document.querySelector("[data-dhx-root-id=".concat(r,"]")))===null||s===void 0?void 0:s.parentElement)||document.body:r||document.body},p.eventHandler=function(r,s,t){var n=Object.keys(s);return function(i){var e=r(i);if(e!==void 0){var a=i.target;e:for(;a;){var c=a.getAttribute&&a.getAttribute("class")||"";if(c.length){for(var v=c.split(" "),m=0;m<n.length;m++)if(v.includes(n[m])){if(s[n[m]](i,e)===!1||i.cancelBubble)return!1;break e}}a=a.parentNode}}return typeof t=="function"&&t(i),!0}},p.locateNode=C,p.locate=function(r,s){s===void 0&&(s="data-dhx-id");var t=C(r,s);return t?t.getAttribute(s):""},p.locateNodeByClassName=function(r,s){for(r instanceof Event&&(r=r.target);r;){if(s){if(r.classList&&r.classList.contains(s))return r}else if(r.getAttribute&&r.getAttribute("data-dhx-id"))return r;r=r.parentNode}},p.getBox=function(r){var s=r.getBoundingClientRect(),t=document.body,n=window.pageYOffset||t.scrollTop,i=window.pageXOffset||t.scrollLeft;return{top:s.top+n,left:s.left+i,right:t.offsetWidth-s.right,bottom:t.offsetHeight-s.bottom,width:s.right-s.left,height:s.bottom-s.top}};var b=-1;p.getScrollbarWidth=function(){if(b>-1)return b;var r=document.createElement("div");return document.body.appendChild(r),r.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",b=r.offsetWidth-r.clientWidth,document.body.removeChild(r),b};var y=-1;function g(r){var s=r.getBoundingClientRect();return{left:s.left+window.pageXOffset,right:s.right+window.pageXOffset,top:s.top+window.pageYOffset,bottom:s.bottom+window.pageYOffset}}function d(){return{rightBorder:window.pageXOffset+window.innerWidth,bottomBorder:window.pageYOffset+window.innerHeight}}function _(r,s){var t,n,i=d(),e=i.rightBorder,a=i.bottomBorder-r.bottom-s.height,c=r.top-s.height;if(s.mode==="bottom"?a>=0?n=r.bottom:c>=0&&(n=c):c>=0?n=c:a>=0&&(n=r.bottom),a<0&&c<0){if(s.auto)return f(r,w(w({},s),{mode:"right",auto:!1}));n=a>c?r.bottom:c}if(s.centering)t=function(k,I,P){var T=(I-(k.right-k.left))/2,H=k.left-T,$=k.right+T;return H>=0&&$<=P?H:H<0?0:P-I}(r,s.width,e);else{var v=e-r.left-s.width,m=r.right-s.width;t=v>=0?r.left:m>=0?m:m>v?r.left:m}return{left:t,top:n}}function f(r,s){var t,n,i=d(),e=i.rightBorder,a=i.bottomBorder,c=e-r.right-s.width,v=r.left-s.width;if(s.mode==="right"?c>=0?t=r.right:v>=0&&(t=v):v>=0?t=v:c>=0&&(t=r.right),v<0&&c<0){if(s.auto)return _(r,w(w({},s),{mode:"bottom",auto:!1}));t=v>c?v:r.right}if(s.centering)n=function(I,P,T){var H=(P-(I.bottom-I.top))/2,$=I.top-H,L=I.bottom+H;return $>=0&&L<=T?$:$<0?0:T-P}(r,s.height,a);else{var m=r.bottom-s.height,k=a-r.top-s.height;n=k>=0?r.top:m>0||m>k?m:r.top}return{left:t,top:n}}function l(r,s){var t=s.mode==="bottom"||s.mode==="top"?_(r,s):f(r,s),n=t.left,i=t.top;return{left:Math.round(n)+"px",top:Math.round(i)+"px",minWidth:Math.round(s.width)+"px",position:"absolute"}}p.getScrollbarHeight=function(){if(y>-1)return y;var r=document.createElement("div");return document.body.appendChild(r),r.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",y=r.offsetHeight-r.clientHeight,document.body.removeChild(r),y},p.isIE=function(){var r=window.navigator.userAgent;return r.includes("MSIE ")||r.includes("Trident/")},p.isSafari=function(){var r=function(n){return n.test(window.navigator.userAgent)},s=r(/Chrome/),t=r(/Firefox/);return!s&&!t&&r(/Safari/)},p.isFirefox=function(){var r=function(n){return n.test(window.navigator.userAgent)},s=r(/Chrome/),t=r(/Safari/);return!s&&!t&&r(/Firefox/)},p.getRealPosition=g,p.calculatePosition=l,p.fitPosition=function(r,s){return l(g(r),s)},p.getStrSize=function(r,s){s=w({fontSize:"14px",fontFamily:"Arial",lineHeight:"14px",fontWeight:"normal",fontStyle:"normal"},s);var t=document.createElement("span"),n=s.fontSize,i=s.fontFamily,e=s.lineHeight,a=s.fontWeight,c=s.fontStyle,v=s.strokeWidth;t.style.fontSize=n,t.style.fontFamily=i,t.style.lineHeight=e,t.style.fontWeight=a,t.style.fontStyle=c,t.style.display="inline-flex",t.innerText=r,document.body.appendChild(t);var m=t.offsetWidth,k=t.clientHeight;return document.body.removeChild(t),{width:m+parseFloat(v||0),height:k+parseFloat(v||0)}};var u=function(r){return r.href&&r.ownerNode.outerHTML.indexOf(window.location.origin)===-1&&(r.ownerNode.outerHTML.indexOf("http")!==-1||r.ownerNode.outerHTML.indexOf("https")!==-1||r.ownerNode.outerHTML.indexOf('href="//')!==-1)};p.getLabelStyle=function(r){var s=r.helpMessage,t=r.type,n=r.labelWidth,i=r.label,e=n&&n.toString().startsWith("0"),a=t!=="text"&&r.required;return!!(s||a||!(!i||i&&e)||n&&!e)&&{style:(i||n)&&!e&&{width:n,"max-width":"100%"},label:i&&e?null:i}},p.getPageInlineCss=function(){for(var r=[],s=0;s<document.styleSheets.length;s++){var t=document.styleSheets[s];if(!u(t))for(var n=("cssRules"in t)&&t.cssRules.length?t.cssRules:t.rules,i=0;i<n.length;i++){var e=n[i];"cssText"in e?r.push(e.cssText):r.push("".concat(e.selectorText,` {
`).concat(e.style.cssText,`
}
`))}}return r.join(`
`)},p.getPageLinksCss=function(r){var s=[];if(r)r.forEach(function(i){return s.push('<link href="'.concat(i,'" rel="stylesheet"/>'))});else for(var t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];u(n)&&s.push('<link href="'.concat(n.href,'" rel="stylesheet"/>'))}return s.join(`
`)}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.EventsMixin=p.EventSystem=void 0;var w=function(){function C(b){this.events={},this.context=b||this}return C.prototype.on=function(b,y,g){var d=b.toLowerCase();this.events[d]=this.events[d]||[],this.events[d].push({callback:y,context:g||this.context})},C.prototype.detach=function(b,y){var g=b.toLowerCase(),d=this.events[g];if(y&&d&&d.length)for(var _=d.length-1;_>=0;_--)d[_].context===y&&d.splice(_,1);else this.events[g]=[]},C.prototype.fire=function(b,y){y===void 0&&(y=[]);var g=b.toLowerCase();return!this.events[g]||!this.events[g].map(function(d){return d.callback.apply(d.context,y)}).includes(!1)},C.prototype.clear=function(){this.events={}},C}();p.EventSystem=w,p.EventsMixin=function(C){var b=new w(C=C||{});C.detachEvent=b.detach.bind(b),C.attachEvent=b.on.bind(b),C.callEvent=b.fire.bind(b)}},function(O,p,x){var w,C,b,y;Object.defineProperty(p,"__esModule",{value:!0}),p.ItemEvent=p.ValidationStatus=p.FormEvents=p.ClearMethod=void 0,function(g){g.value="value",g.validation="validation"}(w||(p.ClearMethod=w={})),function(g){g.beforeChange="beforeChange",g.change="change",g.click="click",g.focus="focus",g.blur="blur",g.keydown="keydown",g.beforeShow="beforeShow",g.afterShow="afterShow",g.beforeHide="beforeHide",g.afterHide="afterHide",g.afterValidate="afterValidate",g.beforeValidate="beforeValidate",g.beforeChangeProperties="beforeChangeProperties",g.afterChangeProperties="afterChangeProperties",g.beforeSend="beforesend",g.afterSend="aftersend",g.buttonClick="buttonClick",g.validationFail="validationfail"}(C||(p.FormEvents=C={})),function(g){g[g.pre=0]="pre",g[g.error=1]="error",g[g.success=2]="success"}(b||(p.ValidationStatus=b={})),function(g){g.click="click",g.beforeChange="beforeChange",g.change="change",g.input="input",g.focus="focus",g.blur="blur",g.keydown="keydown",g.beforeChangeOptions="beforeChangeOptions",g.changeOptions="changeOptions",g.beforeShow="beforeShow",g.afterShow="afterShow",g.beforeHide="beforeHide",g.afterHide="afterHide",g.beforeValidate="beforeValidate",g.afterValidate="afterValidate",g.beforeUploadFile="beforeUploadFile",g.uploadFile="uploadfile",g.uploadBegin="uploadBegin",g.uploadComplete="uploadComplete",g.uploadFail="uploadFail",g.uploadProgress="uploadProgress",g.beforeChangeProperties="beforeChangeProperties",g.afterChangeProperties="afterChangeProperties"}(y||(p.ItemEvent=y={}))},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.toViewLike=p.View=void 0;var w=x(1),C=x(2),b=function(){function y(g,d){var _;this.config=d||{},this._uid=(_=this.config.rootId)!==null&&_!==void 0?_:(0,w.uid)()}return y.prototype.mount=function(g,d){d&&(this._view=d),g&&this._view&&this._view.mount&&(this._container=(0,C.toNode)(g),this._container.tagName?this._view.mount(this._container):this._container.attach&&this._container.attach(this))},y.prototype.unmount=function(){var g=this.getRootView();g&&g.node&&(g.unmount(),this._view=null)},y.prototype.getRootView=function(){return this._view},y.prototype.getRootNode=function(){return this._view&&this._view.node&&this._view.node.el},y.prototype.paint=function(){this._view&&(this._view.node||this._container)&&(this._doNotRepaint=!1,this._view.redraw())},y}();p.View=b,p.toViewLike=function(y){return{getRootView:function(){return y},paint:function(){return y.node&&y.redraw()},mount:function(g){return y.mount(g)}}}},function(O,p,x){var w,C=this&&this.__rest||function(l,u){var r={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&u.indexOf(s)<0&&(r[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(s=Object.getOwnPropertySymbols(l);t<s.length;t++)u.indexOf(s[t])<0&&Object.prototype.propertyIsEnumerable.call(l,s[t])&&(r[s[t]]=l[s[t]])}return r};Object.defineProperty(p,"__esModule",{value:!0}),p.setAttacments=p.widgetConfig=p.baseProps=p.isVerify=p.isTimeFormat=p.baseInputValidate=p.validateInput=p.isBlock=p.validateTemplate=p.getValidationMessage=p.getFormItemCss=void 0;var b=x(4),y=x(41),g=x(1);p.getFormItemCss=function(l,u,r){var s;r===void 0&&(r=!1);var t=l.labelPosition,n=l.required,i=l.disabled,e=l.hiddenLabel,a=l.$validationStatus,c=(s={},s[b.ValidationStatus.pre]="",s[b.ValidationStatus.error]=" dhx_form-group--state_error",s[b.ValidationStatus.success]=" dhx_form-group--state_success",s)[a]||"",v=t==="left"?" dhx_form-group--inline":"",m=i?" dhx_form-group--disabled":"",k=e?" dhx_form-group--label_sr":"";return u?v+(r?"":c)+(n?" dhx_form-group--required":"")+m+k:v+m+k};var d=((w={})[y.Validation.validAlphaNumeric]=/^[a-zA-Z0-9_]+$/,w[y.Validation.validEmail]=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,w[y.Validation.validInteger]=/^-?\d+$/,w[y.Validation.validIPv4]=/\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.|$)){4}\b/,w[y.Validation.validNumeric]=/^-?\d+(\.\d+)?$/,w);function _(l){return l.type!=="fieldset"&&(!!l.rows||!!l.cols)}p.getValidationMessage=function(l){var u;return(u={undefined:l.preMessage},u[b.ValidationStatus.pre]=l.preMessage,u[b.ValidationStatus.error]=l.errorMessage,u[b.ValidationStatus.success]=l.successMessage,u)[l.$validationStatus]||""},p.validateTemplate=function(l,u){return!d[l]||d[l].test(u)},p.isBlock=_,p.validateInput=function(l,u){var r=!0;if(typeof u=="function")r=u(l);else{var s=d[u];s&&(r=s.test(l.toString()))}return r},p.baseInputValidate=function(l,u){var r=l??"";if(u.required&&!String(r).trim())return!1;var s=function(t,n,i){var e=(0,g.isDefined)(n),a=(0,g.isDefined)(i);return e&&a?Number(n)<=Number(i)&&Number(n)<=t&&Number(i)>=t:e?Number(n)<=t:!a||Number(i)>=t};return u.inputType==="number"?s(Number(r),u.min,u.max):s(String(r).length,u.minlength,u.maxlength)},p.isTimeFormat=function(l,u){return u===12?/(^0?([1-9][0-2]?):[0-5][0-9]?([AP][M]?)$)/i.test(l):/(^(0[0-9]|1[0-9]|2[0-3]|[0-9]):[0-5][0-9]$)/i.test(l)},p.isVerify=function(l){return["required","validation","minlength","maxlength","min","max"].some(function(u){switch(u){case"required":return!!l[u];case"validation":return typeof l[u]=="function"||l[u]==="email"||l[u]==="integer"||l[u]==="numeric"||l[u]==="alphanumeric"||l[u]==="IPv4";case"minlength":case"maxlength":return typeof l[u]=="number"||typeof l[u]=="string";case"min":case"max":return(typeof l[u]=="number"||typeof l[u]=="string")&&l.inputType==="number"}})},p.baseProps=["width","height","padding","css"];function f(l,u,r){l===void 0&&(l=[]);for(var s=[],t=0;t<l.length;t++){var n=l[t];n.type&&(u[n.name].parent=r,s.push(u[n.name])),_(n)&&s.push.apply(s,f(n.rows||n.cols,u,r))}return s}p.widgetConfig=function(l){return l.width,l.type,l.id,l.name,l.hidden,l.editable,l.css,l.required,l.helpMessage,l.preMessage,l.successMessage,l.errorMessage,l.label,l.labelWidth,l.labelPosition,l.hiddenLabel,l.validation,l.icon,C(l,["width","type","id","name","hidden","editable","css","required","helpMessage","preMessage","successMessage","errorMessage","label","labelWidth","labelPosition","hiddenLabel","validation","icon"])},p.setAttacments=function(l,u){var r;for(var s in l){var t=l[s];t.config.type==="fieldset"?(t.setAttachments(f(t.config.rows||t.config.cols,l,t)),t.setCell(u.getCell(s))):(r=u.getCell(s))===null||r===void 0||r.attach(t)}}},function(O,p,x){var w,C,b,y,g;Object.defineProperty(p,"__esModule",{value:!0}),p.Split=p.GridSelectionEvents=p.GridSystemEvents=p.GridEvents=p.HeaderFilterEvent=void 0,function(d){d.change="change"}(w||(p.HeaderFilterEvent=w={})),function(d){d.scroll="scroll",d.expand="expand",d.filterChange="filterChange",d.beforeFilter="beforeFilter",d.beforeResizeStart="beforeResizeStart",d.resize="resize",d.afterResizeEnd="afterResizeEnd",d.cellClick="cellClick",d.cellRightClick="cellRightClick",d.cellMouseOver="cellMouseOver",d.cellMouseDown="cellMouseDown",d.cellDblClick="cellDblClick",d.headerCellClick="headerCellClick",d.footerCellClick="footerCellClick",d.headerCellMouseOver="headerCellMouseOver",d.footerCellMouseOver="footerCellMouseOver",d.headerCellMouseDown="headerCellMouseDown",d.footerCellMouseDown="footerCellMouseDown",d.headerCellDblClick="headerCellDblClick",d.footerCellDblClick="footerCellDblClick",d.headerCellRightClick="headerCellRightClick",d.footerCellRightClick="footerCellRightClick",d.beforeEditStart="beforeEditStart",d.afterEditStart="afterEditStart",d.beforeEditEnd="beforeEditEnd",d.afterEditEnd="afterEditEnd",d.beforeKeyDown="beforeKeyDown",d.afterKeyDown="afterKeyDown",d.beforeColumnHide="beforeColumnHide",d.afterColumnHide="afterColumnHide",d.beforeColumnShow="beforeColumnShow",d.afterColumnShow="afterColumnShow",d.beforeRowHide="beforeRowHide",d.afterRowHide="afterRowHide",d.beforeRowShow="beforeRowShow",d.afterRowShow="afterRowShow",d.beforeRowDrag="beforeRowDrag",d.dragRowStart="dragRowStart",d.dragRowOut="dragRowOut",d.dragRowIn="dragRowIn",d.canRowDrop="canRowDrop",d.cancelRowDrop="cancelRowDrop",d.beforeRowDrop="beforeRowDrop",d.afterRowDrop="afterRowDrop",d.afterRowDrag="afterRowDrag",d.beforeColumnDrag="beforeColumnDrag",d.dragColumnStart="dragColumnStart",d.dragColumnOut="dragColumnOut",d.dragColumnIn="dragColumnIn",d.canColumnDrop="canColumnDrop",d.cancelColumnDrop="cancelColumnDrop",d.beforeColumnDrop="beforeColumnDrop",d.afterColumnDrop="afterColumnDrop",d.afterColumnDrag="afterColumnDrag",d.beforeRowResize="beforeRowResize",d.afterRowResize="afterRowResize",d.beforeSort="beforeSort",d.afterSort="afterSort"}(C||(p.GridEvents=C={})),function(d){d.cellTouchMove="cellTouchMove",d.cellTouchEnd="cellTouchEnd",d.headerCellTouchMove="headerCellTouchMove",d.headerCellTouchEnd="headerCellTouchEnd"}(b||(p.GridSystemEvents=b={})),function(d){d.beforeUnSelect="beforeUnSelect",d.afterUnSelect="afterUnSelect",d.beforeSelect="beforeSelect",d.afterSelect="afterSelect"}(y||(p.GridSelectionEvents=y={})),function(d){d.left="leftSplit",d.right="rightSplit",d.top="topSplit",d.bottom="bottomSplit"}(g||(p.Split=g={}))},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(22),p),C(x(68),p),C(x(135),p),C(x(136),p),C(x(32),p),C(x(171),p),C(x(23),p),C(x(71),p),C(x(70),p),C(x(172),p),C(x(69),p),C(x(47),p)},function(O,p,x){var w,C=this&&this.__extends||(w=function(u,r){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,t){s.__proto__=t}||function(s,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])},w(u,r)},function(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=u}w(u,r),u.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}),b=this&&this.__assign||function(){return b=Object.assign||function(u){for(var r,s=1,t=arguments.length;s<t;s++)for(var n in r=arguments[s])Object.prototype.hasOwnProperty.call(r,n)&&(u[n]=r[n]);return u},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Label=void 0;var y=x(0),g=x(2),d=x(5),_=x(11),f=x(4),l=function(u){function r(s,t){t===void 0&&(t={});var n=u.call(this,s,t)||this;return n._handlers=b({showHelper:function(i){i.preventDefault(),i.stopPropagation(),n._helper.show(i.target,{mode:n.config.labelPosition==="left"?"bottom":"right",theme:i.target})},hideHelper:function(i){i.preventDefault(),i.stopPropagation(),n._helper.hide()}},n._getHandlers()),n.mount(s,(0,y.create)({render:function(){return n.config&&n._draw()}})),n}return C(r,u),r.prototype.setValidationStatus=function(s){s===void 0&&(s="pre"),this.config.$validationStatus=f.ValidationStatus[s]},r.prototype._destructor=function(){this._helper&&this._helper.destructor(),this.config=this._handlers=this._helper=null,this.unmount()},r.prototype._getHandlers=function(){return{}},r.prototype._init=function(){},r.prototype._draw=function(){return this._drawLabel()},r.prototype._drawLabel=function(){var s=this.config,t=s.id,n=s.helpMessage,i=s.required;this.config.helpMessage&&(this._helper||(this._helper=new _.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"})),this._helper.attachHTML(this.config.helpMessage));var e=(0,g.getLabelStyle)(this.config);return e&&(0,y.el)("".concat(this.config.type.includes("group")?"legend":"label",".dhx_label"),{for:t||this._uid,class:n?"dhx_label--with-help":"",style:e.style},n?[(e.label||i)&&(0,y.el)("span.dhx_label__holder",e.label),(0,y.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,onfocus:this._handlers.showHelper,onblur:this._handlers.hideHelper,id:"dhx_label__help_".concat(t||this._uid)})]:e.label)},r}(d.View);p.Label=l},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0});var w=x(12),C=x(43);p.default={type:"input",key:"text",$handler:function(b){var y=b.id,g=b.value,d=b.editor,_=b.key,f=b.control;this.inputType==="number"&&(g=g||this.value),d.diagram.data.update(y,(0,C.getModifiedObject)(_,g,Array.isArray(_)&&d.diagram.data.getItem(y)||{})),f.setValue(g)},$setValue:function(b){var y=b.control,g=b.value;g!==""||typeof y.clear!="function"?y.setValue(g):y.clear()},$layout:function(b){return(0,w.default)(b,{type:"input"})}}},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(150),p),C(x(76),p)},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(b){for(var y,g=1,d=arguments.length;g<d;g++)for(var _ in y=arguments[g])Object.prototype.hasOwnProperty.call(y,_)&&(b[_]=y[_]);return b},w.apply(this,arguments)},C=this&&this.__rest||function(b,y){var g={};for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&y.indexOf(d)<0&&(g[d]=b[d]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function"){var _=0;for(d=Object.getOwnPropertySymbols(b);_<d.length;_++)y.indexOf(d[_])<0&&Object.prototype.propertyIsEnumerable.call(b,d[_])&&(g[d[_]]=b[d[_]])}return g};Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(b,y){if(b.wrap&&b.label){var g=b.label,d=b.labelAlignment,_=b.padding,f=b.align,l=b.width,u=b.height,r=b.disabled,s=b.hidden,t=(b.labelWidth,b.helpMessage,b.compact),n=C(b,["label","labelAlignment","padding","align","width","height","disabled","hidden","labelWidth","helpMessage","compact"]),i=b.css||"";return b.label&&!b.compact||(i+=" dhx_form-fieldset--compact"),{type:"fieldset",label:g,labelAlignment:d,css:i,padding:_,align:f,width:l,height:u,disabled:r,hidden:s,compact:t,rows:[w(w({},n),y)]}}return w(w({},b),y)}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(C){for(var b,y=1,g=arguments.length;y<g;y++)for(var d in b=arguments[y])Object.prototype.hasOwnProperty.call(b,d)&&(C[d]=b[d]);return C},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.default={type:"fieldset",compact:!1,$layout:function(C){var b=C.css||"";return C.label&&!C.compact||(b+=" dhx_form-fieldset--compact"),w(w({},C),{type:"fieldset",css:b})}}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.KeyManager=void 0;var w=x(31),C=x(2);function b(d){for(var _=d.toLowerCase().match(/\w+/g),f=0,l="",u=0;u<_.length;u++){var r=_[u];r==="ctrl"?f+=4:r==="shift"?f+=2:r==="alt"?f+=1:l=r}return f+l}var y={Up:"arrowUp",Down:"arrowDown",Right:"arrowRight",Left:"arrowLeft",Esc:"escape",Spacebar:"space"},g=function(){function d(_){var f=this;this._keysStorage={},this._initHandler=function(l){var u;if(l.which>=48&&l.which<=57||l.which>=65&&l.which<=90)u=String.fromCharCode(l.which);else{var r=l.which===32?l.code:l.key;u=(0,C.isIE)()&&y[r]||r}var s=f._keysStorage[(l.ctrlKey||l.metaKey?4:0)+(l.shiftKey?2:0)+(l.altKey?1:0)+(u&&u.toLowerCase())];if(s)for(var t=0;t<s.length;t++){if(f._beforeCall&&f._beforeCall(l,w.focusManager.getFocusId())===!1)return;s[t].handler(l)}},_&&(this._beforeCall=_),document.addEventListener("keydown",this._initHandler)}return d.prototype.destructor=function(){document.removeEventListener("keydown",this._initHandler),this.removeHotKey()},d.prototype.addHotKey=function(_,f){var l=b(_);this._keysStorage[l]||(this._keysStorage[l]=[]),this._keysStorage[l].push({handler:f})},d.prototype.removeHotKey=function(_,f){var l=this;if(_)if(_&&f){var u=b(_),r=function(t){return t.toString().replace(/\n/g,"").replace(/\s/g,"")};this._keysStorage[u].forEach(function(t,n){r(t.handler)===r(f)&&(delete l._keysStorage[u][n],l._keysStorage[u]=l._keysStorage[u].filter(function(i){return i}))})}else{var s=b(_);delete this._keysStorage[s]}else this._keysStorage={}},d.prototype.exist=function(_){var f=b(_);return!!this._keysStorage[f]},d.prototype.getKeyStorageLength=function(){return Object.keys(this._keysStorage).length},d}();p.KeyManager=g},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.scrollFixedColsAndRows=p.getTotalHeight=p.getTotalWidth=p.isHtmlEnable=p.isTooltip=p.isContentTooltip=p.showTooltip=p.isAutoWidth=p.isSortable=p.isRowEmpty=p.isCssSupport=p.removeHTMLTags=p.getStyleByClass=p.transpose=void 0;var w=x(1),C=x(2),b=x(21);p.transpose=function(y,g){for(var d=[],_=0;_<y.length;_++)for(var f=y[_],l=0;l<f.length;l++){d[l]=d[l]||[];var u=g?g(f[l]):f[l];d[l].push(u)}return d},p.getStyleByClass=function(y,g,d,_){_===void 0&&(_=document.body);var f,l,u,r=_.querySelector("."+g.trim().replace(/\s/g,".")),s=(f=r,typeof(l='<div class="'.concat(y,'"></div>'))=="string"?(f.insertAdjacentHTML("beforeend",l),f.lastChild):(f.appendChild(l),l)),t=window.getComputedStyle(s),n="rgba(0, 0, 0, 0)";if(t.backgroundColor===n){var i=window.getComputedStyle(r);u=i.backgroundColor===n?d.background:(0,w.rgbToHex)(i.backgroundColor)}else u=(0,w.rgbToHex)(t.backgroundColor);var e={color:t.color==="rgb(0, 0, 0)"?d.color:(0,w.rgbToHex)(t.color),background:u,fontSize:Math.round(parseFloat(t.fontSize)),bold:["bold","700","600","500"].includes(t.fontWeight)};return r.removeChild(s),(0,w.compare)(e,d)?null:e},p.removeHTMLTags=function(y){return typeof y!="string"&&typeof y!="number"&&typeof y!="boolean"?"":"".concat(y??"").replace(/<[^>]*>/g,"").replace(/["]/g,"&quot;").trim()},p.isCssSupport=function(y,g){try{return CSS.supports(y,g)}catch{var d=document.createElement("div");return d.style[y]=g,d.style[y]===g}},p.isRowEmpty=function(y){if(y)return Object.keys(y).reduce(function(g,d){return d==="id"||d.startsWith("$")?g:g&&y[d]!==void 0&&y[d]!==""?void 0:g},!0)},p.isSortable=function(y,g){return g.sortable!==!1&&y.sortable||g.sortable},p.isAutoWidth=function(y,g){if(g)return g.autoWidth!==!1&&y.autoWidth||g.autoWidth;var d=!1;return y.columns.map(function(_){(_.autoWidth!==!1&&y.autoWidth||_.autoWidth)&&(d=!0)}),d},p.showTooltip=function(y){var g=y.node,d=y.value,_=y.htmlEnable,f=_!==void 0&&_;g&&(0,b.tooltip)(d.toString(),{css:"dhx_grid_tooltip",node:g,htmlEnable:f})},p.isContentTooltip=function(y,g,d,_){for(var f=!1,l=_==="header"?y.headerTooltip:y.footerTooltip,u=[y.tooltip,l,g.tooltip,d==null?void 0:d.tooltip],r=0;r<u.length;r++)typeof u[r]=="boolean"&&(f=u[r]);return f},p.isTooltip=function(y,g){return g.tooltip!==!1&&y.tooltip||g.tooltip},p.isHtmlEnable=function(y,g,d){var _,f;return!!((f=(_=d==null?void 0:d.htmlEnable)!==null&&_!==void 0?_:g.htmlEnable)!==null&&f!==void 0?f:y.htmlEnable)},p.getTotalWidth=function(y){return y.reduce(function(g,d){return g+(d.$width||0)},0)},p.getTotalHeight=function(y){return y.reduce(function(g,d){return g+(d.$height||0)},0)},p.scrollFixedColsAndRows=function(y){var g=(0,C.locateNode)(y,"data-dhx-widget-id").querySelector(".dhx_grid-body"),d=y.deltaY,_=y.shiftKey?[d,0]:[0,d];g==null||g.scrollBy.apply(g,_)}},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(49),p),C(x(147),p),C(x(50),p)},function(O,p,x){(function(w,C){(function(){w=typeof window<"u"?window:this;var b=1,y={},g=!1;function d(f){w.setImmediate?C(f):w.importScripts?setTimeout(f):(b++,y[b]=f,w.postMessage(b,"*"))}function _(f){if(typeof f!="function"&&f!=null||typeof this!="object"||this&&this.then)throw TypeError();var l,u,r=this,s=0,t=0,n=[];r.promise=r,r.resolve=function(c){return l=r.fn,u=r.er,s||(t=c,s=1,d(a)),r},r.reject=function(c){return l=r.fn,u=r.er,s||(t=c,s=2,d(a)),r},r._d=1,r.then=function(c,v){if(this._d!=1)throw TypeError();var m=new _;return m.fn=c,m.er=v,s==3?m.resolve(t):s==4?m.reject(t):n.push(m),m},r.catch=function(c){return r.then(null,c)};var i=function(c){s=c||4,n.map(function(v){s==3&&v.resolve(t)||v.reject(t)})};try{typeof f=="function"&&f(r.resolve,r.reject)}catch(c){r.reject(c)}return r;function e(c,v,m,k){if(s==2)return k();if(typeof t!="object"&&typeof t!="function"||typeof c!="function")k();else try{var I=0;c.call(t,function(P){I++||(t=P,v())},function(P){I++||(t=P,m())})}catch(P){t=P,m()}}function a(){var c;try{c=t&&t.then}catch(v){return t=v,s=2,a()}e(c,function(){s=1,a()},function(){s=2,a()},function(){try{s==1&&typeof l=="function"?t=l(t):s==2&&typeof u=="function"&&(t=u(t),s=1)}catch(v){return t=v,i()}t==r?(t=TypeError(),i()):e(c,function(){i(3)},i,function(){i(s==1&&3)})})}}w.setImmediate||w.addEventListener("message",function(f){if(f.source==w)if(g)d(y[f.data]);else{g=!0;try{y[f.data]()}catch{}delete y[f.data],g=!1}}),_.resolve=function(f){if(this._d!=1)throw TypeError();return f instanceof _?f:new _(function(l){l(f)})},_.reject=function(f){if(this._d!=1)throw TypeError();return new _(function(l,u){u(f)})},_.all=function(f){if(this._d!=1)throw TypeError();if(!(f instanceof Array))return _.reject(TypeError());var l=new _;return function u(r,s){if(s)return l.resolve(s);if(r)return l.reject(r);f.reduce(function(t,n){return n&&n.then?t+1:t},0)==0&&l.resolve(f),f.map(function(t,n){t&&t.then&&t.then(function(i){return f[n]=i,u(),i},u)})}(),l},_.race=function(f){if(this._d!=1)throw TypeError();if(!(f instanceof Array))return _.reject(TypeError());if(f.length==0)return new _;var l=new _;return function u(r,s){if(s)return l.resolve(s);if(r)return l.reject(r);f.reduce(function(t,n){return n&&n.then?t+1:t},0)==0&&l.resolve(f),f.map(function(t,n){t&&t.then&&t.then(function(i){u(null,i)},u)})}(),l},_._d=1,O.exports=_})()}).call(this,x(44),x(120).setImmediate)},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(l){for(var u,r=1,s=arguments.length;r<s;r++)for(var t in u=arguments[r])Object.prototype.hasOwnProperty.call(u,t)&&(l[t]=u[t]);return l},w.apply(this,arguments)},C=this&&this.__spreadArray||function(l,u,r){if(r||arguments.length===2)for(var s,t=0,n=u.length;t<n;t++)!s&&t in u||(s||(s=Array.prototype.slice.call(u,0,t)),s[t]=u[t]);return l.concat(s||Array.prototype.slice.call(u))};Object.defineProperty(p,"__esModule",{value:!0}),p.getEditorValue=p.getValueForNumberColumn=p.getEditorOptions=p.toFormat=p.getMaxColsWidth=p.getTreeCellWidthOffset=p.getCalculatedRowHeight=p.getMaxRowHeight=p.getUnique=p.calculatePositions=p.countColumns=p.measureTextHeight=p.normalizeArray=void 0;var b=x(1),y=x(15),g=x(24);p.normalizeArray=function(l,u){l[u]&&(typeof l[u]=="string"?l[u]=[{text:"".concat(l[u])}]:l[u]=l[u].map(function(r){return typeof r=="string"&&(r={text:r}),r}))},p.measureTextHeight=function(l){var u=l.text,r=u===void 0?"":u,s=l.width,t=s===void 0?0:s,n=l.lineHeight,i=n===void 0?20:n,e=l.font,a=e===void 0?"14px Arial":e,c=l.htmlEnable,v=c!==void 0&&c,m=document.createElement("canvas"),k=m.getContext("2d",{alpha:!1});k.font=a;var I=[],P=[];v&&(r=(0,y.removeHTMLTags)(r));var T=Math.ceil(k.measureText(r).width/t);T>1&&(T=(0,b.getTextLines)(k,r,t).length),P.push(T),I.push(r.split(`
`).length);var H=Math.max((0,b.getMaxArrayNumber)(I),(0,b.getMaxArrayNumber)(P));return m.remove(),H*i},p.countColumns=function(l,u){var r=0,s=0,t=0,n=!1,i=0,e=!1;return u.forEach(function(a){if(r=Math.max(r,a.header.length),t+=a.$width,a.footer&&(s=Math.max(s,a.footer.length),e||(e=!0)),!n){for(var c=0,v=a.header;c<v.length;c++)if(v[c].colspan)return void(n=!0)}}),u.forEach(function(a){if(e&&(a.footer=a.footer||[]),a.header.length<r)for(var c=0;c<r;c++)a.header[c]=a.header[c]||{text:""};if(a.footer){if(a.footer.length<s)for(c=0;c<s;c++)a.footer[c]=a.footer[c]||{text:""};for(c=0;c<a.footer.length;c++)a.footer[c].id||(a.footer[c].id=(0,b.uid)())}a.header=a.header.map(function(v){return typeof v!="object"&&(v={text:v}),v.css=v.css||"",v.text||v.css.includes("dhx_cell-empty")||(v.css+=" dhx_cell-empty"),v.id||(v.id=(0,b.uid)()),v}),a.header[0].text===""&&i++}),l.$totalWidth=t,l.$colspans=n,l.$footer=e,i},p.calculatePositions=function(l,u,r,s,t){for(var n,i,e,a=s.columns||[],c=a.length,v=t||[],m=v.length,k=s.leftSplit?s.columns.slice(0,s.leftSplit).filter(function(z){return!z.hidden}).length:0,I=(n=s.topSplit)!==null&&n!==void 0?n:0,P=(i=s.rightSplit)!==null&&i!==void 0?i:0,T=(e=s.bottomSplit)!==null&&e!==void 0?e:0,H=0,$=0,L=r.left,j=s.$totalWidth/c,M=0;M<c;M++){var F=a[M];if(F.hidden)$++;else{if(!((L-=F.$width)+j/2>0))break;H++}}var S=0,R=0,B=r.top,Y=s.$totalHeight/m;for(M=0;M<m;M++)if((re=v[M]).hidden)R++;else{if(!((B-=re.$height)+Y/2>0))break;S++}for(var q=0,U=0,V=-1/0,A=1/0,N=H+$,W=0;W<c;W++){var Q=a[W];W>=N&&q<l&&!Q.hidden&&(q+=Q.$width,U++),Q.$width>V&&(V=Q.$width),Q.$width<A&&(A=Q.$width)}var X=0,K=0,ne=-1/0,ie=1/0,oe=S+R;for(W=0;W<m;W++){var re=v[W];W>=oe&&X<u&&!re.hidden&&(X+=re.$height,K++),re.$height>ne&&(ne=re.$height),re.$height<ie&&(ie=re.$height)}ie=ie<s.rowHeight?ie:s.rowHeight;var le=Math.round(V/A),ue=Math.round(ne/ie),de=H-le>=k?H-le:k,ge=H+U+le,ce=(s.leftSplit||0)-k,he=a.length-P-ce,ve=ge<he?ge:he,be=S-ue>=I?S-ue:I,xe=S+K+ue,ye=v.length-T;return{xStart:de,xEnd:ve,yStart:be,yEnd:xe<ye?xe:ye}},p.getUnique=function(l,u,r){var s=l.map(function(t){return t[u]});return r&&s.forEach(function(t,n){typeof t=="string"&&t.includes(", ")&&(t.split(", ").forEach(function(i){return s.push(i)}),delete s[n])}),s.filter(function(t,n,i){return i.indexOf(t)===n&&(0,b.isDefined)(t)}).sort()},p.getMaxRowHeight=function(l,u,r){var s,t;r===void 0&&(r={font:"14px Arial",lineHeight:20});var n=document.createElement("canvas"),i=n.getContext("2d",{alpha:!1});i.font=r.font;for(var e={},a=u.length,c=0;c<a;c++)u[c].template?e[u[c].id]={width:u[c].$width-24||0,htmlEnable:u[c].htmlEnable,template:u[c].template,cols:u[c]}:e[u[c].id]={width:u[c].$width-24||0,htmlEnable:u[c].htmlEnable,cols:u[c]};for(var v=[],m=[],k=0,I=Object.entries(l);k<I.length;k++){var P=I[k],T=P[0],H=P[1];if(e[T]&&T!=="id"&&T!=="height"&&!T.startsWith("$")&&(typeof H=="string"||typeof H=="number"||H instanceof Date||Array.isArray(H))){var $=e[T].cols;H=$.editorType==="combobox"||$.editorType==="multiselect"?_(H,$,l):H;var L="";if(!((s=e[T])===null||s===void 0)&&s.template){var j=e[T].template(H,l,e[T].cols);L=e[T].htmlEnable?(0,y.removeHTMLTags)(j):j}else L=typeof H=="string"?e[T].htmlEnable?(0,y.removeHTMLTags)(H):H:H.toString();var M=Math.ceil(i.measureText(L).width/e[T].width);M>1&&(M=(0,b.getTextLines)(i,L,(t=e[T])===null||t===void 0?void 0:t.width).length),m.push(M),v.push(L.split(`
`).length)}}var F=Math.max((0,b.getMaxArrayNumber)(v),(0,b.getMaxArrayNumber)(m));return n.remove(),F*r.lineHeight+8},p.getCalculatedRowHeight=function(l,u){var r=(u=w({rowHeight:40,padding:12},u)).rowHeight<40?l:l+2*u.padding;return l<u.rowHeight?u.rowHeight:r},p.getTreeCellWidthOffset=function(l){return 20+20*l.$level-(l.$items?20:0)};function d(l,u){return C(C([],(typeof l.options=="function"?l.options(l,u):l.options)||[],!0),l.$customOptions||[],!0)}function _(l,u,r){var s=d(u,r);return u.editorType==="multiselect"&&typeof l=="string"?l.split(",").map(function(t){return f(t.trim(),s)}).join(", "):f(l,s)}function f(l,u){var r=u.find(function(s){return s instanceof Object&&s.id==l});return r?r.value:l}p.getMaxColsWidth=function(l,u,r,s){if(r===void 0&&(r={font:"normal 14.4px Arial"}),l.length&&u.length){var t=document.createElement("canvas"),n=t.getContext("2d",{alpha:!1});n.font=r.font;for(var i={},e=u.length,a=0;a<e;a++){var c=u[a],v=c.template,m=c.htmlEnable,k=c.format,I=c.id,P=c.type;i[I]=v&&s==="data"?{width:20,htmlEnable:!!m,template:v,cols:c,type:P}:{width:20,htmlEnable:!!m,format:P==="date"?k||"%M %d %Y":k,cols:c,type:P}}var T=l.length;for(a=0;a<T;a++)for(var H=0,$=Object.entries(l[a]);H<$.length;H++){var L=$[H],j=L[0],M=L[1],F=i[j];if(F&&j!=="id"&&j!=="height"&&!j.startsWith("$")&&(typeof M=="string"||typeof M=="number"||M instanceof Date||Array.isArray(M))){v=F.template;var S=F.cols,R=(k=F.format,P=F.type,m=F.htmlEnable,F.width);M=S.editorType==="combobox"||S.editorType==="multiselect"?_(M,S,l[a]):M;var B=void 0;if(typeof v=="function"){var Y=v(M,l[a],S);B=m?(0,y.removeHTMLTags)(Y):Y}else B=m?(0,y.removeHTMLTags)(M):M.toString();var q=k&&P==="date"&&new Date(B);q!=null&&q.valueOf()&&(B=(0,g.getFormattedDate)(k,q));var U=n.measureText(B).width;U>R&&(i[j].width=U)}}t.remove();for(var V={},A=0,N=Object.entries(i);A<N.length;A++){var W=N[A];j=W[0],M=W[1],V[j]=Math.ceil(M.width)}return V}},p.toFormat=function(l,u,r){if(typeof l=="boolean"||!l&&typeof l!="number")return l;var s=function(t){var n,i,e,a=r.replace(/#+/g,"#").split("#").filter(function(P){return P}),c=r.match(/0/g)&&r.match(/0/g).length;l=(t==="percent"?100*Number(l):l).toString();var v=Math.trunc(Number(l));if(c){var m=l.split(".")[1]||"0";e=a.find(function(P){return P.includes("0")}).replace(/0+/g,""),i=(+("0."+m)).toFixed(c),Number(i)>=1&&v++,i=i.toString().split(".")[1].padEnd(c,"0")}var k="".concat(l<0&&Math.abs(v)===0?"-":"").concat(v),I=a.find(function(P){return!P.includes("0")});return n=I?k.replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1".concat(I)):k,n+=(e||"")+(i||""),t==="percent"?"".concat(n,"%"):n};switch(u){case"number":return r&&!isNaN(Number(l))?s(u):l;case"percent":return r||(r="#"),isNaN(Number(l))?l:s(u);case"date":return r||(r="%M %d %Y"),typeof l=="string"?l=(0,g.getFormattedDate)(r,(0,g.stringToDate)(l,r)):typeof l=="object"&&(l=(0,g.getFormattedDate)(r,l)),l;default:return l}},p.getEditorOptions=d,p.getValueForNumberColumn=function(l,u){return!(0,b.isDefined)(u)||u===""||typeof u=="number"||["select","combobox","multiselect"].includes(l.editorType)?u:typeof u=="string"?parseFloat(u):NaN},p.getEditorValue=f},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.getTextStyle=p.getSwimlaneContainerStyle=p.getSwimlaneBackGround=p.getGroupContainerStyle=p.getMenuIcon=p.getExpandIcon=p.getShapeCss=p.getTextTemplate=p.getHeaderTpl=p.getCircleTpl=void 0;var w=x(0);p.getCircleTpl=function(C,b){if(!C.$count&&C.open!==!1||!C.$connection)return null;var y=C.dir==="vertical",g=C.open===!1,d=C.width/2,_=C.height/2,f={x:y?0:d,y:y?_:C.height},l="";return Array.isArray(C.dir)?(C.dir[b]==="verticalLeft"&&(f.x=0,f.y=_,l+="icon-left ",g=C.openDir.left===!1),C.dir[b]==="verticalRight"&&(f.x=C.width,f.y=_,l+="icon-right ",g=C.openDir.right===!1)):(C.dir==="verticalLeft"&&(f.x=0,f.y=_),C.dir==="verticalRight"&&(f.x=C.width,f.y=_)),(0,w.el)("div",{class:"dhx_diagram_toggle-icon "+(g?"dhx_diagram_toggle-icon--expand ":"dhx_diagram_toggle-icon--collapse "),style:{position:"absolute",top:f.y,left:f.x}},[(0,w.el)("div.dhx_diagram_toggle-icon__wrapper",{style:{background:C.$expandColor}},[(0,w.el)("i.dxi",{class:"".concat(g?"dxi-plus ":"dxi-minus ").concat(l)})])])},p.getHeaderTpl=function(C){var b=C.width,y=C.headerColor||"#20b6e2";return(0,w.el)("div",{class:"dhx_item_header",style:{height:4,width:b,top:0,left:0,position:"absolute",background:y}})},p.getTextTemplate=function(C,b){var y=C.width,g=C.height;return typeof C.text=="string"||typeof C.title=="string"?(0,w.el)("div.dhx_diagram_shape__content",{style:{width:y,height:g,top:0,left:0,overflow:"hidden",transform:"translate(0 0)",position:"absolute"}},[].concat(b)):null},p.getShapeCss=function(C){return{width:C.width,height:C.height,display:"flex",color:C.fontColor,"flex-direction":"column","justify-content":{bottom:"flex-end",top:"flex-start",center:"center"}[C.textVerticalAlign],"text-align":C.textAlign,"line-height":C.lineHeight,"font-size":C.fontSize,"font-style":C.fontStyle||"normal","font-weight":C.fontWeight||"normal","word-break":"break-word","white-space":"pre-wrap"}},p.getExpandIcon=function(C){var b,y,g=C.open,d=C.color;switch(C.position){case"top":b="dxi-chevron-up",y="dxi-chevron-down";break;case"bottom":b="dxi-chevron-down",y="dxi-chevron-up";break;case"right":b="dxi-chevron-right",y="dxi-chevron-left";break;case"left":b="dxi-chevron-left",y="dxi-chevron-right"}var _=g?"dxi ".concat(y," dhx_diagram_toggle-icon dhx_diagram_toggle-icon--collapse"):"dxi ".concat(b," dhx_diagram_toggle-icon dhx_diagram_toggle-icon--expand");return(0,w.el)("div.dhx_diagram_icon",[(0,w.el)("i",{class:_,style:{color:d}})])},p.getMenuIcon=function(C){var b=C.dir,y=C.color,g=b==="cols"?"dxi dxi-dots-vertical":"dxi dxi-dots-horizontal";return(0,w.el)("div.dhx_diagram_icon.dhx_diagram_menu_icon",[(0,w.el)("i",{class:g,style:{color:y}})])},p.getGroupContainerStyle=function(C,b){var y,g=C.$width,d=C.$height,_=C.$captureArea,f=C.$group,l=C.$selected,u=C.type,r=C.style,s=r.borderStyle,t=r.strokeWidth,n=r.stroke,i=r.overFill,e=r.partiallyFill,a=r.fill,c=f||l?l&&u!=="$sgroup"?2:1:0;switch(_){case"over":y=i;break;case"partially":y=e;break;default:y=a}return{position:"absolute",background:y,outline:"".concat(t,"px ").concat(s," ").concat(n),outlineOffset:-t,width:g,height:d,top:b.y,left:b.x,zIndex:c}},p.getSwimlaneBackGround=function(C,b){var y,g=C.$width,d=C.$height,_=C.$captureArea,f=C.style,l=f.overFill,u=f.partiallyFill,r=f.fill;switch(_){case"over":y=l;break;case"partially":y=u;break;default:y=r}return{position:"absolute",background:y,width:g,height:d,top:b.y,left:b.x,zIndex:-1}},p.getSwimlaneContainerStyle=function(C,b){var y=C.$width,g=C.$height,d=C.$group,_=C.$selected,f=C.type,l=C.style,u=l.borderStyle,r=l.strokeWidth,s=l.stroke,t=d||_?_&&f!=="$sgroup"?2:1:0;return{position:"absolute",outline:"".concat(r,"px ").concat(u," ").concat(s),outlineOffset:-r,width:y,height:g,top:b.y,left:b.x,zIndex:t}},p.getTextStyle=function(C){var b=C.lineHeight,y=C.textAlign,g=C.textVerticalAlign,d=C.fontSize,_=C.fontColor,f=C.fontStyle,l=C.fontWeight,u=C.container,r=u.width,s=u.height,t={center:"center",left:"flex-start",right:"flex-end",bottom:"flex-end",top:"flex-start"};return{"justify-content":t[y],"align-items":t[g],fontStyle:f||"normal",fontWeight:l||"500",lineHeight:"".concat(parseInt(b),"px"),fontSize:d,color:_,width:typeof r=="number"?"".concat(r-4-20,"px"):r,height:typeof s=="number"?"".concat(s-4-20,"px"):s}}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.INPUT_PADDING_RIGHT_8=p.INPUT_PADDING_RIGHT_4=p.INPUT_WIDTH_50=void 0,p.INPUT_WIDTH_50="50%",p.INPUT_PADDING_RIGHT_4="0 4px 0 0",p.INPUT_PADDING_RIGHT_8="0 8px 0 0"},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(127),p),C(x(128),p),C(x(129),p),C(x(67),p),C(x(46),p)},function(O,p,x){var w,C,b,y;Object.defineProperty(p,"__esModule",{value:!0}),p.DataDriver=p.DragEvents=p.DataEvents=p.TreeFilterType=void 0,function(g){g.all="all",g.level="level",g.leafs="leafs"}(w||(p.TreeFilterType=w={})),function(g){g.afterAdd="afteradd",g.beforeAdd="beforeadd",g.removeAll="removeall",g.beforeRemove="beforeremove",g.afterRemove="afterremove",g.change="change",g.filter="filter",g.dataRequest="dataRequest",g.load="load",g.loadError="loaderror",g.beforeLazyLoad="beforelazyload",g.afterLazyLoad="afterlazyload",g.beforeItemLoad="beforeItemLoad",g.afterItemLoad="afterItemLoad"}(C||(p.DataEvents=C={})),function(g){g.beforeDrag="beforeDrag",g.dragStart="dragStart",g.dragOut="dragOut",g.dragIn="dragIn",g.canDrop="canDrop",g.cancelDrop="cancelDrop",g.beforeDrop="beforeDrop",g.afterDrop="afterDrop",g.afterDrag="afterDrag"}(b||(p.DragEvents=b={})),function(g){g.json="json",g.csv="csv",g.xml="xml"}(y||(p.DataDriver=y={}))},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.isOnlyPermanentFilters=p.hasJsonOrArrayStructure=p.isTreeCollection=p.copyWithoutInner=p.toDataDriver=p.toProxy=p.dhxError=p.dhxWarning=p.isDebug=p.findByConf=p.naturalCompare=p.isEqualObj=void 0;var w=x(1),C=x(32),b=x(69);p.isEqualObj=function(y,g){for(var d in y)if(y[d]!==g[d]||Array.isArray(y[d]))return!1;return!0},p.naturalCompare=function(y,g){if(isNaN(y)||isNaN(g)){var d=[],_=[];for(y.replace(/(\d+)|(\D+)/g,function(r,s,t){d.push([s||1/0,t||""])}),g.replace(/(\d+)|(\D+)/g,function(r,s,t){_.push([s||1/0,t||""])});d.length&&_.length;){var f=d.shift(),l=_.shift(),u=f[0]-l[0]||f[1].localeCompare(l[1]);if(u)return u}return d.length-_.length}return y-g},p.findByConf=function(y,g){if(typeof g=="function"){if(g.call(this,y))return y}else if(g.by&&g.match&&y[g.by]===g.match)return y},p.isDebug=function(){var y=window.dhx;if(y!==void 0)return y.debug!==void 0&&y.debug},p.dhxWarning=function(y){console.warn(y)},p.dhxError=function(y){throw new Error(y)},p.toProxy=function(y){var g=typeof y;return g==="string"?new C.DataProxy(y):g==="object"?y:void 0},p.toDataDriver=function(y){if(typeof y=="string"){var g=window.dhx,d=g&&g.dataDrivers||b.dataDrivers;if(d[y])return new d[y];console.warn("Incorrect data driver type:",y),console.warn("Available types:",JSON.stringify(Object.keys(d)))}else if(typeof y=="object")return y},p.copyWithoutInner=function(y,g){var d={};for(var _ in y)_.startsWith("$")||g&&g[_]||(d[_]=y[_]);return d},p.isTreeCollection=function(y){return!!y.getRoot},p.hasJsonOrArrayStructure=function(y){if(typeof y=="object")return!0;if(typeof y!="string")return!1;try{var g=JSON.parse(y);return Object.prototype.toString.call(g)==="[object Object]"||Array.isArray(g)}catch{return!1}},p.isOnlyPermanentFilters=function(y){return!(!y||(0,w.isEmptyObj)(y))&&Object.keys(y).every(function(g){var d;return(d=y[g].config)===null||d===void 0?void 0:d.permanent})}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.DateHelper=p.stringToDate=p.getFormattedDate=p.locale=void 0;var w=x(1),C=x(1);p.locale={monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Monday"],cancel:"Cancel"};var b,y={"%d":function(l){var u=l.getDate();return u<10?"0"+u:u},"%j":function(l){return l.getDate()},"%l":function(l){return p.locale.days[l.getDay()]},"%D":function(l){return p.locale.daysShort[l.getDay()]},"%m":function(l){var u=l.getMonth()+1;return u<10?"0"+u:u},"%n":function(l){return l.getMonth()+1},"%M":function(l){return p.locale.monthsShort[l.getMonth()]},"%F":function(l){return p.locale.months[l.getMonth()]},"%y":function(l){return l.getFullYear().toString().slice(2)},"%Y":function(l){return l.getFullYear()},"%h":function(l){var u=l.getHours()%12;return u===0&&(u=12),u<10?"0"+u:u},"%g":function(l){var u=l.getHours()%12;return u===0&&(u=12),u},"%H":function(l){var u=l.getHours();return u<10?"0"+u:u},"%G":function(l){return l.getHours()},"%i":function(l){var u=l.getMinutes();return u<10?"0"+u:u},"%s":function(l){var u=l.getSeconds();return u<10?"0"+u:u},"%a":function(l){return l.getHours()>=12?"pm":"am"},"%A":function(l){return l.getHours()>=12?"PM":"AM"},"%u":function(l){return l.getMilliseconds()}},g={"%d":function(l,u,r,s){var t=/(^([0-9][0-9])$)/i.test(u);if(s)return t;t?l.setDate(Number(u)):l.setDate(1)},"%j":function(l,u,r,s){var t=/(^([0-9]?[0-9])$)/i.test(u);if(s)return t;t?l.setDate(Number(u)):l.setDate(1)},"%m":function(l,u,r,s){var t=/(^([0-9][0-9])$)/i.test(u);if(s)return t;t?l.setMonth(Number(u)-1):l.setMonth(0),t&&l.getMonth()!==Number(u)-1&&l.setMonth(Number(u)-1)},"%n":function(l,u,r,s){var t=/(^([0-9]?[0-9])$)/i.test(u);if(s)return t;t?l.setMonth(Number(u)-1):l.setMonth(0),t&&l.getMonth()!==Number(u)-1&&l.setMonth(Number(u)-1)},"%M":function(l,u,r,s){var t=(0,C.findIndex)(p.locale.monthsShort,function(n){return n===u});if(s)return t!==-1;t===-1?l.setMonth(0):l.setMonth(t),t!==-1&&l.getMonth()!==t&&l.setMonth(t)},"%F":function(l,u,r,s){var t=(0,C.findIndex)(p.locale.months,function(n){return n===u});if(s)return t!==-1;t===-1?l.setMonth(0):l.setMonth(t),t!==-1&&l.getMonth()!==t&&l.setMonth(t)},"%y":function(l,u,r,s){var t=/(^([0-9][0-9])$)/i.test(u);if(s)return t;t?l.setFullYear(+("20"+u)):l.setFullYear(2e3)},"%Y":function(l,u,r,s){var t=/(^([0-9][0-9][0-9][0-9])$)/i.test(u);if(s)return t;t?l.setFullYear(Number(u)):l.setFullYear(2e3)},"%h":function(l,u,r,s){var t=/(^0[1-9]|1[0-2]$)/i.test(u);if(s)return t;t&&(r==="am"||r==="pm")||r==="AM"||r==="PM"?l.setHours(Number(u)):l.setHours(0)},"%g":function(l,u,r,s){var t=/(^[1-9]$)|(^0[1-9]|1[0-2]$)/i.test(u);if(s)return t;t&&(r==="am"||r==="pm")||r==="AM"||r==="PM"?l.setHours(Number(u)):l.setHours(0)},"%H":function(l,u,r,s){var t=/(^[0-2][0-9]$)/i.test(u);if(s)return t;t?l.setHours(Number(u)):l.setHours(0)},"%G":function(l,u,r,s){var t=/(^[1-9][0-9]?$)/i.test(u);if(s)return t;t?l.setHours(Number(u)):l.setHours(0)},"%i":function(l,u,r,s){var t=/(^([0-5][0-9])$)/i.test(u);if(s)return t;t?l.setMinutes(Number(u)):l.setMinutes(0)},"%s":function(l,u,r,s){var t=/(^([0-5][0-9])$)/i.test(u);if(s)return t;t?l.setSeconds(Number(u)):l.setSeconds(0)},"%u":function(l,u,r,s){var t=/(^([0-9][0-9][0-9])$)/i.test(u);if(s)return t;t?l.setMilliseconds(Number(u)):l.setMilliseconds(0)},"%a":function(l,u,r,s){if(s)return u==="pm"||u==="am";u==="pm"&&l.setHours(l.getHours()+12)},"%A":function(l,u,r,s){if(s)return u==="PM"||u==="AM";u==="PM"&&l.setHours(l.getHours()+12)}};function d(l){for(var u=[],r="",s=0;s<l.length;s++)l[s]==="%"?(r.length>0&&(u.push({type:b.separator,value:r}),r=""),u.push({type:b.datePart,value:l[s]+l[s+1]}),s++):r+=l[s];return r.length>0&&u.push({type:b.separator,value:r}),u}(function(l){l[l.separator=0]="separator",l[l.datePart=1]="datePart"})(b||(b={})),p.getFormattedDate=function(l,u){return d(l).reduce(function(r,s){return s.type===b.separator?r+s.value:y[s.value]?r+y[s.value](u):r},"")};var _={"%Y":1,"%y":1,"%M":2,"%F":2,"%m":2,"%n":2};function f(l,u,r){if(typeof l=="string"){u=u.replace(/([a-z])(%a)/i,function(){for(var H=[],$=0;$<arguments.length;$++)H[$]=arguments[$];return l=l.replace(/(am|pm)/i," $&"),H[1]+" "+H[2]});for(var s,t=d(u),n=new Array(2),i=0,e=null,a="Incorrect date, see docs: https://docs.dhtmlx.com/suite/calendar__api__calendar_dateformat_config.html",c=function(H){var $=_[H.formatter];$?n[$-1]=H:(H.formatter!=="%A"&&H.formatter!=="%a"||(s=H.value),n.push(H))},v=0;v<t.length;v++)if(t[v].type===b.separator){var m=l.indexOf(t[v].value,i);if(m===-1){if(r)return!1;throw new Error(a)}e&&(c({formatter:e,value:l.slice(i,m)}),e=null),i=m+t[v].value.length}else if(t[v].type===b.datePart){if(t[v+1]&&t[v+1].type!==b.separator){if(r)return!1;throw new Error(a)}e=t[v].value}e&&c({formatter:e,value:l.slice(i)});for(var k=new Date(0),I=0,P=n;I<P.length;I++){var T=P[I];if(T&&g[T.formatter]){if(r&&!g[T.formatter](k,T.value,s,r))return!1;g[T.formatter](k,T.value,s)}}return!!r||k}}p.stringToDate=f,p.DateHelper=function(){function l(){}return l.copy=function(u){return new Date(u)},l.fromYear=function(u){return new Date(u,0,1)},l.fromYearAndMonth=function(u,r){return new Date(u,r,1)},l.weekStart=function(u,r){var s=(u.getDay()+7-r)%7;return new Date(u.getFullYear(),u.getMonth(),u.getDate()-s)},l.monthStart=function(u){return new Date(u.getFullYear(),u.getMonth(),1)},l.yearStart=function(u){return new Date(u.getFullYear(),0,1)},l.dayStart=function(u){return new Date(u.getFullYear(),u.getMonth(),u.getDate())},l.addDay=function(u,r){return r===void 0&&(r=1),new Date(u.getFullYear(),u.getMonth(),u.getDate()+r)},l.addMonth=function(u,r){return r===void 0&&(r=1),new Date(u.getFullYear(),u.getMonth()+r)},l.addYear=function(u,r){return r===void 0&&(r=1),new Date(u.getFullYear()+r,u.getMonth())},l.withHoursAndMinutes=function(u,r,s,t){return t===void 0||!t&&r===12||t&&r!==12?new Date(u.getFullYear(),u.getMonth(),u.getDate(),r,s):t&&r===12?new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,s):new Date(u.getFullYear(),u.getMonth(),u.getDate(),r+12,s)},l.setMonth=function(u,r){u.setMonth(r)},l.setYear=function(u,r){u.setFullYear(r)},l.mergeHoursAndMinutes=function(u,r){return new Date(u.getFullYear(),u.getMonth(),u.getDate(),r.getHours(),r.getMinutes())},l.isWeekEnd=function(u){return u.getDay()===0||u.getDay()===6},l.getTwelweYears=function(u){var r=u.getFullYear(),s=r-r%12;return(0,w.range)(s,s+11)},l.getDayOrdinal=function(u){return(u.valueOf()-l.yearStart(u).valueOf())/864e5},l.getWeekNumber=function(u){var r=u.getDay()===4?u:l.addDay(u,4-u.getDay()),s=l.getDayOrdinal(r);return Math.trunc(s/7)+1},l.isSameDay=function(u,r){return u.getFullYear()===r.getFullYear()&&u.getMonth()===r.getMonth()&&u.getDate()===r.getDate()},l.toDateObject=function(u,r){return typeof u=="string"?f(u,r):new Date(u)},l.nullTimestampDate=new Date(0),l}()},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(v){for(var m,k=1,I=arguments.length;k<I;k++)for(var P in m=arguments[k])Object.prototype.hasOwnProperty.call(m,P)&&(v[P]=m[P]);return v},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.proRender=p.render=p.applyAutoWidth=p.getElementSizes=p.getRenderConfig=p.getCurrFixedCols=p.calcScrollBarWidth=p.BORDERS=void 0;var C=x(0),b=x(2),y=x(18),g=x(15),d=x(7),_=x(33),f=x(87),l=x(88),u=x(1);function r(v,m,k){var I,P;m===void 0&&(m=!1);var T=v.$totalHeight+v.$headerHeight+v.$footerHeight+p.BORDERS>((I=k==null?void 0:k.height)!==null&&I!==void 0?I:v.$height),H=!T||m?0:(0,b.getScrollbarWidth)(),$=v.$totalWidth+p.BORDERS+H>((P=k==null?void 0:k.width)!==null&&P!==void 0?P:v.$width);return{x:!$||m?0:(0,b.getScrollbarWidth)(),y:H,xState:$,yState:T}}function s(v,m){return v[m]?(m===d.Split.left?v.columns.slice(0,v.leftSplit):v.columns.slice(-v.rightSplit)).filter(function(k){return!k.hidden}):[]}function t(v,m,k,I){var P=k===void 0?[0,0]:k,T=P[0],H=P[1],$=v[0],L=v[1],j=m[0],M=m[1];return j<=$&&$<=M||j<=L&&L<=M||$<=j&&M<=L||$<T||H&&L>=I-H}function n(v,m,k){var I=v.config,P=I.spans,T=P===void 0?[]:P,H=I.columns,$=I.leftSplit,L=$===void 0?0:$,j=I.topSplit,M=j===void 0?0:j,F=I.rightSplit,S=F===void 0?0:F,R=I.bottomSplit,B=R===void 0?0:R,Y=H.filter(function(Q){return!Q.hidden}),q=(0,y.calculatePositions)(k.width,k.height,v._scroll,I,m),U=Y.slice(q.xStart,q.xEnd),V=m.slice(q.yStart,q.yEnd),A=T.filter(function(Q){var X;if(!(!((X=Q.$renderFrom)===null||X===void 0)&&X.length))return!1;var K=t(Q.$rowsVisibility,[q.yStart,q.yEnd],[M,B],m.length),ne=t(Q.$colsVisibility,[q.xStart,q.xEnd],[L,S],H.length);return K&&ne}),N={left:s(I,d.Split.left),right:s(I,d.Split.right)},W={top:m.slice(0,I.topSplit||0),bottom:I.bottomSplit?m.slice(-I.bottomSplit):[]};return w(w({},I),{data:m,columns:I.columns,scroll:v._scroll,$positions:q,headerHeight:I.$headerHeight,footerHeight:I.$footerHeight,firstColId:Y[0]&&Y[0].id,events:v.events,_events:v._events,filteredColumns:Y,currentColumns:U,currentRows:V,currentSpans:A,fixedColumns:N,fixedRows:W,sortBy:v._sortBy,sortDir:v._sortDir,content:v.content,gridId:v._uid,$renderFrom:"render"})}function i(v){if(v&&(v.tagName||(v=v._parent._container),v)){var m=v.currentStyle||window.getComputedStyle(v),k=parseFloat(m.paddingLeft)+parseFloat(m.paddingRight)||0,I=parseFloat(m.paddingTop)+parseFloat(m.paddingBottom)||0;return{width:v.clientWidth-k,height:v.clientHeight-I}}}function e(v,m){var k,I=(0,_.getCells)(v),P=v.filteredColumns,T=v.$resizing,H=v.$totalHeight,$=v.$totalWidth,L=v.leftSplit,j=v.data,M=v.$positions,F=(0,_.getSpans)(v);if(T){var S=(0,u.findIndex)(P,function(U){return U.id===T}),R=(0,g.getTotalWidth)(P.slice(0,S))+P[S].$width;k=(0,C.el)(".dhx_grid-resize-line",{style:{top:0,left:R,height:H}})}var B=v.selection?v.selection.toHTML():null;B=typeof B=="string"?(0,C.el)("div.dhx_selection",{".innerHTML":B}):B;var Y,q=M;return(0,C.el)(".dhx_data-wrap",{style:{height:H,width:$,"padding-left":m.x,"padding-top":m.y},role:"presentation"},[(0,C.el)(".dhx_grid_data".concat(L?".dhx_grid_fixed_left":""),w(w({_flags:C.KEYED_LIST},(0,_.getHandlers)(q.yStart,q.xStart,v)),(Y=j.length,{role:"rowgroup","aria-rowcount":Y})),I),(0,C.el)(".dhx_span-spans",w({role:"presentation"},(0,_.getHandlers)(q.yStart,q.xStart,v)),F),(0,C.el)(".dhx_grid_selection",{_ref:"selection","aria-hidden":"true"},[B,k])])}function a(v,m,k){var I=k.height-p.BORDERS;return I=m?I:I-v.headerHeight,v.$footer?m?I:I-v.footerHeight:I}function c(v,m,k,I,P){k===void 0&&(k=!0),I===void 0&&(I=!1),P===void 0&&(P=!1);var T=!P&&v.$totalHeight>=m.height-v.$headerHeight?(0,b.getScrollbarWidth)():0,H=m.width-p.BORDERS-T,$=v.columns.filter(function(S){return!S.hidden}),L=$.filter(function(S){return!S.width&&!S.$fixed&&(0,g.isAutoWidth)(v,S)}),j=(0,g.getTotalWidth)($.filter(function(S){return S.width||S.$fixed||!(0,g.isAutoWidth)(v,S)})),M=L.reduce(function(S,R){return S+(R.gravity||1)},0);if(H<v.$totalWidth){var F=L.reduce(function(S,R){return S+(R.maxWidth||R.$width)},0);L.length&&L.forEach(function(S){var R=0,B=(R=k?Math.abs(H-F)*((S.gravity||1)/M):Math.abs(H-j)*((S.gravity||1)/M))<S.minWidth||S.minWidth<S.$width,Y=R>S.maxWidth;B||Y?B?(j+=S.$width-R,S.$fixed=!0):Y&&(S.$width=S.maxWidth,S.$fixed=!0):S.$width=R,S.$width<20&&(S.$width=20)})}else L.forEach(function(S){var R=Math.abs(H-j)*((S.gravity||1)/M),B=R<S.minWidth||S.minWidth<S.$width,Y=R>S.maxWidth;B||Y?B?(j+=S.$width-R,I&&(S.$fixed=!0)):Y&&(S.$width=S.maxWidth,I&&(S.$fixed=!0)):S.$width=R,S.$width<20&&(S.$width=20),!k&&S.$fixed&&delete S.$fixed});k&&c(v,m,!1,I,P)}p.BORDERS=2,p.calcScrollBarWidth=r,p.getCurrFixedCols=s,p.getRenderConfig=n,p.getElementSizes=i,p.applyAutoWidth=c,p.render=function(v,m,k,I,P){if(m._container||(m.config.$width=1,m.config.$height=1),v&&v.node&&v.node.parent&&v.node.parent.el){var T=i(v.node.parent.el);m.config.$width=T.width,m.config.$height=T.height}var H=m.config;if(!H)return(0,C.el)("div");if(!H.columns.length)return(0,C.el)(".dhx_grid",{"data-dhx-widget-id":P,"data-dhx-root-id":H.rootParent,role:"empty-grid"});var $=m.data.getRawData(0,-1,null,2);H.columns.reduce(function(re,le){return le.hidden?re:le.hidden},!0)?H.$totalHeight=0:H.$totalHeight=$.reduce(function(re,le){return re+(le.$height||0)},0);var L=i(m._container),j={width:(H.$width?H.$width:H.width&&typeof H.width=="number"?H.width:L==null?void 0:L.width)||0,height:(H.$height?H.$height:H.height&&typeof H.height=="number"?H.height:L==null?void 0:L.height)||0};(0,g.isAutoWidth)(H)&&(c(H,j),H.$totalWidth=(0,g.getTotalWidth)(H.columns.filter(function(re){return!re.hidden}))),H.$width=j.width,H.$height=j.height;var M=n(m,$,j);M.selection=I,M.datacollection=m.data;var F=(0,_.getShifts)(M);M.$scrollBarWidth=r(M);var S,R,B,Y,q=(0,g.isCssSupport)("position","sticky"),U=a(M,q,j),V={wrapper:j,sticky:q,shifts:F,gridBodyHeight:U},A=(0,l.getFixedRows)(M,w(w({},V),{name:"header",position:"top"})),N=M.$footer?(0,l.getFixedRows)(M,w(w({},V),{name:"footer",position:"bottom"})):null,W=M.$totalWidth+p.BORDERS<j.width?"dhx_grid-less-width":"",Q=M.$totalHeight+p.BORDERS<j.height?"dhx_grid-less-height":"",X=M.fixedColumns.right.length?"dhx_grid__contains_cols_right--fixed":"",K=H.bottomSplit?"dhx_grid__contains_rows_bottom--fixed":"";if(!v.node){var ne=m.getScrollState(),ie=ne.x,oe=ne.y;(0,C.awaitRedraw)().then(function(){m.scroll(ie,oe)})}return(0,C.el)(".dhx_grid.dhx_widget",w({class:(M.css||"")+(q?"":" dhx_grid_border")+(H.multiselection?" dhx_no-select--pointer":""),"data-dhx-widget-id":P,"data-dhx-root-id":H.rootParent},(S=M.data,R=H.columns,B=M.editable,Y=M.multiselection,{role:"grid","aria-rowcount":S.length,"aria-colcount":R.filter(function(re){return!re.hidden}).length,"aria-readonly":B?"false":"true","aria-multiselectable":Y?"true":"false"})),[(0,C.resizer)(function(re){return(0,g.isAutoWidth)(m.config)&&re&&(H.$totalWidth=0,c(H,j,!0,!0)),m.paint()}),(0,C.el)(".dhx_grid-content",{style:w({},j),onclick:k.onclick,onmouseover:k.onmouseover,class:"".concat(W," ").concat(Q," ").concat(X," ").concat(K).trim(),role:"presentation"},[q?null:A,(0,C.el)(".dhx_grid-body",{style:{height:U,width:j.width-p.BORDERS},onscroll:k.onscroll,_ref:"grid_body",role:"presentation"},[(0,C.el)("div",{},[q?A:null,e(M,F),q?N:null])]),(0,f.getFixedColsHeader)(M,V,d.Split.left),(0,f.getFixedColsHeader)(M,V,d.Split.right),(0,f.getFixedCols)(M,V,d.Split.left),(0,f.getFixedCols)(M,V,d.Split.right),(0,l.getFixedDataRows)(M,V,d.Split.top),(0,l.getFixedDataRows)(M,V,d.Split.bottom),q?null:N])])},p.proRender=function(v,m,k,I,P){var T,H;m._container||(m.config.$width=1,m.config.$height=1),v&&v.node&&v.node.parent&&v.node.parent.el&&(H=i(v.node.parent.el),m.config.$width=H.width,m.config.$height=H.height);var $=m.config;if(!$)return(0,C.el)("div");if(!$.columns.length)return(0,C.el)(".dhx_grid",{"data-dhx-widget-id":P,"data-dhx-root-id":$.rootParent,role:"empty-grid"});var L,j,M,F=m.data.getRawData(0,-1,null,2);$.columns.reduce(function(le,ue){return ue.hidden?le:ue.hidden},!0)?$.$totalHeight=0:$.$totalHeight=F.reduce(function(le,ue){return le+(ue.$height||0)},0);var S=i(m._container);m.config.height==="auto"&&(M=function(le,ue,de){var ge,ce,he=le._container,ve=ue.$headerHeight+(ue.$footerHeight&&ue.$footerHeight+1)+ue.$totalHeight+p.BORDERS;if(he){var be=window.getComputedStyle(he),xe=be.minHeight,ye=be.maxHeight;return ve<=parseFloat(xe)?parseFloat(xe):ve>=parseFloat(ye)?parseFloat(ye):ve+r(ue,!!(!((ge=le.scrollView)===null||ge===void 0)&&ge.config.enable),de).x}return ve+(de?r(ue,!!(!((ce=le.scrollView)===null||ce===void 0)&&ce.config.enable),de).x:0)}(m,$,H||S)),L=$.$width?$.$width:$.width&&typeof $.width=="number"?$.width:S==null?void 0:S.width,j=$.$height?$.$height:$.height&&typeof $.height=="number"?$.height:S==null?void 0:S.height;var R={width:L||0,height:(m.config.height==="auto"?M:j)||0};(0,g.isAutoWidth)($)&&(c($,R,!0,!1,m.scrollView&&m.scrollView.config.enable),$.$totalWidth=(0,g.getTotalWidth)($.columns.filter(function(le){return!le.hidden}))),$.$width=R.width,$.$height=R.height;var B=n(m,F,R);B.selection=I,B.datacollection=m.data;var Y=(0,_.getShifts)(B);B.$scrollBarWidth=r(B,!!(!((T=m.scrollView)===null||T===void 0)&&T.config.enable));var q=(0,g.isCssSupport)("position","sticky"),U=a(B,q,R),V={wrapper:R,sticky:q,shifts:Y,gridBodyHeight:U},A=(0,l.getFixedRows)(B,w(w({},V),{name:"header",position:"top"})),N=B.$footer?(0,l.getFixedRows)(B,w(w({},V),{name:"footer",position:"bottom"})):null,W=B.$totalWidth+p.BORDERS<R.width?"dhx_grid-less-width":"",Q=B.$totalHeight+p.BORDERS<R.height?"dhx_grid-less-height":"",X=B.fixedColumns.right.length?"dhx_grid__contains_cols_right--fixed":"",K=$.bottomSplit?"dhx_grid__contains_rows_bottom--fixed":"";if(!v.node){var ne=m.getScrollState(),ie=ne.x,oe=ne.y;(0,C.awaitRedraw)().then(function(){m.scroll(ie,oe)})}var re=(0,C.el)("div",{},[q?A:null,e(B,Y),q?N:null]);return(0,C.el)(".dhx_grid.dhx_widget",{class:(B.css||"")+(q?"":" dhx_grid_border")+($.multiselection?" dhx_no-select--pointer":""),style:{height:M??null},"data-dhx-widget-id":P,"data-dhx-root-id":$.rootParent,role:"grid","aria-rowcount":B.data.length,"aria-colcount":$.columns.filter(function(le){return!le.hidden}).length},[(0,C.resizer)(function(le){return(0,g.isAutoWidth)(m.config)&&le&&($.$totalWidth=0,c($,R,!0,!0)),m.paint()}),(0,C.el)(".dhx_grid-content",{style:w({},R),onclick:k.onclick,onmouseover:k.onmouseover,class:"".concat(W," ").concat(Q," ").concat(X," ").concat(K).trim(),role:"presentation"},[q?null:A,(0,C.el)(".dhx_grid-body",{style:{height:U,width:R.width-p.BORDERS},onscroll:k.onscroll,_ref:"grid_body",role:"presentation"},[m.scrollView&&m.scrollView.config.enable?m.scrollView.render([re]):re]),(0,f.getFixedColsHeader)(B,V,d.Split.left),(0,f.getFixedColsHeader)(B,V,d.Split.right),(0,f.getFixedCols)(B,V,d.Split.left),(0,f.getFixedCols)(B,V,d.Split.right),(0,l.getFixedDataRows)(B,V,d.Split.top),(0,l.getFixedDataRows)(B,V,d.Split.bottom),q?null:N])])}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.normalizeCell=p.getReducedColspan=p.getHeight=p.getWidth=void 0,p.getWidth=function(w,C,b){return w.slice(b,b+(C||1)).filter(function(y){return!y.hidden}).reduce(function(y,g){return y+g.$width},0)},p.getHeight=function(w,C,b){var y=w.filter(function(g){return!g.hidden});return C?y.reduce(function(g,d,_){var f=d.$height;return g+=_>=b&&_<b+C?f:0},0):y[b].$height},p.getReducedColspan=function(w,C,b){var y=w.findIndex(function(g){return g.id===C});return w.slice(y,y+(b||1)).filter(function(g){return!g.hidden}).length},p.normalizeCell=function(w,C){if(w){var b=w.row,y=w.column,g=C.getSpan(b.id,y.id);return g?{row:b.id===g.row?b:C.data.getItem(g.row),column:y.id===g.column?y:C.config.columns.find(function(d){return d.id===g.column})}:w}}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.DiagramEvents=p.DataEvents=p.SelectionEvents=void 0;var w=x(35);Object.defineProperty(p,"SelectionEvents",{enumerable:!0,get:function(){return w.SelectionEvents}});var C,b=x(8);Object.defineProperty(p,"DataEvents",{enumerable:!0,get:function(){return b.DataEvents}}),function(y){y.scroll="scroll",y.beforeRender="beforerender",y.emptyAreaClick="emptyAreaClick",y.emptyAreaDblClick="emptyAreaDblClick",y.emptyAreaMouseDown="emptyAreaMouseDown",y.beforeSubmenuOpen="beforeSubmenuOpen",y.afterSubmenuOpen="afterSubmenuOpen",y.beforeCollapse="beforeCollapse",y.afterCollapse="afterCollapse",y.beforeExpand="beforeExpand",y.afterExpand="afterExpand",y.shapeMouseDown="shapeMouseDown",y.shapeClick="shapeClick",y.shapeDblClick="shapeDblClick",y.shapeIconClick="shapeIconClick",y.lineMouseDown="lineMouseDown",y.lineClick="lineClick",y.lineDblClick="lineDblClick",y.lineTitleMouseDown="lineTitleMouseDown",y.lineTitleClick="lineTitleClick",y.lineTitleDblClick="lineTitleDblClick",y.groupMouseDown="groupMouseDown",y.groupClick="groupClick",y.groupDblClick="groupDblClick",y.groupHeaderClick="groupHeaderClick",y.groupHeaderDblClick="groupHeaderDblClick",y.itemMouseDown="itemMouseDown",y.itemClick="itemClick",y.itemDblClick="itemDblClick",y.itemMouseOver="itemMouseOver",y.itemMouseOut="itemMouseOut",y.shapeHover="shapeHover"}(C||(p.DiagramEvents=C={}))},function(O,p,x){var w,C=this&&this.__extends||(w=function(y,g){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var f in _)Object.prototype.hasOwnProperty.call(_,f)&&(d[f]=_[f])},w(y,g)},function(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function d(){this.constructor=y}w(y,g),y.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)});Object.defineProperty(p,"__esModule",{value:!0}),p.BaseShape=void 0;var b=function(y){function g(d,_){var f=y.call(this,d,_)||this;return d.width&&(d.width=parseFloat(d.width)),d.height&&(d.height=parseFloat(d.height)),d.x&&(d.x=parseFloat(d.x)),d.y&&(d.y=parseFloat(d.y)),d.strokeWidth&&(d.strokeWidth=parseFloat(d.strokeWidth)),f}return C(g,y),g.prototype.getBaseType=function(){return"shape"},g.prototype.getCenter=function(){var d=this.config;return{x:Math.abs(d.width/2),y:Math.abs(d.height/2)}},g.prototype.getPoint=function(d,_){var f=this.config;if(f.angle){var l=f.x+f.width/2,u=f.y+f.height/2,r=f.angle*(Math.PI/180);return{x:(d-l)*Math.cos(r)-(_-u)*Math.sin(r)+l,y:(d-l)*Math.sin(r)+(_-u)*Math.cos(r)+u}}return{x:d,y:_}},g}(x(54).BaseItem);p.BaseShape=b},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(d,_,f,l){l===void 0&&(l=f);var u=Object.getOwnPropertyDescriptor(_,f);u&&!("get"in u?!_.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return _[f]}}),Object.defineProperty(d,l,u)}:function(d,_,f,l){l===void 0&&(l=f),d[l]=_[f]}),C=this&&this.__exportStar||function(d,_){for(var f in d)f==="default"||Object.prototype.hasOwnProperty.call(_,f)||w(_,d,f)};Object.defineProperty(p,"__esModule",{value:!0}),p.shapes=p.locale=p.ShapesCollection=void 0,C(x(63),p);var b=x(91);Object.defineProperty(p,"ShapesCollection",{enumerable:!0,get:function(){return b.ShapesCollection}});var y=x(57);Object.defineProperty(p,"locale",{enumerable:!0,get:function(){return y.default}}),C(x(27),p);var g=x(53);Object.defineProperty(p,"shapes",{enumerable:!0,get:function(){return g.shapes}}),C(x(90),p),C(x(55),p)},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(130),p),C(x(173),p),C(x(38),p)},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.focusManager=void 0;var w=x(2),C=function(){function b(){var y=this;this._initHandler=function(g){return y._activeWidgetId=(0,w.locate)(g,"data-dhx-widget-id")},this._removeFocusClass=function(g){var d=document.body.classList;d.contains("utilityfocus")&&d.remove("utilityfocus")},this._addFocusClass=function(g){var d=document.body.classList;g.code==="Tab"?d.contains("utilityfocus")||d.add("utilityfocus"):d.contains("utilityfocus")&&d.remove("utilityfocus")},document.addEventListener("focusin",this._initHandler),document.addEventListener("pointerdown",this._initHandler),document.addEventListener("mousedown",this._removeFocusClass),document.addEventListener("keydown",this._addFocusClass)}return b.prototype.getFocusId=function(){return this._activeWidgetId},b.prototype.setFocusId=function(y){this._activeWidgetId=y},b}();p.focusManager=new C},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.DataProxy=void 0;var w=x(47),C=function(){function b(y,g){g===void 0&&(g={}),this.url=this._url=y,this.config=g}return b.prototype.updateUrl=function(y,g){for(var d in g===void 0&&(g={}),this._url=this.url=y||this._url,this.url+=this.url.includes("?")?"&":"?",g)this.config[d]=g[d],this.url+="".concat(d,"=").concat(encodeURIComponent(g[d]),"&");this.url=this.url.slice(0,-1)},b.prototype.load=function(){return w.ajax.get(this.url,void 0,this.config)},b.prototype.save=function(y,g){switch(g){case"delete":return w.ajax.delete(this.url,y,this.config);case"update":return w.ajax.put(this.url,y,this.config);default:return w.ajax.post(this.url,y,this.config)}},b}();p.DataProxy=C},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(i){for(var e,a=1,c=arguments.length;a<c;a++)for(var v in e=arguments[a])Object.prototype.hasOwnProperty.call(e,v)&&(i[v]=e[v]);return i},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.normalizeSpan=p.getShifts=p.getSpans=p.getCells=p.getTreeCell=p.getHandlers=void 0;var C=x(1),b=x(0),y=x(26),g=x(15),d=x(7),_=x(140),f=x(2),l=x(18),u=x(25);function r(i,e,a,c,v){e=(0,f.locateNodeByClassName)(v.target,"dhx_grid-fixed-cols-wrap")?0:e;var m=(0,f.locateNodeByClassName)(v.target,"dhx_grid-cell"),k=(0,f.locateNodeByClassName)(v.target,"dhx_span-cell");if((m||k)&&c){var I=m?m.parentNode:k,P=(m||k).getAttribute("data-dhx-col-id"),T=a.filteredColumns.find(function(L){return L.id===P}),H=I.getAttribute("data-dhx-id"),$=(a.$data||a.data).find(function(L){return L.id.toString()===H});c.toLocaleLowerCase().includes("touch")?a._events.fire(c,[$,T,v]):a.events.fire(c,[$,T,v])}}function s(i,e,a,c){var v=c.$editable&&c.$editable.row===e.id&&c.$editable.col===a.id,m=!c.fixedColumns.left.length||c.$renderFrom==="leftFixedCols",k=a.align?"dhx_align-".concat(a.align):"dhx_align-left",I="";m&&(I="dhx_tree-cell ".concat(a.$cellCss[e.id]||""," ").concat(k),e.$items&&(I+=" dhx_grid-expand-cell"),v&&(I+=" dhx_tree-editing-cell"),c.dragMode&&!v&&(I+=(e.$drophere?" dhx_grid-cell--drophere":"")+(e.$dragtarget?" dhx_grid-cell--dragtarget":"")));var P=(0,l.getTreeCellWidthOffset)(e);return(0,b.el)(".dhx_grid-cell",w({class:I,style:{width:a.$width,height:e.$height,padding:e.$items?0:"0 0 0 ".concat(P,"px")},"data-dhx-col-id":a.id},{role:"gridcell","aria-colindex":1}),m?[e.$items?(0,b.el)(".dhx_grid-expand-cell-icon",w(w({class:e.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down","data-dhx-id":e.id},function(T){return{role:"button","aria-label":T.$opened?"Collapse group":"Expand group"}}(e)),{style:{padding:e.$level?"0 0 0 ".concat(4+P,"px"):"0 0 0 4px"}})):null,(0,b.el)(".dhx_tree-cell",{class:k+"".concat(c.autoHeight?" dhx_tree-cell_auto-height":"")},[i])]:null)}function t(i,e,a){return(0,_.getEditor)(i,e,a)}function n(i){var e=i.$scrollBarWidth,a=i.$totalWidth-i.$width+u.BORDERS+e.y,c=i.$totalHeight-i.$height+i.$headerHeight+i.$footerHeight+u.BORDERS+e.x;return{x:a>0?a-i.scroll.left:0,y:c>0?c-i.scroll.top:0}}p.getHandlers=function(i,e,a){return{onclick:[r,i,e,a,d.GridEvents.cellClick],onmouseover:[r,i,e,a,d.GridEvents.cellMouseOver],onmousedown:[r,i,e,a,d.GridEvents.cellMouseDown],ondblclick:[r,i,e,a,d.GridEvents.cellDblClick],oncontextmenu:[r,i,e,a,d.GridEvents.cellRightClick],ontouchstart:[r,i,e,a,d.GridEvents.cellMouseDown],ontouchmove:[r,i,e,a,d.GridSystemEvents.cellTouchMove],ontouchend:[r,i,e,a,d.GridSystemEvents.cellTouchEnd]}},p.getTreeCell=s,p.getCells=function(i){if(!i.data||!i.filteredColumns)return[];var e,a=i.$positions,c=i.data?i.data.slice(a.yStart,a.yEnd):[],v=i.filteredColumns.slice(a.xStart,a.xEnd),m=i.selection.getCell(),k=!0,I=document.querySelector(".dhx_drag-ghost");if(I){var P=Array.from(I.querySelectorAll(".dhx_grid-row")).map(function(T){return Number(T.getAttribute("aria-rowindex"))-1});P.length&&(e=P.map(function(T){return i.data[T]}).filter(function(T){return T&&!c.find(function(H){return H.id===T.id})}),c.push.apply(c,e))}return c.map(function(T,H){var $=e==null?void 0:e.some(function(M){return M.id===T.id}),L=c.length-1===H,j="";return i.rowCss&&(j=i.rowCss(T)),T.$css&&(j+=T.$css),(0,b.el)(".dhx_grid-row",w({style:{height:L?T.$height+1:T.$height,display:$?"none":null},"data-dhx-id":T.id,class:j,_key:T.id,_flags:b.KEYED_LIST},$?{}:{role:"row","aria-rowindex":a.yStart+H+1}),T.$customRender?[T.$customRender(T,i)]:v.map(function(M,F){var S,R;if(!M.hidden){var B=T[M.id],Y=(0,l.getEditorOptions)(M,T);(M.editable||i.editable&&M.editable!==!1)&&(M.editorType==="select"||M.editorType==="combobox"||M.editorType==="multiselect")&&Y&&(B=(B=typeof B=="string"&&M.editorType==="multiselect"?B.split(",").map(function(X){return X.trim()}):[B==null?void 0:B.toString()]).map(function(X){var K,ne;return(ne=(K=Y.find(function(ie){return ie.id&&ie.id.toString()===X}))===null||K===void 0?void 0:K.value)!==null&&ne!==void 0?ne:X}).join(", "));var q=(0,l.toFormat)(B,M.type,M.format),U=M.template?M.template(q,T,M):typeof(R=q)!="boolean"&&M.type!=="boolean"||typeof R=="string"?R||R===0?R:"":"".concat(!!R);typeof U=="string"&&(U=(0,g.isHtmlEnable)(i,M)?(0,b.el)("div.dhx_grid-cell__content",w({".innerHTML":U},{role:"button","aria-label":"Edit content"})):U);var V="".concat(M.$cellCss&&M.$cellCss[T.id]||""," dhx_").concat(M.type,"-cell").replace(/\s+/g," "),A=M.$width,N=i.$editable&&i.$editable.row===T.id&&i.$editable.col===M.id&&!i.$editable.isSpan,W=i.leftSplit,Q=i.filteredColumns;return(N||M.type==="boolean"&&(i.editable&&((S=M.editable)===null||S===void 0||S)||!i.editable&&M.editable))&&(U=t(T,M,i).toHTML(),V+=" dhx_grid-cell__editable",W===Q.indexOf(M)+1&&(A-=1)),i.type==="tree"&&i.firstColId===M.id?s(U,T,M,i):(i.dragMode&&!N&&(V+=(T.$drophere?" dhx_grid-cell--drophere":"")+(T.$dragtarget?" dhx_grid-cell--dragtarget":"")),M.align&&(V+=" dhx_align-".concat(M.align)),(0,g.isHtmlEnable)(i,M)&&(V+=" dhx_grid-cell__content_html-enable"),i.autoHeight&&(V+=" dhx_grid-cell__content_auto-height"),(0,b.el)(".dhx_grid-cell",w({class:V,style:{width:A,height:T.$height+"px"},_key:M.id,"data-dhx-col-id":M.id},function(X,K,ne,ie){return w({role:"gridcell","aria-colindex":K,"aria-readonly":ie?"false":"true"},function(oe,re){var le={tabindex:-1};return m?m.row.id===re.id&&m.column.id===oe.id&&(le.tabindex=0):k&&(le.tabindex=0,le.onkeydown=function(ue){if(i.selection&&!m&&ue.key==="Tab"){var de=ue.target.parentNode.getAttribute("data-dhx-id"),ge=ue.target.getAttribute("data-dhx-col-id");ge&&de&&(i.selection.setCell(de,ge),m=i.selection.getCell()),k=!1}}),le}(X,T))}(M,a.xStart+F+1,0,i.editable)),[U]))}}))})},p.getSpans=function(i,e){var a,c,v=[],m=i.columns,k=i.filteredColumns,I=i.data,P=i.currentSpans,T=i.bottomSplit;if(!k.length||!P)return null;for(var H=i.fixedColumns.right.length,$=P.filter(function(F){var S;return(S=F.$renderFrom)===null||S===void 0?void 0:S.includes(i.$renderFrom)}),L=$.sort(function(F,S){return typeof F.row=="string"&&typeof S.row=="string"?F.row.localeCompare(S.row):F.row-S.row}),j=function(F){var S=L[F].row,R=L[F].column,B=L[F].rowspan||1,Y=L[F].colspan||1,q=L[F].text,U=L[F].css,V=e===d.Split.bottom&&i.$renderFrom.endsWith("FixedCols"),A=V?i.$data:I,N=k==null?void 0:k.findIndex(function(Le){return"".concat(Le.id)==="".concat(R)}),W=A==null?void 0:A.findIndex(function(Le){return"".concat(Le.id)==="".concat(S)});if(N<0||W<0)return"continue";if(V){var Q=i.$data[W+B-1];if(!I.find(function(Le){return Le.id===(Q==null?void 0:Q.id)}))return"continue"}var X=k[N],K=A[W],ne=X.$cellCss[S],ie=(0,C.isDefined)(L[F].text)?"string":X.type;if(X.hidden)return"continue";var oe=void 0;oe=(0,C.isDefined)(q)?q.toString():K[R]===void 0?"":(0,l.toFormat)(K[R],X.type,X.format);var re=X.template||function(Le,fl,pl){return Le||Le===0?Le:""};oe=re(oe,K,X);var le=(0,g.isHtmlEnable)(i,X);oe=typeof oe=="string"?(0,b.el)("div.dhx_span-cell-content",{".innerHTML":le?oe:null},le?null:oe):oe;var ue=void 0;if(i.$renderFrom==="bottomFixedRows"||V){var de=A.length-T;ue=W<de?-(0,g.getTotalHeight)(A.slice(W,de)):(0,g.getTotalHeight)(A.slice(de,W))}else ue=(0,g.getTotalHeight)(A.slice(0,W))-(e?0:1);var ge=0;if(i.$renderFrom==="rightFixedCols"){var ce=k.length-i.fixedColumns.right.length;ge=N<ce?-(0,g.getTotalWidth)(k.slice(N,ce)):(0,g.getTotalWidth)(k.slice(ce,N))}else for(var he=N-1;he>=0;he--)ge+=k[he].$width;var ve=K.$items&&N===0,be=N===k.length-1,xe=N+(0,y.getReducedColspan)(m,R,Y)===k.length,ye=H&&N===k.length-H,z=e===d.Split.bottom&&i.fixedRows.bottom.find(function(Le){return Le.id===S}),ae=T&&W+B>A.length-T,Ce=H&&N+Y===k.length-H,Ee=X.header[0].text?" dhx_span-cell":" dhx_span-cell dhx_span-cell--title";Ee+=ve?" dhx_span-expand-cell":"",Ee+=ne?" ".concat(ne):"",Ee+=U?" ".concat(U):"",Ee+=W===0?" dhx_span-first-row":"",Ee+=W+B===A.length?" dhx_grid__span_bottom--last-row":"",Ee+=N===0||ye?" dhx_span-first-col":"",Ee+=be||xe?" dhx_span-last-col":"",Ee+=Y===1?" dhx_span-".concat(X.type||"string","-cell"):" dhx_span-string-cell",Ee+=X.align?" dhx_align-".concat(X.align):" dhx_".concat(ie,"-cell"),Ee+=z?" dhx_grid__span_bottom--all-fixed":"",Ee+=ae?" dhx_grid__span_bottom--part-fixed":"",Ee+=Ce?" dhx_grid__span_right--before-fixed":"";var Fe=m==null?void 0:m.findIndex(function(Le){return"".concat(Le.id)===R}),He=Y>1?(0,y.getWidth)(m,Y,Fe):X.$width,ke=void 0;if(B>1){if(ke=(0,y.getHeight)(A,B,W),e===d.Split.top&&i.$renderFrom.endsWith("FixedCols")){var Pe=W+B-A.length;if(Pe>0){var Se=i.fixedRows.top.length;ke+=(0,g.getTotalHeight)(i.$data.slice(Se,Se+Pe))}}}else ke=K.$height;var Lt=null;if(!((a=i.$editable)===null||a===void 0)&&a.isSpan&&i.$editable.row===S&&i.$editable.col===R||X.type==="boolean"&&(i.editable&&((c=X.editable)===null||c===void 0||c)||!i.editable&&X.editable)){var Ze=i.topSplit,Nt=i.fixedColumns.left.length,Xt=Nt&&N+Y<=Nt||H&&N>=k.length-H,cn=W<(Ze||0)||W+B>A.length-(T||0),Ae=Ze&&W+B<=Ze||T&&W>=A.length-T,Ct=N<(Nt||0)||N+Y>k.length-(H||0);if(i.$renderFrom==="render"||Xt&&!cn||Ae&&!Ct){var ko=i.$height,Di=i.$scrollBarWidth,zt=i.scroll,Kt=i.fixedRows,dn=i.fixedColumns,Mi=L[F].text,Qt=0;if(oe=t(K,X,i).toHTML(Mi),Ee+=" dhx_span__editable",!Ae){var Vn=(0,g.getTotalHeight)(Kt.top),Bt=(0,g.getTotalHeight)(Kt.bottom),So=Di.yState?ko-i.$headerHeight-i.$footerHeight-Di.x-u.BORDERS:i.$totalHeight,Io=ue+ke-zt.top,Ti=ue-Vn<zt.top,Qn=Io>So-Bt;Ti&&Qn&&Di.xState&&(Qt=1),ue=Ti?zt.top+Vn-(Vn&&!Xt?1:0):ue,ke=Qn?So-ue-Bt+zt.top-Qt:Ti?Io-Vn:ke}if(i.$renderFrom==="render"){if(Lt=12,dn.left.find(function(Le){return Le.id===R})&&(ge=zt.left+(0,g.getTotalWidth)(dn.left.slice(0,N)),!Xt)){var Jt=(0,g.getTotalWidth)(dn.left.slice(N,Nt));He=He-zt.left>Jt?He-zt.left:Jt}if(Kt.top.find(function(Le){return Le.id===S})&&(ue=zt.top+(0,g.getTotalHeight)(Kt.top.slice(0,W)),!Ae)){var hn=(0,g.getTotalHeight)(i.fixedRows.top.slice(W,i.topSplit));ke=ke>0?hn+ke-Qt:hn}if(dn.right.find(function(Le){return Le===k[k.indexOf(X)+Y-1]})){var fn=k.length,Mt=n(i),Po=fn-k.indexOf(X)-Y,Hi=(Jt=Po?(0,g.getTotalWidth)(dn.right.slice(0,-Po)):(0,g.getTotalWidth)(dn.right),(0,g.getTotalWidth)(k.slice(N,fn-H)));ge=Mt.x>Hi?ge-Mt.x+Hi:ge,Xt||(He=Mt.x<Hi?He-Mt.x-1:Jt-1)}if(Kt.bottom.find(function(Le){return Le===A[A.indexOf(K)+B-1]})){fn=A.length,Mt=n(i);var Jn=fn-A.indexOf(K)-B,Zn=(hn=Jn?(0,g.getTotalHeight)(Kt.bottom.slice(0,-Jn)):(0,g.getTotalHeight)(i.fixedRows.bottom),(0,g.getTotalHeight)(A.slice(W,fn-T)));ue=Mt.y>Zn?ue-Mt.y+Zn:ue,Ae||(ke=Mt.y<Zn?hn+ke-Qt-(Jn?-1:Qt?0:1):hn-(Jn?-1:1))}}Nt===N+1&&(He-=1),N===k.length-H&&(ge+=1,He-=1)}}v.push((0,b.el)("div",{class:Ee,style:{width:He,height:ke,top:ue,left:ge,zIndex:Lt},"data-dhx-col-id":R,"data-dhx-id":S,"aria-hidden":"true"},[ve?(0,b.el)(".dhx_span-expand-cell-icon",{class:K.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down","data-dhx-id":K.id,role:"button","aria-label":K.$opened?"Collapse group":"Expand group",style:{padding:"0 0 0 ".concat(4+(0,l.getTreeCellWidthOffset)(K),"px")}}):null,oe]))},M=0;M<L.length;M++)j(M);return v},p.getShifts=function(i){var e=i.filteredColumns.slice(0,i.$positions.xStart),a=i.data.slice(0,i.$positions.yStart);return{x:(0,g.getTotalWidth)(e),y:(0,g.getTotalHeight)(a)}},p.normalizeSpan=function(i,e,a){var c=e.topSplit,v=c===void 0?0:c,m=e.bottomSplit,k=m===void 0?0:m,I=e.columns,P=i.column,T=i.row,H=i.colspan,$=i.rowspan,L=a.getRawData(0,-1,null,2),j=I.filter(function(X){return!X.hidden}),M=j.findIndex(function(X){return X.id==P}),F=L.findIndex(function(X){return X.id==T}),S=M+(H?(0,y.getReducedColspan)(I,P,H)-1:0),R=F+($?$-1:0),B=M===-1?[]:[M,S],Y=F===-1?[]:[F,R],q=[];if(M!==-1&&F!==-1){var U=(0,u.getCurrFixedCols)(e,d.Split.left).length,V=(0,u.getCurrFixedCols)(e,d.Split.right).length,A=M<U,N=F<v,W=S>=j.length-V,Q=R>=L.length-k;S>=U&&R>=v&&M<j.length-V&&F<L.length-k&&q.push("render"),A&&q.push("leftFixedCols"),W&&q.push("rightFixedCols"),!N||A||W?N&&!q.includes("render")&&q.push("render"):q.push("topFixedRows"),!Q||A||W?Q&&!q.includes("render")&&q.push("render"):q.push("bottomFixedRows")}return w(w({},i),{$renderFrom:q,$rowsVisibility:Y,$colsVisibility:B})}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.ScrollView=p.scrollViewConfig=void 0;var w=x(1),C=x(0),b=x(2);p.scrollViewConfig={enable:!1,autoHide:!0,timeout:1e3,scrollHandler:function(){}};var y=function(){function g(d,_){var f;_===void 0&&(_={});var l=this;this.config=(0,w.extend)({enable:p.scrollViewConfig.enable,autoHide:p.scrollViewConfig.autoHide,timeout:p.scrollViewConfig.timeout,scrollHandler:p.scrollViewConfig.scrollHandler},_),this._wheelName=(0,b.isIE)()?"onmousewheel":"onwheel",this._getRootView=d,this._scrollYTop=this._scrollXLeft=this._runnerYTop=this._runnerXLeft=this._runnerHeight=this._runnerWidth=0,this._visibleYArea=this._visibleXArea=1,this._scrollWidth=(0,b.getScrollbarWidth)(),this._scrollHeight=(0,b.getScrollbarHeight)(),this._handlers=((f={onscroll:function(u){l.config.scrollHandler(u),l.update()}})[this._wheelName]=function(u){var r=!!(0,b.locateNodeByClassName)(u.target,"y-scroll");u.preventDefault();var s=40*((u.deltaY||-u.wheelDelta)>0?1:-1),t=l._getRefs().area;if(r){var n=t.scrollHeight-l._runnerHeight,i=l._scrollYTop+s;t.scrollTop=i<0?0:i>n?n:i}else{var e=t.scrollWidth-l._runnerWidth,a=l._scrollXLeft+s;t.scrollLeft=a<0?0:a>e?e:a}l.update()},f.onmousedownRunner=function(u){u.preventDefault();var r=!!(0,b.locateNodeByClassName)(u.target,"y-scroll"),s=l._getRefs(),t=s.area,n=s.runnerY,i=s.runnerX,e=t.getBoundingClientRect(),a=e.top+window.pageYOffset,c=e.bottom+window.pageYOffset,v=t.scrollHeight-l._runnerHeight,m=u.pageY-n.getBoundingClientRect().top-window.pageYOffset,k=e.left+window.pageXOffset,I=e.right+window.pageXOffset,P=t.scrollWidth-l._runnerWidth,T=u.pageX-i.getBoundingClientRect().left-window.pageXOffset,H=function(L){if(r){var j=L.pageY-m;t.scrollTop=j<=a?0:j>c?v:(j-a)/l._visibleYArea}else{var M=L.pageX-T;t.scrollLeft=M<=k?0:M>I?P:(M-k)/l._visibleXArea}l.update()},$=function(){document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",$),document.body.classList.remove("dhx-no-select")};document.body.classList.add("dhx-no-select"),document.addEventListener("mousemove",H),document.addEventListener("mouseup",$)},f.onmousedownArea=function(u){if(!(0,b.locateNodeByClassName)(u,"scroll-runner")){u.preventDefault();var r=!!(0,b.locateNodeByClassName)(u.target,"y-scroll"),s=l._getRefs(),t=s.area,n=s.runnerY,i=s.runnerX;r?t.scrollTop+=(u.pageY-n.getBoundingClientRect().top)/l._visibleYArea:t.scrollLeft+=(u.pageX-i.getBoundingClientRect().left)/l._visibleXArea,l.update()}},f.onmouseenter=function(u){if(!(0,b.locateNodeByClassName)(u,"scroll-runner")){var r=l._getRefs();if(r){var s=!!(0,b.locateNodeByClassName)(u.target,"y-scroll"),t=r.areaX,n=r.areaY;s&&l._runnerHeight>0?n.style.background="#eee":!s&&l._runnerWidth>0&&(t.style.background="#eee")}}},f.onmouseleave=function(u){if(!(0,b.locateNodeByClassName)(u,"scroll-runner")){var r=l._getRefs();if(r){var s=!!(0,b.locateNodeByClassName)(u.target,"y-scroll"),t=r.areaX,n=r.areaY;s&&l._runnerHeight>0?n.style.background="transparent":!s&&l._runnerWidth>0&&(t.style.background="transparent")}}},f)}return g.prototype.enable=function(){this.config.enable=!0,this._getRootView().redraw()},g.prototype.disable=function(){this.config.enable=!1,this._getRootView().redraw()},g.prototype.render=function(d,_){var f,l,u=this;if(_===void 0&&(_=""),!this.config.enable||!d.length)return d;_&&(this._uid=_);var r=this.config.enable?[(0,C.el)(".y-scroll",(f={},f[this._wheelName]=this._handlers[this._wheelName],f._ref=_?"scroll-y-area-".concat(_):"scroll-y-area",f.onmousedown=this._handlers.onmousedownArea,f.onmouseenter=this._handlers.onmouseenter,f.onmouseleave=this._handlers.onmouseleave,f.style={width:"6px",height:"100%",right:0,top:0,position:"absolute"},f),[(0,C.el)(".scroll-runner",{_ref:_?"scroll-y-runner-".concat(_):"scroll-y-runner",onmousedown:this._handlers.onmousedownRunner,style:{height:this._runnerHeight+"px",top:this._runnerYTop}})]),(0,C.el)(".x-scroll",(l={},l[this._wheelName]=this._handlers[this._wheelName],l._ref=_?"scroll-x-area-".concat(_):"scroll-x-area",l.onmousedown=this._handlers.onmousedownArea,l.onmouseenter=this._handlers.onmouseenter,l.onmouseleave=this._handlers.onmouseleave,l.style={width:"100%",height:"6px",left:0,bottom:0,position:"absolute"},l),[(0,C.el)(".scroll-runner",{_ref:_?"scroll-x-runner-".concat(_):"scroll-x-runner",onmousedown:this._handlers.onmousedownRunner,style:{width:this._runnerWidth+"px",left:this._runnerXLeft}})])]:null;return(0,C.el)(".scroll-view-wrapper",[(0,C.el)(".scroll-view",{onscroll:this._handlers.onscroll,_ref:_?"scroll-view-".concat(_):"scroll-view",_hooks:{didInsert:function(){u.update()},didRecycle:function(){u.update()}},style:{width:"calc(100% + ".concat(this._scrollWidth,"px)"),height:"calc(100% + ".concat(this._scrollHeight,"px)")}},d)].concat(r))},g.prototype.update=function(){var d=this._getRefs();if(d){var _=d.area,f=d.areaX,l=d.areaY,u=d.runnerY,r=d.runnerX;this._visibleYArea=_.clientHeight/_.scrollHeight,this._visibleXArea=_.clientWidth/_.scrollWidth,this._scrollYTop=_.scrollTop,this._scrollXLeft=_.scrollLeft,this._runnerYTop=this._scrollYTop*this._visibleYArea,this._runnerXLeft=this._scrollXLeft*this._visibleXArea,this._runnerHeight=this._visibleYArea<1?_.clientHeight*this._visibleYArea:0,this._runnerWidth=this._visibleXArea<1?_.clientWidth*this._visibleXArea:0;var s=u.style.top,t=r.style.left;u.style.opacity=1,u.style.top=this._runnerYTop+"px",u.style.height=this._runnerHeight+"px",r.style.opacity=1,r.style.left=this._runnerXLeft+"px",r.style.width=this._runnerWidth+"px",s!==u.style.top&&(l.style.opacity=.9,l.style.width="10px"),t!==r.style.left&&(f.style.opacity=.9,f.style.height="10px"),this.config.autoHide?!this._autoHideFunc&&(this._autoHideFunc=(0,w.debounce)(function(){u.style.opacity=0,l.style.width="6px",r.style.opacity=0,f.style.height="6px"},this.config.timeout)):this._autoHideFunc=(0,w.debounce)(function(){l.style.width="6px",f.style.height="6px"},this.config.timeout),this._autoHideFunc()}},g.prototype._getRefs=function(){var d=this._getRootView(),_=!(!d.refs["scroll-view"]||!d.refs["scroll-x-runner"]&&!d.refs["scroll-y-runner"]),f=!(!this._uid||!d.refs["scroll-view-".concat(this._uid)]||!d.refs["scroll-x-runner-".concat(this._uid)]&&!d.refs["scroll-y-runner-".concat(this._uid)]);if(d.refs){if(_)return{area:d.refs["scroll-view"].el,areaY:d.refs["scroll-y-area"].el,areaX:d.refs["scroll-x-area"].el,runnerY:d.refs["scroll-y-runner"].el,runnerX:d.refs["scroll-x-runner"].el};if(f)return{area:d.refs["scroll-view-".concat(this._uid)].el,areaY:d.refs["scroll-y-area-".concat(this._uid)].el,areaX:d.refs["scroll-x-area-".concat(this._uid)].el,runnerY:d.refs["scroll-y-runner-".concat(this._uid)].el,runnerX:d.refs["scroll-x-runner-".concat(this._uid)].el}}},g}();p.ScrollView=y},function(O,p,x){var w;Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionEvents=void 0,function(C){C.beforeUnSelect="beforeunselect",C.afterUnSelect="afterunselect",C.beforeSelect="beforeselect",C.afterSelect="afterselect"}(w||(p.SelectionEvents=w={}))},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.getNavbarButtonCSS=p.navbarComponentMixin=p.getIcon=p.getCount=void 0;var C=x(0),b=x(1);p.getCount=function(y,g,d){var _={danger:" dhx_navbar-count--color_danger",secondary:" dhx_navbar-count--color_secondary",primary:" dhx_navbar-count--color_primary",success:" dhx_navbar-count--color_success"}[y.countColor]||" dhx_navbar-count--color_danger";return(0,C.el)(".dhx_navbar-count",{class:g+_+(!d&&parseInt(y.count,10)>99?" dhx_navbar-count--overlimit":"")},d&&parseInt(y.count,10)>99?"99+":y.count)},p.getIcon=function(y,g){return y===void 0&&(y=""),y.startsWith("dxi")&&(y="dxi "+y),(0,C.el)("span",{class:"dhx_".concat(g,"__icon ").concat(y),"aria-hidden":"true"})},p.navbarComponentMixin=function(y,g,d,_){var f,l,u=function(s,t,n){var i="",e="";return e=(i=n?"dhx_menu-item":"dhx_"+s+"__item")+(t.css?" "+t.css:""),t.type!=="spacer"&&t.type!=="separator"||(e+=" ".concat(i,"--").concat(t.type)),t.type!=="button"||s!=="sidebar"||t.icon||(e+=" dhx_navbar-item--colapse_hidden"),e}(y,g,d),r=y==="ribbon"&&(g.type==="navItem"||g.type==="imageButton");return(0,C.el)("li",w({_key:g.id,class:u+(g.icon&&!g.value&&r?" dhx_ribbon__item--icon":"")+(g.src&&!g.value&&r?" dhx_ribbon__item--icon":"")+(g.size&&r?" dhx_ribbon__item--"+g.size:""),".innerHTML":g.type==="customHTML"?g.html:void 0,"data-dhx-id":g.type==="customHTML"?g.id:void 0},(f=g.type,l={role:"none"},f==="separator"&&(l.role="separator",l["aria-orientation"]="vertical"),l)),g.type!=="customHTML"?[_]:void 0)},p.getNavbarButtonCSS=function(y,g){var d=y.color,_=y.size,f=y.view,l=y.full,u=y.icon,r=y.circle,s=y.loading,t=y.value,n=y.active,i=y.count;return({danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[d]||" dhx_button--color_primary")+({small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[_]||" dhx_button--size_medium")+({flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[f]||" dhx_button--view_flat")+(l?" dhx_button--width_full":"")+(r?" dhx_button--circle":"")+(s?" dhx_button--loading":"")+(n?" dhx_button--active":"")+(u&&!t?" dhx_button--icon":"")+((0,b.isDefined)(i)?" dhx_button--count":"")}},function(O,p,x){var w;Object.defineProperty(p,"__esModule",{value:!0}),p.DiagramEditorEvents=void 0,function(C){C.shapeResize="shapeResize",C.zoomIn="zoomin",C.zoomOut="zoomout",C.beforeShapeIconClick="beforeShapeIconClick",C.afterShapeIconClick="afterShapeIconClick",C.beforeLineTitleMove="beforeLineTitleMove",C.afterLineTitleMove="afterLineTitleMove",C.lineTitleMoveEnd="lineTitleMoveEnd",C.beforeShapeMove="beforeShapeMove",C.afterShapeMove="afterShapeMove",C.shapeMoveEnd="shapeMoveEnd",C.beforeGroupMove="beforeGroupMove",C.afterGroupMove="afterGroupMove",C.groupMoveEnd="groupMoveEnd",C.beforeItemMove="beforeItemMove",C.afterItemMove="afterItemMove",C.itemMoveEnd="itemMoveEnd",C.itemTarget="itemTarget",C.beforeItemCatch="beforeItemCatch",C.afterItemCatch="afterItemCatch",C.shapeMove="shapemove",C.resetButton="resetButton",C.applyButton="applyButton",C.undoButton="undoButton",C.redoButton="redoButton",C.visibility="visibility",C.exportData="exportData",C.importData="importData",C.autoLayout="autoLayout",C.changeGridStep="changeGridStep",C.shapesUp="shapesUp"}(w||(p.DiagramEditorEvents=w={}))},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.NavigationBarEvents=p.DataEvents=void 0;var w,C=x(8);Object.defineProperty(p,"DataEvents",{enumerable:!0,get:function(){return C.DataEvents}}),function(b){b.inputCreated="inputCreated",b.click="click",b.openMenu="openMenu",b.beforeHide="beforeHide",b.afterHide="afterHide",b.inputFocus="inputFocus",b.inputBlur="inputBlur",b.inputChange="inputChange",b.input="input",b.keydown="keydown"}(w||(p.NavigationBarEvents=w={}))},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(d){for(var _,f=1,l=arguments.length;f<l;f++)for(var u in _=arguments[f])Object.prototype.hasOwnProperty.call(_,u)&&(d[u]=_[u]);return d},w.apply(this,arguments)};function C(d,_,f){var l=d.x,u=d.y;switch(f){case"top":return d.$item.getPoint(l+d.width/2,u-_);case"bottom":return d.$item.getPoint(l+d.width/2,u+d.height+_);case"left":return d.$item.getPoint(l-_,u+d.height/2);case"right":return d.$item.getPoint(l+d.width+_,u+d.height/2);case"center":return d.$item.getPoint(l+d.width/2,u+d.height/2)}}function b(d,_,f,l,u,r){if(r===void 0&&(r=10),!u){var s=f.y===l.y?+r:0,t=f.x===l.x?+r:0;return[d,{x1:f.x,y1:f.y,x:f.x+s,y:f.y+t},{x:l.x-s,y:l.y-t},{x1:l.x,y1:l.y,x:_.x,y:_.y}]}var n=l.x<u.x?-1:1,i=l.y<u.y?-1:1,e=f.x>u.x?1:-1,a=f.y>u.y?1:-1,c=w({},u),v=w({},l),m={x1:u.x,y1:u.y,x:u.x,y:u.y+r*i};return f.x===u.x&&(c.y+=r*a,v.x-=r*n,m={x1:u.x,y1:u.y,x:u.x+r*n,y:u.y}),f.y===u.y&&(c.x+=r*e,v.y-=r*i,m={x1:u.x,y1:u.y,x:u.x,y:u.y+r*i}),[d,f,c,m,v,{x1:l.x,y1:l.y,x:_.x,y:_.y}]}Object.defineProperty(p,"__esModule",{value:!0}),p.directLinkPath=p.nearestLinkPath=void 0;var y=["top","bottom","right","left","center"];function g(d,_,f,l,u,r,s){var t,n,i,e;r===void 0&&(r=""),s===void 0&&(s="");var a=u&&u>l?u:l||0;if(r==="center"&&s==="center")return[{x:_.x+_.width/2,y:_.y+_.height/2},{x:f.x+f.width/2,y:f.y+f.height/2}];if(r&&(t=C(_,0,r),i=C(_,l,r)),s&&(n=C(f,0,s),e=C(f,a,s)),!r||!s){var c=y.map(function(T){var H=C(_,l,T);return y.map(function($){var L=C(f,a,$),j=function(M,F){var S=F.x-M.x,R=F.y-M.y;return Math.sqrt(S*S+R*R)}(H,L);return[H,L,j,T,$]}).sort(function($,L){return $[2]-L[2]})[0]}).sort(function(T,H){return T[2]-H[2]})[0];i=c[0],e=c[1],r=c[3],s=c[4],d.fromSide=r,d.toSide=s,t=C(_,0,r),n=C(f,0,s)}var v=r==="bottom"&&s==="top"||r==="top"&&s==="bottom"?Math.abs(n.y-t.y):0;(v=v||(r==="left"&&s==="right"||r==="right"&&s==="left"?Math.abs(n.x-t.x):0))>0&&a+l>=v&&(e=C(f,a=v-l,s));var m=[];if(i.x===e.x||i.y===e.y)t.x===i.x&&i.x===n.x||t.y===i.y&&i.y===n.y?m=[t,n]:(m=[t,i,e,n],d.cornersRadius&&d.connectType!=="straight"&&(m=b(t,n,i,e,null,d.cornersRadius)));else{var k=i.x<t.x&&i.x<e.x,I=i.y>t.y&&i.y>e.y,P=t.x===i.x||k?{x:i.x,y:e.y}:{x:e.x,y:i.y};P=I?{x:e.x,y:i.y}:P,m=d.connectType==="flex"?function(T,H,$){return[T,{x1:$.x,y1:$.y,x:H.x,y:H.y}]}(t,n,P):d.cornersRadius&&d.connectType!=="straight"?b(t,n,i,e,P,d.cornersRadius):[t,i,P,e,n]}return m}p.nearestLinkPath=function(d,_,f,l){var u;if(_&&f){var r=g(d,_,f,((u=l==null?void 0:l.lineConfig)===null||u===void 0?void 0:u.lineGap)||0,d.customGap,d.fromSide,d.toSide);if(d.connectType==="straight")return d.points=[r[0],r[r.length-1]];if(d.points){if(d.points.length===r.length)d.points=d.points.map(function(t,n){return t&&r[n]&&!t.custom?r[n]:t});else{var s=d.points.filter(function(t){return t.custom});d.points=s.length?d.points:r}d.$move||(d.points[0]=r[0],d.points[d.points.length-1]=r[r.length-1])}else d.points=r}},p.directLinkPath=function(d,_,f,l){var u,r;if(d||!_.assistant||!_.partner){var s=_.x+(_.dx||0),t=_.y+(_.dy||0),n=f.x+(f.dx||0),i=f.y+(f.dy||0);if(_.dir&&_.dir.includes("vertical")||Array.isArray(_.dir)){var e=s,a=Math.round(t+_.height/2),c=n,v=Math.round(i+f.height/2),m=.5-Math.round(l.margin.itemX/2);_.dir==="vertical"&&(d.points=[{x:e,y:a},{x:e+m,y:a},{x:e+m,y:v},{x:c,y:v}]),(_.dir==="verticalLeft"||Array.isArray(_.dir)&&_.dir.includes("verticalLeft"))&&(d.points=[{x:e,y:a},{x:e+m,y:a},{x:e+m,y:v},{x:c+f.width,y:v}]),(_.dir==="verticalRight"||Array.isArray(_.dir)&&_.dir.includes("verticalRight"))&&(d.points=[{x:e+_.width,y:a},{x:e+_.width-m,y:a},{x:e+_.width-m,y:v},{x:c,y:v}])}else{if(e=Math.round(s+_.width/2),a=t+_.height,c=n+(f.$even?0:f.width),v=Math.round(i+f.height/2),f.partner){var k=f.$even?s+_.width:s,I=Math.round(t+_.height/2),P=Math.round(l.margin.itemX/2);return P=f.$even?P:-P,void(d.points=[{x:k,y:I},{x:k+P,y:I},{x:k+P,y:v},{x:c,y:v}])}if(f.assistant){if(((u=_==null?void 0:_.$partners)===null||u===void 0?void 0:u.common.length)===1){var T=s,H=Math.round(t+_.height/2),$=Math.round(l.margin.itemX/2);return void(d.points=[{x:T,y:H},{x:T-$,y:H},{x:T-$,y:v},{x:c,y:v}])}return void(d.points=[{x:e,y:a},{x:e,y:a},{x:e,y:v},{x:c,y:v}])}if(c=Math.round(n+f.width/2),v=i,m=_.$height-(_.$baseHeight+_.height)/2,((r=_==null?void 0:_.$partners)===null||r===void 0?void 0:r.common.length)===1){var L=Math.round(s-l.margin.itemX/2);return void(d.points=[{x:L,y:a-_.height/2},{x:L,y:a+m},{x:c,y:a+m},{x:c,y:v}])}d.points=[{x:e,y:a},{x:e,y:a+m},{x:c,y:a+m},{x:c,y:v}]}}}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.addLineTitle=p.getDistanceEblowLine=p.getDistancePercentage=p.getDistanceFactor=p.getLinePercentage=p.getLineLength=p.getLineAngle=p.getNearPointStraightLine=void 0;var w=x(29);function C(_,f,l){var u=_.x,r=_.y,s=f.x,t=f.y,n=l.x,i=l.y;if(u===s)return{x:u,y:i};if(r===t)return{x:n,y:r};var e=(t-r)/(s-u),a=-1/e,c=(e*u-a*n+i-r)/(e-a);return{x:c,y:a*(c-n)+i}}function b(_,f){var l=_.x,u=_.y,r=f.x,s=f.y;return Math.sqrt((r-l)*(r-l)+(s-u)*(s-u))}function y(_,f,l){var u=b(_,f),r=b(_,l);return r<=u?r/u:u/r}function g(_){return 100*_}function d(_,f){for(var l,u,r=_.points,s=[],t=1/0,n=0,i=0,e=0,a=0;a<r.length-1;a++){var c=r[a],v=r[a+1],m=C(c,v,f),k=b(m,f),I=b(c,v);n+=I,s.push(I);var P=c.x,T=c.y,H=v.x,$=v.y,L=m.x,j=m.y;P>H&&(P=(l=[H,P])[0],H=l[1]),T>$&&(T=(u=[$,T])[0],$=u[1]),k<=t&&H>=L&&P<=L&&$>=j&&T<=j&&(t=k,i=b(c,m),e=a)}var M=0;if(e!==0)for(a=0;a<e;a++)M+=s[a];return(M+=i)/n*100}p.getNearPointStraightLine=C,p.getLineAngle=function(_,f){var l=_.x,u=_.y,r=f.x,s=f.y;return Math.atan((s-u)/(r-l))*(180/Math.PI)},p.getLineLength=b,p.getLinePercentage=y,p.getDistanceFactor=function(_){return _===void 0&&(_=50),typeof _=="string"&&(_=parseFloat(_)),_>=100?1:_<=0?0:_/100},p.getDistancePercentage=g,p.getDistanceEblowLine=d,p.addLineTitle=function(_,f){var l,u=_.points,r=f._lastItemClickCoords,s=50;if(_.connectType==="straight"||u.length===2){var t=u[0],n=u[u.length-1];s=g(y(t,n,C(t,n,r)))}else s=d(_,r);var i=f.data.add({type:"lineTitle",text:w.locale.text,distance:s,parent:_.id});f.selection.add({id:i});var e=(l=f.data.getItem(i))===null||l===void 0?void 0:l.$item;e&&e.isEditable()&&f.editor.openEditor(i,"text")&&e.setEditorNode(f.editor.render(),"text")}},function(O,p,x){var w,C=this&&this.__extends||(w=function(s,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])},w(s,t)},function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=s}w(s,t),s.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__spreadArray||function(s,t,n){if(n||arguments.length===2)for(var i,e=0,a=t.length;e<a;e++)!i&&e in t||(i||(i=Array.prototype.slice.call(t,0,e)),i[e]=t[e]);return s.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0}),p.Input=p.Validation=void 0;var y,g=x(0),d=x(1),_=x(6),f=x(9),l=x(3),u=x(4);(function(s){s.empty="",s.validEmail="email",s.validInteger="integer",s.validNumeric="numeric",s.validAlphaNumeric="alphanumeric",s.validIPv4="IPv4"})(y||(p.Validation=y={}));var r=function(s){function t(n,i){i===void 0&&(i={});var e=s.call(this,null,i)||this;return e.events=new l.EventSystem,e._propsItem=["inputType","required","validation","icon","placeholder","autocomplete","readOnly","maxlength","minlength","min","max","step","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],e._props=b(b([],_.baseProps,!0),e._propsItem,!0),e._initView(i),e._initHandlers(),e}return C(t,s),t.prototype.destructor=function(){this.events&&this.events.clear(),this.events=this._uid=this._propsItem=this._propsItem=null,s.prototype._destructor.call(this),this.unmount()},t.prototype.setProperties=function(n){if(n&&!(0,d.isEmptyObj)(n)&&this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var i in n)this._props.includes(i)&&(this.config[i]=n[i]);this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},t.prototype.getProperties=function(){for(var n={},i=0,e=this._props;i<e.length;i++){var a=e[i];n[a]=this.config[a]}return n},t.prototype.show=function(){var n=this.config,i=n.value;n.hidden&&this.events.fire(u.ItemEvent.beforeShow,[i])&&(this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[i]))},t.prototype.hide=function(n){var i=this.config,e=i.value;i.hidden&&!n||!this.events.fire(u.ItemEvent.beforeHide,[e,n])||(this.config.hidden=!0,this.events.fire(u.ItemEvent.afterHide,[e,n]))},t.prototype.isVisible=function(){return!this.config.hidden},t.prototype.disable=function(){this.config.disabled=!0,this.paint()},t.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},t.prototype.isDisabled=function(){return!!this.config.disabled},t.prototype.validate=function(n){n===void 0&&(n=!1);for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];var a=i.length?i[0]:this.getValue();if(!n&&!this.events.fire(u.ItemEvent.beforeValidate,[a]))return!1;var c=this.config.validation?(0,_.validateInput)(a,this.config.validation):(0,_.baseInputValidate)(a,this.config);return n||(this.setValidationStatus(c?"success":"error"),this.events.fire(u.ItemEvent.afterValidate,[a,c]),!this.isFocused()&&this.paint()),c},t.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},t.prototype.clear=function(){this.config.value!==""&&this.events.fire(u.ItemEvent.beforeChange,[""])&&(this.config.value="",this.events.fire(u.ItemEvent.change,[this.getValue()]),(0,_.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"))},t.prototype.setValue=function(n){n!==void 0&&this.config.value!==n&&this.events.fire(u.ItemEvent.beforeChange,[n])&&(this.config.value=n,this.events.fire(u.ItemEvent.change,[this.getValue()]),(0,_.isVerify)(this.config)&&this.validate())},t.prototype.getValue=function(){var n=this.config,i=n.inputType,e=n.value;return i==="number"&&typeof e=="number"||e===null?e:i==="number"&&typeof e=="string"?e.length?Number(e):"":typeof e=="string"?e.length?e:"":e===void 0?"":String(e)},t.prototype.isFocused=function(){var n,i,e;return((e=(i=(n=this.getRootView())===null||n===void 0?void 0:n.refs)===null||i===void 0?void 0:i.input)===null||e===void 0?void 0:e.el)===document.activeElement},t.prototype.focus=function(){var n=this;(0,g.awaitRedraw)().then(function(){n.getRootView().refs.input.el.focus()})},t.prototype.blur=function(){var n=this;(0,g.awaitRedraw)().then(function(){n.getRootView().refs.input.el.blur()})},t.prototype._initView=function(n){if((0,d.isEmptyObj)(n))throw new Error("Check the configuration is correct");for(var i in this.config={type:"input",id:n.id,name:n.name,value:"",disabled:!1,hidden:!1,inputType:"text",required:!1,icon:"",placeholder:"",autocomplete:!1,readOnly:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},n)i!=="id"&&i!=="type"&&i!=="name"&&(this.config[i]=n[i]);this._value=this.config.value,this.paint()},t.prototype._initHandlers=function(){var n=this;this.events.on(u.ItemEvent.change,function(i){n._value=i,n.paint()})},t.prototype._getHandlers=function(){var n=this;return{oninput:function(i){i.isComposing||(n._value=i.target.value,n.events.fire(u.ItemEvent.input,[n.config.inputType==="number"?Number(n._value):n._value]))},onchange:function(i){n._value=i.target.value,n._value!==n.config.value&&n.setValue(n._value)},onfocus:function(){n.events.fire(u.ItemEvent.focus,[n.getValue()]),n.paint()},onblur:function(){n._uid&&(n.events.fire(u.ItemEvent.blur,[n.getValue()]),n._value!==n.config.value&&n.setValue(n._value),n.paint())},onkeydown:function(i){i.code==="Enter"&&n.config.type==="input"&&i.preventDefault(),n.events.fire(u.ItemEvent.keydown,[i])}}},t.prototype._draw=function(){var n=this.config,i=n.id,e=n.disabled,a=n.name,c=n.icon,v=n.placeholder,m=n.required,k=n.inputType,I=n.hidden,P=n.autocomplete,T=n.readOnly,H=n.maxlength,$=n.minlength,L=n.max,j=n.min,M=n.label,F=n.helpMessage,S=n.value,R=I?" dhx_form-group--hidden":"";return(0,g.el)("div.dhx_form-group",{class:(0,_.getFormItemCss)(this.config,(0,_.isVerify)(this.config),this.isFocused())+R},[this._drawLabel(),(0,g.el)(".dhx_input__wrapper",{},[(0,g.el)("div.dhx_input__container",{},[this.config.icon?(0,g.el)(".dhx_input__icon",{class:this.config.icon}):null,(0,g.el)("input.dhx_input",{type:["text","number","password"].includes(k)?k:"text","data-dhx-id":a||i,id:i||this._uid,_key:i||this._uid,placeholder:v||"",value:S,name:a||"",disabled:e,required:m,readOnly:T,maxlength:H,minlength:$,max:L,min:j,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onkeydown:this._handlers.onkeydown,class:c?"dhx_input--icon-padding":"",autocomplete:P?"on":"off",_ref:"input","aria-label":M||F||"type ".concat(a||k||"text"),"aria-describedby":F?"dhx_label__help_".concat(i||this._uid):null,_hooks:this._getHooks()})]),(0,_.getValidationMessage)(this.config)&&(0,g.el)("span.dhx_input__caption",(0,_.getValidationMessage)(this.config))])])},t.prototype._getHooks=function(){var n=this,i=this._handlers.oninput;return{didRecycle:function(e,a){n.isFocused()&&(0,d.isDefined)(n._value)&&(a.el.value=n._value)},didInsert:function(e){e.el.addEventListener("compositionend",i)},willRemove:function(e){e.el.removeEventListener("compositionend",i),i=null}}},t}(f.Label);p.Input=r},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.VaultMode=p.ProgressBarEvents=p.UploaderEvents=p.FileStatus=void 0;var w,C,b,y;x(8),function(g){g.queue="queue",g.uploaded="uploaded",g.failed="failed",g.inprogress="inprogress"}(w||(p.FileStatus=w={})),function(g){g.uploadBegin="uploadbegin",g.beforeUploadFile="beforeuploadfile",g.uploadFile="uploadfile",g.uploadFail="uploadfail",g.uploadComplete="uploadcomplete",g.uploadProgress="uploadprogress"}(C||(p.UploaderEvents=C={})),function(g){g.cancel="cancel"}(b||(p.ProgressBarEvents=b={})),function(g){g.grid="grid",g.list="list"}(y||(p.VaultMode=y={}))},function(O,p,x){function w(C,b,y){return y===void 0&&(y={}),C.reduce(function(g,d,_){return _===C.length-1?g[d]=b:g[d]=g[d]||{},g[d]},y),y}Object.defineProperty(p,"__esModule",{value:!0}),p.getValueFromObjectByKeys=p.getModifiedObject=p.createNestedObject=void 0,p.createNestedObject=w,p.getModifiedObject=function(C,b,y){return Array.isArray(C)?y=w(C,b,y):y[C]=b,y},p.getValueFromObjectByKeys=function(C,b){if(C&&(b!=null&&b.length)){if(typeof b=="string")return C[b];for(var y=C,g=0,d=b;g<d.length;g++){var _=d[g];if(y[_]===void 0)return;y=y[_]}return y}}},function(O,p){var x;x=function(){return this}();try{x=x||new Function("return this")()}catch{typeof window=="object"&&(x=window)}O.exports=x},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.i18n=p.DiagramEditor=p.Diagram=p.setTheme=p.awaitRedraw=void 0,x(123),x(124);var w=x(0);Object.defineProperty(p,"awaitRedraw",{enumerable:!0,get:function(){return w.awaitRedraw}}),Object.defineProperty(p,"setTheme",{enumerable:!0,get:function(){return w.setTheme}});var C=x(63);Object.defineProperty(p,"Diagram",{enumerable:!0,get:function(){return C.Diagram}});var b=x(204);Object.defineProperty(p,"DiagramEditor",{enumerable:!0,get:function(){return b.DiagramEditor}});var y=x(57),g=x(277),d=window;p.i18n=d.dhx&&d.dhx.i18n?d.dhx.i18:{},p.i18n.setLocale=g.setLocale,p.i18n.diagram=p.i18n.diagram||y.default},function(O,p,x){var w,C,b;Object.defineProperty(p,"__esModule",{value:!0}),p.MessageContainerPosition=p.Position=p.RealPosition=void 0,function(y){y.left="left",y.right="right",y.top="top",y.bottom="bottom",y.center="center"}(w||(p.RealPosition=w={})),function(y){y.right="right",y.bottom="bottom",y.center="center",y.left="left",y.top="top"}(C||(p.Position=C={})),function(y){y.topLeft="top-left",y.topRight="top-right",y.bottomLeft="bottom-left",y.bottomRight="bottom-right"}(b||(p.MessageContainerPosition=b={}))},function(O,p,x){(function(w){Object.defineProperty(p,"__esModule",{value:!0}),p.ajax=void 0;var C=x(22),b=x(23);function y(d){return d?d.includes("json")?"json":d.includes("xml")?"xml":"text":"text"}function g(d,_,f,l,u){var r=l||{};if(u&&(r.Accept="application/"+u),f!=="GET"&&(r["Content-Type"]=r["Content-Type"]||"application/json"),f==="GET"){var s=_&&typeof _=="object"?function(t){return Object.keys(t).reduce(function(n,i){var e=typeof t[i]=="object"?JSON.stringify(t[i]):t[i];return n.push(i+"="+encodeURIComponent(e)),n},[]).join("&")}(_):_&&typeof _=="string"?_:"";s&&(d+=d.includes("?")?"&":"?",d+=s),_=null}return window.fetch?(r["Content-Type"]==="application/json"&&_&&typeof _=="object"&&(_=JSON.stringify(_)),window.fetch(d,{method:f,body:_||null,headers:r}).then(function(t){if(!t.ok)return t.text().then(function(e){return w.reject({status:t.status,statusText:t.statusText,message:e})});var n=u||y(t.headers.get("Content-Type"));if(n==="raw")return{headers:Object.fromEntries(t.headers.entries()),url:t.url,body:t.body};if(t.status!==204)switch(n){case"json":return t.json();case"xml":var i=(0,b.toDataDriver)(C.DataDriver.xml);return i?t.text().then(function(e){return i.toJsonObject(e)}):t.text();default:return t.text()}})):new w(function(t,n){var i=new XMLHttpRequest;for(var e in i.onload=function(){i.status>=200&&i.status<300?(u==="raw"&&t({url:i.responseURL,headers:i.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce(function(a,c){var v=c.split(": ");return a[v[0]]=v[1],a},{}),body:i.response}),i.status===204?t():t(function(a,c){switch(c){case"json":return JSON.parse(a);case"text":default:return a;case"xml":var v=(0,b.toDataDriver)(C.DataDriver.xml);return v?v.toJsonObject(a):{parseError:"Incorrect data driver type: 'xml'"}}}(i.responseText,u||y(i.getResponseHeader("Content-Type"))))):n({status:i.status,statusText:i.statusText})},i.onerror=function(){n({status:i.status,statusText:i.statusText,message:i.responseText})},i.open(f,d),r)i.setRequestHeader(e,r[e]);switch(f){case"POST":case"DELETE":case"PUT":i.send(_!==void 0?JSON.stringify(_):"");break;default:i.send()}})}p.ajax={get:function(d,_,f){return g(d,_,"GET",f&&f.headers,f!==void 0?f.responseType:void 0)},post:function(d,_,f){return g(d,_,"POST",f&&f.headers,f!==void 0?f.responseType:void 0)},put:function(d,_,f){return g(d,_,"PUT",f&&f.headers,f!==void 0?f.responseType:void 0)},delete:function(d,_,f){return g(d,_,"DELETE",f&&f.headers,f!==void 0?f.responseType:void 0)}}}).call(this,x(17))},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(144),p),C(x(79),p)},function(O,p,x){var w,C=this&&this.__extends||(w=function(_,f){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(l[r]=u[r])},w(_,f)},function(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function l(){this.constructor=_}w(_,f),_.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)});Object.defineProperty(p,"__esModule",{value:!0}),p.Layout=void 0;var b=x(50),y=x(74),g=x(0),d=function(_){function f(l,u){var r=_.call(this,l,u)||this;if(r._root=r.config.parent||r,r._all={},r._parseConfig(),r._progress=!1,r.config.activeTab&&(r.config.activeView=r.config.activeTab),r.config.views&&(r.config.activeView=r.config.activeView||r._cells[0].id,r._isViewLayout=!0),!u.parent){var s=(0,g.create)({render:function(){return r._root&&r.toVDOM()}},r);r.mount(l,s)}return r}return C(f,_),f.prototype.destructor=function(){if(this.unmount(),this.config){for(var l=0,u=this._cells;l<u.length;l++){var r=u[l];r==null||r.destructor()}this.config=this._cells=this._root=this._xLayout=this._isViewLayout=null,this._all={}}},f.prototype.toVDOM=function(){var l;if(this._isViewLayout){var u=[this.getCell(this.config.activeView).toVDOM()];return _.prototype.toVDOM.call(this,u)}var r=[];return this._inheritTypes(),(l=this._cells)===null||l===void 0||l.forEach(function(s){var t=s.toVDOM();Array.isArray(t)?r=r.concat(t):r.push(t)}),_.prototype.toVDOM.call(this,r)},f.prototype.removeCell=function(l){if(this.events.fire(b.LayoutEvents.beforeRemove,[l])){var u=this.config.parent||this;if(u===this){var r=this.getCell(l);if(r){var s=r.getParent();delete this._all[l],s._cells=s._cells.filter(function(t){return t.id!=l}),s.paint()}this.events.fire(b.LayoutEvents.afterRemove,[l])}else u.removeCell(l)}},f.prototype.addCell=function(l,u){if(u===void 0&&(u=-1),this.events.fire(b.LayoutEvents.beforeAdd,[l.id])){var r=this._createCell(l);u<0&&(u=this._cells.length+u+1),this._cells.splice(u,0,r),this.paint(),this.events.fire(b.LayoutEvents.afterAdd,[l.id])}},f.prototype.getId=function(l){return l<0&&(l=this._cells.length+l),this._cells[l]?this._cells[l].id:void 0},f.prototype.getRefs=function(l){return this._root.getRootView().refs[l]},f.prototype.getCell=function(l){var u;return(u=this._root)===null||u===void 0?void 0:u._all[l]},f.prototype.forEach=function(l,u,r){if(r===void 0&&(r=1/0),this._haveCells(u)&&!(r<1)){var s;s=u?this._root._all[u]._cells:this._root._cells;for(var t=0;t<s.length;t++){var n=s[t];l.call(this,n,t,s),this._haveCells(n.id)&&n.forEach(l,n.id,--r)}}},f.prototype.cell=function(l){return this.getCell(l)},f.prototype.progressShow=function(){this._progress=!0,this.paint()},f.prototype.progressHide=function(){this._progress=!1,this.paint()},f.prototype._initHandlers=function(){var l=this;this._handlers={enterCollapse:function(u){u.keyCode===13&&l._handlers.toggle()},collapse:function(){l.config.collapsable&&l.collapse()},expand:function(){l.config.collapsable&&l.expand()},toggle:function(){l.config.collapsable&&l.toggle()}}},f.prototype._getCss=function(l){var u=this._xLayout?"dhx_layout-columns":"dhx_layout-rows",r=this.config.align?" "+u+"--"+this.config.align:"";if(l)return u+" dhx_layout-cell"+(this.config.align?" dhx_layout-cell--"+this.config.align:"");var s=this.config.parent?_.prototype._getCss.call(this):"dhx_widget dhx_layout",t=this.config.parent?"":" dhx_layout-cell";return s+(this.config.full?t:" "+u)+r},f.prototype._parseConfig=function(){var l=this,u=this.config,r=u.rows||u.cols||u.views||[];this._xLayout=!u.rows,this._cells=r.map(function(s){return l._createCell(s)})},f.prototype._createCell=function(l){var u;return l.rows||l.cols||l.views?(l.parent=this._root,u=new f(this,l)):u=new y.Cell(this,l),this._root._all[u.id]=u,l.init&&l.init(u,l),u},f.prototype._haveCells=function(l){if(l){var u=this._root._all[l];return u._cells&&u._cells.length>0}return Object.keys(this._all).length>0},f.prototype._inheritTypes=function(l){var u=this;if(l===void 0&&(l=this._cells),Array.isArray(l))l.forEach(function(t){return u._inheritTypes(t)});else{var r=l==null?void 0:l.config;if(r!=null&&r.rows||r!=null&&r.cols){var s=l.getParent();!r.type&&s&&(s.config.type?r.type=s.config.type:this._inheritTypes(s))}}},f}(y.Cell);p.Layout=d},function(O,p,x){var w;Object.defineProperty(p,"__esModule",{value:!0}),p.LayoutEvents=void 0,function(C){C.beforeShow="beforeShow",C.afterShow="afterShow",C.beforeHide="beforeHide",C.afterHide="afterHide",C.beforeResizeStart="beforeResizeStart",C.resize="resize",C.afterResizeEnd="afterResizeEnd",C.beforeAdd="beforeAdd",C.afterAdd="afterAdd",C.beforeRemove="beforeRemove",C.afterRemove="afterRemove",C.beforeCollapse="beforeCollapse",C.afterCollapse="afterCollapse",C.beforeExpand="beforeExpand",C.afterExpand="afterExpand"}(w||(p.LayoutEvents=w={}))},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(80),p),C(x(161),p),C(x(86),p)},function(O,p,x){var w;Object.defineProperty(p,"__esModule",{value:!0}),p.ListEvents=void 0,function(C){C.click="click",C.doubleClick="doubleclick",C.focusChange="focuschange",C.beforeEditStart="beforeEditStart",C.afterEditStart="afterEditStart",C.beforeEditEnd="beforeEditEnd",C.afterEditEnd="afterEditEnd",C.itemRightClick="itemRightClick",C.itemMouseOver="itemMouseOver",C.contextmenu="contextmenu"}(w||(p.ListEvents=w={}))},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.shapesFactory=p.shapes=void 0;var w=x(89),C=x(187),b=x(55),y=x(188),g=x(90),d=x(189);for(var _ in p.shapes={card:w.Card,"img-card":C.ImgCard,text:y.TextShape,topic:d.TopicShape},b.flowShapes)p.shapes[_]=b.FlowShape;p.shapesFactory=function(f,l){var u=p.shapes[f.type];return!u&&(u=p.shapes.card,l.shapes[f.type])?new g.CustomShape(f,l):new u(f,l)}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.BaseItem=void 0;var w=function(){function C(b,y){this.editableProperty={key:null,editableId:null},this.config=this.setDefaults(b,b.type==="line"||b.type==="dash"?y:y.defaults),this.id=this.config.id=b.id}return C.prototype.isFixed=function(){return this.config.fixed},C.prototype.isEditable=function(){return this.config.editable||!1},C.prototype.getBaseType=function(){return"base"},C.prototype.isLocate=function(b){var y=this.config,g=y.x,d=y.y,_=y.height,f=y.width,l=y.dx,u=l===void 0?0:l,r=y.dy,s=r===void 0?0:r,t=g+f+u>=b.x&&g+u<=b.x+b.width,n=d+_+s>=b.y&&d+s<=b.y+b.height;return t&&n},C.prototype.getBox=function(){var b=this.config,y=b.x,g=y===void 0?0:y,d=b.y,_=d===void 0?0:d,f=b.dx,l=f===void 0?0:f,u=b.dy,r=g+l,s=_+(u===void 0?0:u);return{left:r,right:r+b.width,top:s,bottom:s+b.height}},C.prototype.canResize=function(){return!0},C.prototype.render=function(){return""},C.prototype.getEditorNode=function(){return this.editorNode},C.prototype.setEditorNode=function(b,y,g){this.editorNode=b,y&&(this.editableProperty.key=y),g&&(this.editableProperty.editableId=g)},C.prototype.destructor=function(){this.config=this.id=null},C.prototype.getCss=function(){var b=this.config,y=b.$selected,g=b.$target,d=b.assistant,_=d!==void 0&&d,f=b.partner,l=f!==void 0&&f,u=b.catchItem,r=u===void 0||u,s=b.$move,t=b.type,n=this.config.css||"";return y&&this.getBaseType()!=="line"&&(n+=" dhx_diagram_item--selected"),s&&t!=="$sgroup"&&(n+=" dhx_diagram_item--move"),g&&(n+=_||l||!r?" dhx_action__target dhx_action__target--doesnt_take":" dhx_action__target dhx_action__target--take"),n},C.prototype.setDefaults=function(b,y){return b},C.prototype.getCoords=function(b){var y=b.dx,g=b.dy,d=b.$group,_=b.$gx,f=b.$gy,l=b.x,u=b.y;return y&&(l+=y),g&&(u+=g),d?{x:_,y:f}:(delete b.$gx,delete b.$gy,{x:l,y:u})},C}();p.BaseItem=w},function(O,p,x){var w,C=this&&this.__extends||(w=function(f,l){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u[s]=r[s])},w(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=f}w(f,l),f.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),b=this&&this.__spreadArray||function(f,l,u){if(u||arguments.length===2)for(var r,s=0,t=l.length;s<t;s++)!r&&s in l||(r||(r=Array.prototype.slice.call(l,0,s)),r[s]=l[s]);return f.concat(r||Array.prototype.slice.call(l))};Object.defineProperty(p,"__esModule",{value:!0}),p.flowShapes=p.FlowShape=void 0;var y=x(0),g=x(28),d=x(19),_=function(f){function l(u,r){return f.call(this,u,r)||this}return C(l,f),l.prototype.setDefaults=function(u,r){var s=u.width,t=u.height,n=u.stroke,i=u.fill,e=u.strokeWidth,a=u.fontColor,c=u.strokeDash,v=u.textAlign,m=u.lineHeight,k=u.fontStyle,I=u.textVerticalAlign,P=u.type,T=u.fontSize,H=u.text,$=u.preview,L=u.x,j=u.y,M=u.fixed,F=u.editable,S=["circle","or","junction"].includes(P),R=r.width?parseFloat(r.width):S?90:140,B=r.height?parseFloat(r.height):90,Y=r.lineHeight?parseFloat(r.lineHeight):14,q=r.fontSize?parseFloat(r.fontSize):14,U=r.strokeWidth?parseFloat(r.strokeWidth):1;return u.strokeWidth=e||U,u.width=s||R,u.height=t||B,u.fontSize=T||q,u.lineHeight=m||Y,u.strokeDash=c||r.strokeDash||"",u.fill=i||r.fill||"#EEF1F6",u.stroke=n||r.stroke||"#B8C6D6",u.text=typeof H=="string"?H:r.text||"",u.textAlign=v||r.textAlign||"center",u.textVerticalAlign=I||r.textVerticalAlign||"center",u.fontStyle=k||r.fontStyle||"normal",u.fontColor=a||r.fontColor||"#4C4C4C",u.preview=$||r.preview,u.x=L||0,u.y=j||0,u.fixed=M||!1,u.editable=typeof F!="boolean"||F,u},l.prototype.getContent=function(){var u=this.config,r=u.text,s=u.$editable;return[(0,y.el)("div.dhx_diagram_item__text",{style:(0,d.getShapeCss)(this.config)},s?[this.getEditorNode()]:r)]},l.prototype.render=function(){var u=this;this.config.strokeType||(this.config.strokeType="line"),this.config.strokeType==="line"&&(this.config.strokeDash="0"),this.config.strokeType==="dash"&&(this.config.strokeDash="5,5");var r=this.config,s=r.id,t=r.angle,n=r.width,i=r.height,e=r.strokeWidth,a=r.$group,c=r.$selected,v=a||c?c?2:1:0,m=this.getCoords(this.config),k=e/2,I=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(P,T){I.push((0,d.getCircleTpl)(u.config,T))}):I.push((0,d.getCircleTpl)(this.config)),(0,y.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_flow",{_key:s,class:this.getCss(),"data-dhx-id":s,style:{transform:"rotate(".concat(t||0,"deg)"),position:"absolute",height:i,width:n,top:m.y,left:m.x,zIndex:v}},b([(0,y.sv)("svg",{xmlns:"http://www.w3.org/2000/svg",height:i,width:n,viewBox:"".concat(-k," ").concat(-k," ").concat(n+k," ").concat(i+k),reserveAspectRatio:"none"},this._getShapeContour()),(0,d.getTextTemplate)(this.config,this.getContent())],I,!0))},l.prototype._getShapeContour=function(){var u,r=this.config,s=r.width,t=r.height,n=r.stroke,i=r.fill,e=r.strokeWidth,a=r.strokeDash,c=r.type,v=r.strokeType,m=p.flowShapes[c],k=Math.round(s/12),I=s-e/2,P=t-e/2,T=m.path(I,P,k),H=m.additionalPath(I,P,k);return[(u=T,(0,y.sv)("path",{d:u,class:"dhx_diagram_shape_flow__svg ",stroke:v!=="none"&&n,fill:i,"stroke-width":e,"stroke-dasharray":a})),function($){return(0,y.sv)("path",{d:$,fill:"none",stroke:n,class:"dhx_diagram_shape_flow__extra-line"})}(H)]},l}(g.BaseShape);p.FlowShape=_,p.flowShapes={circle:{path:function(f,l){return`
			M `.concat(f/2," 0 A ").concat(l/2,",").concat(l/2," 0 1 0 ").concat(f/2,",").concat(l,`
			A `).concat(l/2,",").concat(l/2," 0 1 0 ").concat(f/2,",0 Z")},additionalPath:function(){}},rectangle:{path:function(f,l){return"M 0,0 L 0,".concat(l," L ").concat(f,",").concat(l," L ").concat(f,",0 Z")},additionalPath:function(){}},triangle:{path:function(f,l){return"M ".concat(f/2," 0 L").concat(f," ").concat(l," L 0 ").concat(l," z")},additionalPath:function(){}},start:{path:function(f,l){return`
			M `.concat(l/2," 0 A ").concat(l/2,",").concat(l/2," 0 1 0 ").concat(l/2,",").concat(l,`
			H `).concat(f-l/2," A ").concat(l/2,",").concat(l/2," 0 1 0 ").concat(f-l/2,",0 H ").concat(l/2," Z")},additionalPath:function(){}},end:{path:function(f,l){return`
			M `.concat(l/2," 0 A ").concat(l/2,",").concat(l/2," 0 1 0 ").concat(l/2,",").concat(l,`
			H `).concat(f-l/2," A ").concat(l/2,",").concat(l/2," 0 1 0 ").concat(f-l/2,",0 H ").concat(l/2," Z")},additionalPath:function(){}},process:{path:function(f,l){return"M 0,0 L 0,".concat(l," L ").concat(f,",").concat(l," L ").concat(f,",0 Z")},additionalPath:function(){}},output:{path:function(f,l,u){return"M ".concat(2*u,",0 ").concat(f,",0 ").concat(f-2*u,",").concat(l," 0,").concat(l," Z")},additionalPath:function(){}},decision:{path:function(f,l){return"M 0 ".concat(l/2," L ").concat(f/2," 0 L ").concat(f," ").concat(l/2," L ").concat(f/2," ").concat(l," Z")},additionalPath:function(){}},display:{path:function(f,l){return`
			M 0 `.concat(l/2," L ").concat(f/4," 0 H ").concat(3*f/4,`
			A `).concat(f/4,",").concat(l/2," 0 1 1 ").concat(3*f/4,",").concat(l,`
			H `).concat(f/4," Z")},additionalPath:function(){}},document:{path:function(f,l){return"M0 ".concat(l-=8,` C
			`).concat(f/6," ").concat(10*l/9,`,
			`).concat(f/3," ").concat(10*l/9,`,
			`).concat(f/2," ").concat(l,` S
			`).concat(5*f/6," ").concat(8*l/9,`,
			`).concat(f," ").concat(l,`
			V 0 H 0 Z`)},additionalPath:function(){}},data:{path:function(f,l,u){return"M ".concat(u,` 0 Q
			`).concat(-u," ").concat(l/2,`,
			`).concat(u," ").concat(l," H ").concat(f,` Q
			`).concat(f-2*u," ").concat(l/2,`,
			`).concat(f," 0 Z")},additionalPath:function(){}},database:{path:function(f,l,u){return"M 0 ".concat(u," A ").concat(f/2,",").concat(u," 0 1 0 ").concat(f,",").concat(u,`
			A `).concat(f/2,",").concat(u," 0 1 0 0,").concat(u,`
			V `).concat(l," H ").concat(f," V ").concat(u)},additionalPath:function(f,l,u){return"M 0 ".concat(u," A ").concat(f/2,",").concat(u," 0 1 0 ").concat(f,",").concat(u)}},internal:{path:function(f,l){return"M 0,0 L 0,".concat(l," L ").concat(f,",").concat(l," L ").concat(f,",0 Z")},additionalPath:function(f,l,u){return"M ".concat(u," 0 V ").concat(l," M 0 ").concat(u," H ").concat(f)}},offline:{path:function(f,l){return"M 0,0 ".concat(f,",0 ").concat(f/2,",").concat(l," Z")},additionalPath:function(f,l,u){var r=l/Math.sqrt(Math.pow(f/2,2)+Math.pow(l,2)),s=Math.sqrt(Math.pow(u/r,2)-Math.pow(u,2));return"M ".concat(f/2-s," ").concat(l-u," h ").concat(2*s)}},delay:{path:function(f,l){return`
			M 0 0 H `.concat(3*f/4,`
			A `).concat(f/4,",").concat(l/2," 0 1 1 ").concat(3*f/4,",").concat(l,`
			H 0 Z`)},additionalPath:function(){}},page:{path:function(f,l){return`
			M 0,0
			`.concat(f,`,0
			`).concat(f,",").concat(l/2,`
			`).concat(f/2,",").concat(l,`
			0,`).concat(l/2," Z")},additionalPath:function(){}},input:{path:function(f,l){return`
			M 0,`.concat(l/3,`
			`).concat(f,",").concat(0,`
			`).concat(f,",").concat(l,`
			0,`).concat(l," Z")},additionalPath:function(){}},operation:{path:function(f,l){return`
			M 0,0
			`.concat(f,`,0
			`).concat(3*f/4,",").concat(l,`
			`).concat(f/4,",").concat(l," Z")},additionalPath:function(){}},punchcard:{path:function(f,l){return`
			M 0,`.concat(l/4,`
			`).concat(f/4,`,0
			`).concat(f,`,0
			`).concat(f,",").concat(l,`
			0,`).concat(l," Z")},additionalPath:function(){}},subroutine:{path:function(f,l){return"M 0,0 L 0,".concat(l," L ").concat(f,",").concat(l," L ").concat(f,",0 Z")},additionalPath:function(f,l,u){return"M ".concat(u," 0 V ").concat(l," M ").concat(f-u," 0 V ").concat(l)}},comment:{path:function(f,l){return"M ".concat(f," 0 H 0 V ").concat(l," H").concat(f," V").concat(l-4," H").concat(4," V").concat(4," H").concat(f)},additionalPath:function(){}},storage:{path:function(f,l){return"M 0,0 ".concat(f,",0 ").concat(f/2,",").concat(l," Z")},additionalPath:function(){}},extract:{path:function(f,l){return"M 0,".concat(l," ").concat(f,",").concat(l," ").concat(f/2,",0 Z")},additionalPath:function(){}},collate:{path:function(f,l){return"M ".concat(f/2," ").concat(l/2," L 0 0 H ").concat(f," L 0 ").concat(l," H ").concat(f," Z")},additionalPath:function(){}},or:{path:function(f,l){return`
			M `.concat(f/2," 0 A ").concat(l/2,",").concat(l/2," 0 1 0 ").concat(f/2,",").concat(l,`
			A `).concat(l/2,",").concat(l/2," 0 1 0 ").concat(f/2,",0 Z")},additionalPath:function(f,l){return`
			M`.concat((f-l)/2," ").concat(l/2," ").concat(f-(f-l)/2," ").concat(l/2,`
			M`).concat(f/2," ").concat(0," ").concat(f/2," ").concat(l)}},junction:{path:function(f,l){return`
			M `.concat(f/2," 0 A ").concat(l/2,",").concat(l/2," 0 1 0 ").concat(f/2,",").concat(l,`
			A `).concat(l/2,",").concat(l/2," 0 1 0 ").concat(f/2,",0 Z")},additionalPath:function(f,l){return`
			M `.concat(f/2-l*Math.SQRT2/4," ").concat(l/2-l*Math.SQRT2/4," L ").concat(f/2+l*Math.SQRT2/4," ").concat(l/2+l*Math.SQRT2/4,`
			M `).concat(f/2-l*Math.SQRT2/4," ").concat(l/2+l*Math.SQRT2/4," L ").concat(f/2+l*Math.SQRT2/4," ").concat(l/2-l*Math.SQRT2/4)}},keyring:{path:function(f,l,u){return`
			M `.concat(u," 0 A ").concat(u,",").concat(l/2," 0 1 0 ").concat(u,",").concat(l,`
			H `).concat(f-u," A ").concat(u,",").concat(l/2," 0 1 0 ").concat(f-u,",0 H ").concat(u," Z")},additionalPath:function(){}},tape:{path:function(f,l){return`
			M0 `.concat(l-12,` C
			`).concat(f/6," ").concat(10*(l-8)/9,`,
			`).concat(f/3," ").concat(10*(l-8)/9,`,
			`).concat(f/2," ").concat(l-8,` S
			`).concat(5*f/6," ").concat(8*(l-8)/9,`,
			`).concat(f," ").concat(l,`
			V 12 C
			`).concat(5*f/6," ").concat(-l/9,`,
			`).concat(2*f/3," ").concat(l/9/2,`,
			`).concat(f/2,` 8 S
			`).concat(f/6," ").concat(l/9,`,
			0 0 Z`)},additionalPath:function(){}},preparation:{path:function(f,l){return"M0 ".concat(l/2,"L").concat(20," 0H").concat(f-20,"L ").concat(f," ").concat(l/2,"L").concat(f-20," ").concat(l,"H").concat(20,"L0 ").concat(l/2,"Z")},additionalPath:function(){}},endpoint:{path:function(f,l){return"M0 ".concat(l/2,"  L").concat(f/2," ").concat(0," L ").concat(f/2," ").concat(l," z")},additionalPath:function(){}},roll:{path:function(f,l){return`
			M `.concat(f/2," 0 A ").concat(l/2,",").concat(l/2," 0 1 0 ").concat(f/2,",").concat(l,`
			A `).concat(l/2,",").concat(l/2," 0 1 0 ").concat(f/2,",0 Z")},additionalPath:function(f,l){return"M ".concat(f/2," ").concat(l," H ").concat(f)}}}},function(O,p,x){var w=this&&this.__spreadArray||function(b,y,g){if(g||arguments.length===2)for(var d,_=0,f=y.length;_<f;_++)!d&&_ in y||(d||(d=Array.prototype.slice.call(y,0,_)),d[_]=y[_]);return b.concat(d||Array.prototype.slice.call(y))};Object.defineProperty(p,"__esModule",{value:!0});var C=function(){function b(y,g,d){this._tbounds=[0,0],y?(this.nodes=[g],y.collectSubNodes(g,this.nodes),this.hash=y.hash,this.root(g,d)):(this.nodes=[],this.hash={})}return b.prototype.copy=function(){var y=this,g=new b;return g.nodes=this.nodes.map(function(d){return{id:d.id,w:d.w,h:d.h,x:d.x,y:d.y,kids:[],links:[],isn:d.isn,iss:d.iss}}),g.hash={},g.nodes.forEach(function(d){g.hash[d.id]=d}),g.nodes.forEach(function(d){d.kids=y.hash[d.id].kids.map(function(_){return g.hash[_.id]}),d.links=y.hash[d.id].links.map(function(_){return g.hash[_.id]})}),g._tbounds=[].concat(this._tbounds),g._ybounds=[].concat(this._ybounds),g._bounds=this._bounds?this._bounds.map(function(d){return[].concat(d)}):[],g.routes=this.routes,g._root=this._root?g.hash[this._root.id]:null,g},b.prototype.collectSubNodes=function(y,g){for(var d=0;d<y.kids.length;d++){var _=y.kids[d];g.push(_),_.kids&&this.collectSubNodes(_,g)}},b.prototype.getLevelBounds=function(){return this._bounds},b.prototype.getBounds=function(y,g,d){var _;return[(_=d?this._tbounds:this._bounds[y])[0]?_[0]-g/4:0,_[1]?_[1]+g/4:0]},b.prototype.addEdge=function(y,g){var d=this.hash[y],_=this.hash[g];d.links.push(_),_.links.push(d)},b.prototype.importNodes=function(y){var g=this;y.forEach(function(d){g.hash[d.id]=d,g.nodes.push(d)})},b.prototype.split=function(y){var g=this,d=[];if(this.nodes=this.nodes.filter(function(f){return!y(f)||(delete g.hash[f.id],d.push(f),!1)}),!d.length)return null;var _=new b;return _.importNodes(d),_},b.prototype.addNode=function(y){y.kids=[],y.links=[],this._root||(this._root=y),this.hash[y.id]=y,this.nodes.push(y)},b.prototype.setRoot=function(){var y=this.nodes[0];this.nodes.forEach(function(g){g.id!==y.id&&g.links.length&&(y=g.links.length>y.links.length?g:y)}),this._root=y},b.prototype.getNode=function(y){return this.hash[y]},b.prototype.getRoot=function(){return this._root},b.prototype.getLevels=function(){return this._deep},b.prototype.clean=function(){this.nodes.forEach(function(y){if(y.links.length>1){var g=[];y.links=y.links.filter(function(d){return!g.includes(d)&&y!==d&&(g.push(d),!0)})}})},b.prototype.getNodes=function(){return this.nodes},b.prototype.getBox=function(){return[this._tbounds,this._ybounds]},b.prototype.setGlobalBox=function(){var y,g,d,_;this.nodes.length&&(y=d=1/0,g=_=-1/0,this.nodes.forEach(function(f){var l=f.x-f.w/2,u=f.x+f.w/2,r=f.y-f.h/2,s=f.y+f.h/2;l<y&&(y=l),r<d&&(d=r),u>g&&(g=u),s>_&&(_=s)}),this._tbounds=[y,g],this._ybounds=[d,_])},b.prototype.translate=function(y){if(this.nodes.forEach(function(d){d.x+=y.x,d.y+=y.y}),this._tbounds[0]+=y.x,this._tbounds[1]+=y.x,this._bounds)for(var g=0;g<this._bounds.length;g++)this._bounds[g][0]+=y.x,this._bounds[g][1]+=y.x;this._ybounds&&(this._ybounds[0]+=y.y,this._ybounds[1]+=y.y)},b.prototype.rotate=function(y){var g=y.x,d=y.y;this.nodes.forEach(function(t){var n=t.x*d-t.y*g,i=t.x*g+t.y*d;t.x=n,t.y=i});var _=this._tbounds,f=_[0],l=_[1],u=this._ybounds,r=u[0],s=u[1];this._tbounds=[f*d-r*g,l*d-s*g].sort(),this._ybounds=[f*g+r*d,l*g+s*d].sort()},b.prototype.setBox=function(){var y=this._deep[this._deep.length-1],g=-1/0;y.forEach(function(d){var _=d.y+d.h/2;_>g&&(g=_)}),this._ybounds=[this._root.y-this._root.h/2,g]},b.prototype.mirror=function(){this.nodes.forEach(function(r){r.x=-r.x});for(var y=0;y<this._bounds.length;y++){var g=this._bounds[y],d=g[0],_=g[1];this._bounds[y]=[-_,-d]}var f=this._tbounds,l=f[0],u=f[1];this._tbounds=[-u,-l]},b.prototype.nonLeaves=function(y){return y.kids.filter(function(g){return g.kids.length>0})},b.prototype.toTree=function(y){return y&&this.hash[y.id]||(y=this._detectRoot()),this.nodes.forEach(function(g){return g.kids=[]}),this.setKids(y),this.cleanKids(y,[y.id]),y},b.prototype.root=function(y,g){this._deep=[[y]];var d=Math.round((g&&g.rotate?y.h:y.w)/2);this._tbounds=[-d,d],this._bounds=[[-d,d]],this._leaves=[],this._root=y,this._setLevels(y,1),this._width=1;for(var _=0;_<this._deep.length;_++){var f=this._deep[_].length;f>this._width&&(this._width=f)}},b.prototype.setKids=function(y){var g=this;y.links.forEach(function(d){y.kids.push(d),d.kids.length||g.setKids(d)})},b.prototype.cleanKids=function(y,g,d){var _=this;d===void 0&&(d=[]);var f=w([],y.kids,!0);y.kids.forEach(function(l){if(g.includes(l.id)){var u=f.findIndex(function(r){return r.id===l.id});u>-1&&f.splice(u,1)}else g.push(l.id)}),y.kids=f,y.kids.forEach(function(l){l.kids.length&&!d.includes(l.id)&&_.cleanKids(l,g,d)}),d.push(y.id)},b.prototype._detectRoot=function(){var y={},g=this.nodes,d=[];do d.forEach(function(_){return y[_]=1}),d=[],g=g.filter(function(_){var f=_.links.map(function(l){return y[l.id]?0:1}).reduce(function(l,u){return l+u},0)>1;return f||d.push(_.id),f});while(g.length>2&&d.length);return g[0]||this.nodes[0]},b.prototype._setLevels=function(y,g){for(var d=y.kids,_=0;_<d.length;_++){var f=d[_],l=this._deep[g];l?l.push(f):(this._deep[g]=[f],this._bounds[g]=[0,0]),f.kids.length?this._setLevels(f,g+1):this._leaves.push(f)}},b.prototype.getIString=function(){for(var y=[],g=0;g<this._leaves.length;g++)this._leaves[g].isn=0,this._leaves[g].iss="";for(g=this._deep.length-2;g>=0;g--){for(var d=this._deep[g].filter(function(s){return s.kids.length>0}),_=0;_<d.length;_++)for(var f=d[_],l=0;l<f.kids.length;l++)f.iss=f.kids.map(function(s){return s.isn}).sort().join(",");d.sort(function(s,t){return s.iss>t.iss?1:-1}),y.push(d.map(function(s){return s.iss}).join("|"));var u=d[0].iss,r=1;for(_=0;_<d.length;_++)u!==d[_].iss&&(u=d[_].iss,r++),d[_].isn=r}return y.join(";")},b}();p.default=C},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.en=void 0,p.en={addColumnLast:"Add column",addLeftShape:"Add left shape",addLineTitle:"Add title",addRightShape:"Add right shape",addRowLast:"Add row",addShape:"Add shape",alignHorizontalCenter:"Align horizontal center",alignHorizontalDistribution:"Distribute horizontal spacing",alignHorizontalLeft:"Align left",alignHorizontalRight:"Align right",alignVerticalBottom:"Align bottom",alignVerticalDistribution:"Distribute vertical spacing",alignVerticalMiddle:"Align vertical center",alignVerticalTop:"Align top",connect:"Connect",copy:"Duplicate",lineTitleAutoPositionDisable:"Disable title auto position",lineTitleAutoPositionEnable:"Enable title auto position",menu:"Menu",menuAddAssistant:"Add assistant",menuAddColumnLeft:"Add column left",menuAddColumnRight:"Add column right",menuAddPartner:"Add partner",menuAddRowDown:"Add row down",menuAddRowUp:"Add row up",menuAlignChildrenHorizontally:"Align children horizontally",menuAlignChildrenVertically:"Align children vertically",menuDelete:"Delete",menuDeleteCol:"Delete column",menuDeleteRow:"Delete row",menuMoveColumnLeft:"Move column left",menuMoveColumnRight:"Move column right",menuMoveRowDown:"Move row down",menuMoveRowUp:"Move row up",remove:"Delete",removePoint:"Delete point",text:"Text",title:"Title",shapebar:{shapeSections:"Shapes",groupSections:"Groups",swimlaneSections:"Swimlanes",group:"Group",swimlaneCols:"Swimlane cols",swimlaneRows:"Swimlane rows",swimlaneMix:"Swimlane mix",untitled:"Untitled"},editbar:{arrange:"Arrange",border:"Border",fill:"Fill",gridStep:"Grid step",header:"Header",headerColor:"Header color",headerPosition:"Position",image:"Image",lineShape:"Line shape",lineStyle:"Line style",pointerView:"Pointer view",positionOffset:"Position offset",size:"Size",subheaderCols:"Subheader for columns",subheaderRows:"Subheader for rows",text:"Text",textAlignment:"Text alignment",textStyle:"Text style",title:"Title"},toolbar:{align:"Align",alignHorizontalCenter:"Horizontal center",alignHorizontalLeft:"Left",alignHorizontalRight:"Right",alignVerticalBottom:"Bottom",alignVerticalCenter:"Vertical center",alignVerticalTop:"Top",arrange:"Arrange",connectionPoints:"Connection points",copy:"Copy",copyStyle:"Copy style",distribute:"Distribute",distributeHorizontal:"Horizontal",distributeVertical:"Vertical",duplicate:"Duplicate",edit:"Edit",editbar:"Edit bar",export:"Export as",exportJson:"JSON",exportPdf:"PDF",exportPng:"PNG",file:"File",grid:"Grid",gridStep:"Grid step",importJson:"Import from JSON",itemsDraggable:"Draggable items",layout:"Auto layout",layoutMode:"Placement mode",layoutModeDirect:"Direct",layoutModeEdges:"Edges",layoutOrthogonal:"Orthogonal",layoutRadial:"Radial",magnetic:"Magnetic",paste:"Paste",pasteStyle:"Paste style",redo:"Redo",resizePoints:"Resize points",selectAll:"Select all",selectNone:"Select none",shapebar:"Shape bar",theme:"Theme",themeDark:"Dark",themeDarkContrast:"Dark contrast",themeLight:"Light",themeLightContrast:"Light contrast",undo:"Undo",view:"View",zoomIn:"Zoom in",zoomOut:"Zoom out"},hotkey:{"Alt+1":"Alt+1","Alt+2":"Alt+2","Alt+3":"Alt+3","Ctrl+Z":"Ctrl+Z","Ctrl+Shift+Z":"Ctrl+Shift+Z","Ctrl+D":"Ctrl+D","Ctrl+C":"Ctrl+C","Ctrl+V":"Ctrl+V","Ctrl+Alt+C":"Ctrl+Alt+C","Ctrl+Alt+V":"Ctrl+Alt+V","Ctrl+A":"Ctrl+A","Ctrl+Shift+A":"Ctrl+Shift+A","Ctrl+Mousewheel":"Ctrl+Mousewheel","CMD+Z":"CMD+Z","CMD+Shift+Z":"CMD+Shift+Z","CMD+D":"CMD+D","CMD+C":"CMD+C","CMD+V":"CMD+V","CMD+Alt+C":"CMD+Alt+C","CMD+Alt+V":"CMD+Alt+V","CMD+A":"CMD+A","CMD+Shift+A":"CMD+Shift+A","CMD+Mousewheel":"CMD+Mousewheel"}},p.default=p.en},function(O,p,x){var w,C=this&&this.__extends||(w=function(l,u){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])},w(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function r(){this.constructor=l}w(l,u),l.prototype=u===null?Object.create(u):(r.prototype=u.prototype,new r)}),b=this&&this.__assign||function(){return b=Object.assign||function(l){for(var u,r=1,s=arguments.length;r<s;r++)for(var t in u=arguments[r])Object.prototype.hasOwnProperty.call(u,t)&&(l[t]=u[t]);return l},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.BaseGroup=void 0;var y=x(0),g=x(39),d=x(54),_=x(19),f=function(l){function u(r,s){var t=l.call(this,r,s)||this;return t.data=s.data,t.setMinBox(),t}return C(u,l),u.prototype.getBaseType=function(){return"group"},u.prototype.isEditable=function(r){var s,t;return(t=(s=this.config)===null||s===void 0?void 0:s.header)===null||t===void 0?void 0:t.editable},u.prototype.getLocatePercent=function(r){var s=function(e,a){var c=Math.max(a.left,e.left),v=Math.min(a.right,e.right);return Math.max(v-c,0)},t=this.getBox(),n=s({left:r.left,right:r.right},{left:t.left,right:t.right})*s({left:r.top,right:r.bottom},{left:t.top,right:t.bottom}),i=(r.right-r.left)*(r.bottom-r.top);return Math.round(n/i*100)},u.prototype.setMinBox=function(r){var s=r||this.getBox(),t=s.left,n=s.right,i=s.top,e=s.bottom;this.config.$minBox={left:t,right:n,top:i,bottom:e}},u.prototype.getBox=function(){var r=this.config,s=r.x,t=s===void 0?0:s,n=r.y,i=n===void 0?0:n,e=r.dx,a=e===void 0?0:e,c=r.dy,v=t+a,m=i+(c===void 0?0:c);return{left:v,right:v+r.$width,top:m,bottom:m+r.$height}},u.prototype.getChildBox=function(){var r={left:0,top:0,right:0,bottom:0};return this.data.eachChild(this.id,function(s){var t=s.$item.getBox();(t.right>r.right||r.right===0)&&(r.right=t.right),(t.left<r.left||r.left===0)&&(r.left=t.left),(t.bottom>r.bottom||r.bottom===0)&&(r.bottom=t.bottom),(t.top<r.top||r.top===0)&&(r.top=t.top)},!1),r},u.prototype.trackChildMove=function(r,s){var t=this.config,n=t.x,i=t.y,e=t.width,a=t.height,c=t.exitArea,v=c.padding,m=c.groupBehavior;if(m!=="unbound"){var k=n+e-v>=r.right+s.x&&n+v<=r.left+s.x,I=i+a-v>=r.bottom+s.y&&i+v<=r.top+s.y;if(m==="boundNoBorderExtension")return k&&I;if(m==="boundBorderExtension"){var P=this.config.$minBox,T=P.right,H=P.left,$=P.top,L=P.bottom,j=n+e-v<=r.right+s.x,M=n+v>=r.left+s.x,F=i+v>=r.top+s.y,S=i+a-v<=r.bottom+s.y,R={x:n,y:i,width:e,height:a};(j||k&&s.x<0&&n+e+s.x-v>=T)&&(R.width+=s.x),(M||k&&s.x>0&&n+s.x-v<=H)&&(R.width+=-s.x,R.x+=s.x),(S||I&&s.y<0&&i+a+s.y-v>=L)&&(R.height+=s.y),(F||I&&s.y>0&&i+s.y-v<=$)&&(R.height+=-s.y,R.y+=s.y),this.data.update(this.id,R)}}return!0},u.prototype.getChildHtmlNodes=function(r,s){var t=[],n=r.x,i=r.y,e=r.open,a=r.header,c=!(a!=null&&a.enable)||!(a!=null&&a.closable)||e;if(r.groupChildren.length)if(Array.isArray(s))for(var v=0;v<s.length;v++)!s[v].hidden&&c&&(s[v].$gx=s[v].x-n,s[v].$gy=s[v].y-i,t.push(s[v].$item.render()));else s.eachChild(this.id,function(m){!m.hidden&&c&&(m.$gx=m.x-n,m.$gy=m.y-i,t.push(m.$item.render()))},!1);return t},u.prototype.getChildSvgNodes=function(r,s){var t=this,n=r.$typeConfig,i=r.x,e=r.y,a=r.groupChildren,c=r.header,v=!(c!=null&&c.enable)||!(c!=null&&c.closable)||open,m=[];return a.length&&n&&v&&s.mapVisible(function(k){var I;if(k.$item.getBaseType()==="line"&&!k.$move&&!(!((I=k==null?void 0:k.points)===null||I===void 0)&&I.some(function(H){return H.custom}))){var P=s.getItem(k.from),T=s.getItem(k.to);(P==null?void 0:P.$group)==t.id&&(T==null?void 0:T.$group)==t.id&&P.$gx&&P.$gy&&T.$gx&&T.$gy?((0,g.nearestLinkPath)(k,b(b({},P),{x:P.$gx,y:P.$gy}),b(b({},T),{x:T.$gx,y:T.$gy}),n),m.push(k.$item.render())):(P==null?void 0:P.$group)===t.id&&P.$gx&&P.$gy&&T?((0,g.nearestLinkPath)(k,b(b({},P),{x:P.$gx,y:P.$gy}),b(b({},T),{x:T.x-i,y:T.y-e}),n),m.push(k.$item.render())):(T==null?void 0:T.$group)===t.id&&T.$gx&&T.$gy&&P&&((0,g.nearestLinkPath)(k,b(b({},P),{x:P.x-i,y:P.y-e}),b(b({},T),{x:T.$gx,y:T.$gy}),n),m.push(k.$item.render()))}}),m},u.prototype.getGroupHeader=function(r,s){var t=r.id,n=r.header,i=n.text,e=n.closable,a=n.position,c=n.iconColor,v=r.$editable,m=r.open,k=r.type!=="$sgroup"&&e,I=a==="right"||a==="left"?r.height:"100%",P=a==="bottom"||a==="top"?r.width:"100%";return(0,y.el)("div",{dhx_group_header:t,class:function(T){var H=T.header.position;return"dhx_diagram_group__header dhx_diagram_group__header--position_".concat(H)}(r),style:function(T){var H=T.style,$=H.strokeWidth,L=H.stroke,j=H.borderStyle,M=T.header,F=M.position,S=M.fill,R=F==="bottom"||F==="top"?T.header.height:"100%",B=F==="right"||F==="left"?T.header.height:"100%",Y="".concat($,"px ").concat(j," ").concat(L);return{height:R,width:B,minWidth:B,minHeight:R,background:S,zIndex:T.$selected?1:0,border:Y}}(r)},[(0,y.el)("span.dhx_diagram_group__header_text",{style:(0,_.getTextStyle)(b(b({},r==null?void 0:r.header),{container:{width:P,height:I}}))},v&&this.editableProperty.editableId===t?[s]:i),k&&(0,_.getExpandIcon)({color:c,open:m,position:a})||null])},u.prototype.setDefaults=function(r){return r.x=r.x||0,r.y=r.y||0,r.open=typeof r.open!="boolean"||r.open,r.header&&(r.header=b({enable:!0,text:"",fontSize:14,lineHeight:14,textAlign:"center",textVerticalAlign:"center",fontStyle:"normal",fontWeight:"500",fontColor:"#4C4C4C",position:"top",editable:!0,fill:"#EEF1F6",height:40,iconColor:"#808080"},r.header)),r.style=b({strokeWidth:1,stroke:"#B8C6D6",strokeType:"line",borderStyle:"solid",fill:"inherit",overFill:"rgba(46, 204, 113, 0.1)",partiallyFill:"rgba(231, 76, 60, 0.1)"},r.style),r.entryArea=b({catchArea:100,borderFlexible:!1},r.entryArea),r.entryArea.borderFlexible||(r.entryArea.catchArea=100),r.exitArea=b({groupBehavior:"unbound",padding:0},r.exitArea),r.fixed=r.fixed||!1,r.groupChildren=r.groupChildren||[],r},u.prototype.setServiceProp=function(r){var s=r.open,t=r.height,n=r.width,i=r.header;if(r.$captureArea=r.$captureArea||"out",i){var e=i.enable,a=i.closable,c=i.height,v=i.position;if(!s&&e&&a){var m=v==="left"||v==="right",k=v==="bottom"||v==="top";return r.$width=m?parseInt(c):n,void(r.$height=k?parseInt(c):t)}}r.$width=n,r.$height=t},u}(d.BaseItem);p.BaseGroup=f},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(n){for(var i,e=1,a=arguments.length;e<a;e++)for(var c in i=arguments[e])Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c]);return n},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Controls=p.getLength=void 0;var C=x(0),b=x(2),y=x(29),g=x(40),d=x(37),_=x(97),f=x(207),l=x(208);function u(n,i){_.drag.start(n,i.data.resizer,i.data.p)}function r(n,i){return i===void 0&&(i="default"),{x:(i==="default"?n.x:n.x+(n.dx||0))+n.width/2,y:(i==="default"?n.y:n.y+(n.dy||0))+n.height/2}}function s(n,i,e){if(e===void 0&&(e="default"),n.$move=!0,e==="default")return n.x=(n.x||0)+i.x,void(n.y=(n.y||0)+i.y);n.dx=(n.dx||0)+i.x,n.dy=(n.dy||0)+i.y}p.getLength=function(n,i){var e=i.x-n.x,a=i.y-n.y;return Math.sqrt(e*e+a*a)};var t=function(){function n(i,e,a){var c=this;this._touch={dblDuration:300,timeStamp:null},this._magneticItems={xItem:null,xItemLeft:null,xItemRight:null,yItem:null,yItemTop:null,yItemBottom:null,dragItem:null},this.setConfig(a),this._events=i,this._diagram=e,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type),this.connect=new f.Connect(this,this._diagram),this._resize=new l.Resize(this,this._diagram),this._diagram.events.on(y.DiagramEvents.lineTitleMouseDown,function(v,m,k){var I=c._diagram.data.getItem(m);I.$editable||I.$item.isFixed()||c._eventHandling(k,m,"lineTitle")}),this._diagram.events.on(y.DiagramEvents.lineMouseDown,function(v,m){m.pointerType==="touch"&&(c._touch.timeStamp?(c._touch.dblDuration>=+m.timeStamp.toFixed()-c._touch.timeStamp&&(m.preventDefault(),c._diagram.events.fire(y.DiagramEvents.lineDblClick,[v,m])),c._touch.timeStamp=null):c._touch.timeStamp=+m.timeStamp.toFixed(),setTimeout(function(){c._touch.timeStamp=null},c._touch.dblDuration))}),this._diagram.events.on(y.DiagramEvents.groupMouseDown,function(v,m){c.connect.removeNearShape();var k=c._diagram.data.getItem(v);k&&!k.$editable&&(k.type==="$sgroup"&&(k=c._diagram.data.getItem(k.$group)),c._eventHandling(m,v,"group"))}),this._diagram.events.on(y.DiagramEvents.shapeMouseDown,function(v,m){c.connect.removeNearShape();var k=c._diagram.data.getItem(v);k&&!k.$editable&&c._eventHandling(m,v,"shape")}),this._diagram.events.on(y.SelectionEvents.afterUnSelect,function(v){var m=v.id,k=c._diagram.data.getItem(m);k&&k.$item.getBaseType()==="line"&&k.$selectedPoint&&(k.$selectedPoint=null)})}return n.prototype.render=function(i,e){if(!i)return this.config.connectionPoints?(0,C.el)(".dhx_controls",{style:{zIndex:0},onpointerdown:{".dhx_connect_grip":u,".dhx_connect_point":u}},[this.connect.getPoints(i,e)]):null;if(i.$item.canResize()!==!1){var a=[];this._isOrgType?this.config.resizePoints&&a.push(this._resize.getPoints(i,e)):(this.config.connectionPoints&&a.push(this.connect.getPoints(i,e)),this.config.resizePoints&&this.connect.getItemId()!=i.id&&a.push(this._resize.getPoints(i,e)));var c=this._getMagneticLines(e);return this._magnetic&&c.length&&a.push.apply(a,c),a.length?(0,C.el)(".dhx_controls",{style:{zIndex:0},onpointerdown:{".dhx_diagram_resizer_grip":u,".dhx_connect_grip":u,".dhx_connect_point":u,".dhx_editor_icon-rotate":u},onclick:{".dhx_diagram_resizer_grip":this._gripClick}},a):null}},n.prototype.setConfig=function(i){var e;this.config=w(w({},this.config),i),this._magnetic=!this._isOrgType&&((e=this.config.magnetic)===null||e===void 0?void 0:e.show)!==!1&&this.config.magnetic},n.prototype.setNearShape=function(i){this.connect.setNearShape(i)},n.prototype.toggleNearShape=function(i){this.connect.toggleNearShape(i)},n.prototype.getPoint=function(i,e){var a=this._diagram.getRootView().node.el,c=a.getBoundingClientRect(),v=this._diagram.config.margin,m=this._diagramSize||{left:-v.x,top:-v.y},k=this._diagram.config.scale,I=a.scrollLeft,P=a.scrollTop;return{x:(i-c.left+I)/k-v.x+(m.left+v.x),y:(e-c.top+P)/k-v.y+(m.top+v.y)}},n.prototype.onMove=function(i,e,a){var c,v,m=this._diagram.selection.getItem();if(m&&!m.$item.isFixed()){a.rotate&&(i.preventDefault(),this._rotate(i,m));var k=m.id,I=m.x,P=m.y,T=m.height,H=m.width,$=m.$item,L=m.dy,j={x:I,y:P,width:H,height:T};e.x=Math.round(e.x),e.y=Math.round(e.y);var M=$.getBaseType();if(M==="line")return this._diagram.toolbar.hide(),void this.connect.moveConnector(i,m,e,a);var F=a.dx===-1,S=a.dx===1,R=a.dy===1,B=a.dy===-1;if(M==="group"){var Y=m.$item.getChildBox(),q=Y.right,U=Y.left,V=Y.top,A=Y.bottom,N=q+U+V+A===0,W=((c=m==null?void 0:m.header)===null||c===void 0?void 0:c.height)||40;N?(F&&H+e.x>=W&&(j.width+=e.x),S&&H-e.x>=W&&(j.width+=-e.x,j.x+=e.x),B&&T+e.y>=W&&(j.height+=e.y),R&&T-e.y>=W&&(j.height+=-e.y,j.y+=e.y)):(F&&I+H+e.x>=q&&(j.width+=e.x),S&&I+e.x<=U&&(j.width+=-e.x,j.x+=e.x),B&&P+T+e.y>=A&&(j.height+=e.y),R&&P+e.y<=V&&(j.height+=-e.y,j.y+=e.y)),$.setMinBox()}if(M==="swimlane"){var Q=0,X=0,K=0,ne=0;this._diagram.data.eachChild(m.id,function(oe){var re=oe.$item.getChildBox(),le=re.left,ue=re.right,de=re.top,ge=re.bottom;le>X&&(X=le),ue>Q&&(Q=ue),de>K&&(K=de),ge>ne&&(ne=ge),oe.$item.setMinBox()},!1),N=Q+X+K+ne===0;var ie=F||S?m.layout[0].length:m.layout.length;W=(((v=m==null?void 0:m.header)===null||v===void 0?void 0:v.height)||40)*ie,N?(F&&H+e.x>=W&&(j.width+=e.x),S&&H-e.x>=W&&(j.width+=-e.x,j.x+=e.x),B&&T+e.y>=W&&(j.height+=e.y),R&&T-e.y>=W&&(j.height+=-e.y,j.y+=e.y)):(F&&I+H+e.x>=Q&&(j.width+=e.x),S&&I+e.x<=X&&(j.width+=-e.x,j.x+=e.x),B&&P+T+e.y>=ne&&(j.height+=e.y),R&&P+e.y<=K&&(j.height+=-e.y,j.y+=e.y)),$.setMinBox()}M==="shape"&&(a.dx===1?(j.x+=e.x,j.width=H-e.x):j.width=m.width-e.x*a.dx,j.width>=30||(j.width=H),j.height=T-e.y*a.dy,j.height>=30?this._isOrgType?j.dy=(L||0)+e.y*(a.dy===1?1:0):j.y=(P||0)+e.y*(a.dy===1?1:0):j.height=T),m.$group&&!this._moveChilds(k,e)||this._diagram.data.update(k,j)}},n.prototype.onUp=function(i){this.connectOnUp(i),this._events.fire(d.DiagramEditorEvents.shapeResize,[])},n.prototype.connectOnUp=function(i){i&&(this.connect.onUp(i),this._diagram._lastItemClickCoords=this._diagram.getCurrentCoords(i),this._diagram.toolbar.show(),this._diagram.paint())},n.prototype._moveChilds=function(i,e){var a=this._diagram.data.getItem(i),c=this._diagram.selection.getItem();if(a.$item.isFixed())return!1;if(a.$group){var v=this._diagram.data.getItem(a.$group);return v.$group&&this._moveChilds(v.id,e),v.$item.trackChildMove(c.$item.getBox(),{x:e.x,y:e.y})}},n.prototype._rotate=function(i,e){var a=this.getPoint(i.pageX,i.pageY),c=a.x,v=a.y,m=e.x+e.width/2,k=e.y+e.height/2,I=Math.atan2(v-k,c-m);I<0&&(I+=2*Math.PI);var P=Math.round(I*(180/Math.PI));this._diagram.data.update(e.id,{angle:P})},n.prototype._gripClick=function(i,e){var a=e.data.resizer._diagram.selection.getItem();if(a){var c=e.data.p;a.$item.getBaseType()==="line"&&(a.$selectedPoint=c.i)}},n.prototype._eventHandling=function(i,e,a){var c=this;if(this._dragStart(i,e,a),i.pointerType==="touch"){if(document.body.classList.add("dhx_notouch"),this._touch.timeStamp){if(this._touch.dblDuration>=+i.timeStamp.toFixed()-this._touch.timeStamp)switch(i.preventDefault(),a){case"lineTitle":var v=this._diagram.data.getItem(e);this._diagram.events.fire(y.DiagramEvents.lineTitleDblClick,[v.parent,e,i]);break;case"group":this._diagram.events.fire(y.DiagramEvents.groupHeaderDblClick,[e,i,(0,b.locate)(i,"subheader_id")]);break;case"shape":this._diagram.events.fire(y.DiagramEvents.shapeDblClick,[e,i])}this._touch.timeStamp=null}else this._touch.timeStamp=+i.timeStamp.toFixed();setTimeout(function(){c._touch.timeStamp=null},this._touch.dblDuration)}},n.prototype._dragStart=function(i,e,a){var c=this,v=this._diagram.data.getItem(e);a==="group"&&v.type==="$sgroup"&&(v=this._diagram.data.getItem(v.$group));var m=[];this._diagram.selection.getIds().forEach(function(k){m.push(k),c._diagram.data.eachChild(k,function(I){return m.push(I.id)})}),this._movedItems=Array.from(new Set(m)),_.drag.start(i,{onMove:this._getMoveHandler(i,v,a),onUp:this._getUpHandler(i,v,a)},null,this._diagram.config.scale),this._diagram.events.on(y.DiagramEvents.beforeRender,function(k){return c._diagramSize=k})},n.prototype._getUpHandler=function(i,e,a){var c=this;return a==="shape"||a==="group"?function(){document.body.classList.remove("dhx_notouch"),c._events.fire(d.DiagramEditorEvents["".concat(a,"MoveEnd")],[{id:e.id,batch:c._movedItems,coords:{x:e.x,y:e.y},event:i}]),c._events.fire(d.DiagramEditorEvents.itemMoveEnd,[{id:e.id,batch:c._movedItems,coords:{x:e.x,y:e.y},event:i}]),c._magneticItems={xItem:null,xItemLeft:null,xItemRight:null,yItem:null,yItemTop:null,yItemBottom:null,dragItem:null},c._movedItems.forEach(function(v){c._diagram.data.update(v,{$move:!1},!0)}),c._diagram.toolbar.show(),c._diagram.paint()}:a==="lineTitle"?function(v){document.body.classList.remove("dhx_notouch"),c._events.fire(d.DiagramEditorEvents.lineTitleMoveEnd,[{id:e.parent,titleId:e.id,coords:{x:e.$x,y:e.$y},event:v}]),c._diagram._lastItemClickCoords=c._diagram.getCurrentCoords(v),c._diagram.toolbar.show(),c._diagram.paint()}:void 0},n.prototype._setClosestItems=function(i,e){e===void 0&&(e="default");var a={xItem:null,xItemLeft:null,xItemRight:null,yItem:null,yItemTop:null,yItemBottom:null,dragItem:null},c=r(i,e),v=c.x,m=c.y,k=i.x+(i.dx||0),I=k+i.width,P=i.y+(i.dy||0),T=P+i.height,H=this._diagram.getScrollState(),$=this._diagram.getRootView().node.el.getBoundingClientRect(),L=this._diagram.config.margin,j=H.x-L.x,M=H.y-L.y,F=H.x+$.width-L.x,S=H.y+$.height-L.y;this._diagram.data.forEach(function(R){if(R.id!==i.id&&R.type!=="line"&&R.type!=="$sgroup"){var B=r(R,e),Y=B.x,q=B.y,U=R.x+(R.dx||0),V=U+R.width,A=R.y+(R.dy||0),N=A+R.height;if(!(U>F||V<j||A>S||N<M)){if(v===Y){var W=(a.xItem?r(a.xItem,e):{y:0}).y;a.xItem=!a.xItem||Math.abs(q-m)<=Math.abs(W-m)?R:a.xItem}if(m===q){var Q=(a.yItem?r(a.yItem,e):{x:0}).x;a.yItem=!a.yItem||Math.abs(Y-v)<Math.abs(Q-v)?R:a.yItem}(k===U||k===V)&&(W=(a.xItemLeft?r(a.xItemLeft,e):{y:0}).y,a.xItemLeft=!a.xItemLeft||Math.abs(q-m)<=Math.abs(W-m)?R:a.xItemLeft),(I===U||I===V)&&(W=(a.xItemRight?r(a.xItemRight,e):{y:0}).y,a.xItemRight=!a.xItemRight||Math.abs(q-m)<=Math.abs(W-m)?R:a.xItemRight),(P===A||P===N)&&(Q=(a.yItemTop?r(a.yItemTop,e):{x:0}).x,a.yItemTop=!a.yItemTop||Math.abs(Y-v)<Math.abs(Q-v)?R:a.yItemTop),(T===A||T===N)&&(Q=(a.yItemBottom?r(a.yItemBottom,e):{x:0}).x,a.yItemBottom=!a.yItemBottom||Math.abs(Y-v)<Math.abs(Q-v)?R:a.yItemBottom)}}}),a.dragItem=i,this._magneticItems=w({},a)},n.prototype._getMagneticLines=function(i){var e=[],a=this._magneticItems,c=a.xItem,v=a.xItemLeft,m=a.xItemRight,k=a.yItem,I=a.yItemTop,P=a.yItemBottom;return c&&e.push(this._getMagneticLine(c,i,"x","center")),k&&e.push(this._getMagneticLine(k,i,"y","center")),c&&k||((c==null?void 0:c.id)===(v==null?void 0:v.id)&&(c==null?void 0:c.id)===(m==null?void 0:m.id)||(v&&e.push(this._getMagneticLine(v,i,"x","left")),m&&e.push(this._getMagneticLine(m,i,"x","right"))),(k==null?void 0:k.id)===(I==null?void 0:I.id)&&(k==null?void 0:k.id)===(P==null?void 0:P.id)||(I&&e.push(this._getMagneticLine(I,i,"y","top")),P&&e.push(this._getMagneticLine(P,i,"y","bottom")))),e},n.prototype._getMagneticLine=function(i,e,a,c){var v=this._magneticItems.dragItem;if(v){var m,k=r(v),I=k.x,P=k.y,T=i.$item.getBox(),H=this._diagram.config.scale,$=this._magnetic.lineWidth||2;switch(c){case"top":m=v.y+(v.dy||0);break;case"bottom":m=v.y+(v.dy||0)+v.height;break;case"left":m=v.x+(v.dx||0);break;case"right":m=v.x+(v.dx||0)+v.width;break;default:m=a==="x"?I:P}return(0,C.el)(".dhx_magnetic",{style:{width:i.width*H,height:i.height*H,top:(T.top-e.top)*H,left:(T.left-e.left)*H}},[(0,C.el)(".dhx_magnetic_line",{style:{backgroundColor:this._magnetic.lineColor||"",width:a==="x"?$*H:(i.width+v.width+Math.abs(i.x-v.x)-(i.x<v.x?i.width:v.width))*H,height:a==="x"?(i.height+v.height+Math.abs(i.y-v.y)-(i.y<v.y?i.height:v.height))*H:$*H,top:a==="x"?(i.y<v.y?0:-(i.y-v.y))*H:(m-i.y-$/2)*H,left:a==="x"?(m-i.x-$/2)*H:(i.x<v.x?0:-(i.x-v.x))*H}})])}},n.prototype._getMoveHandler=function(i,e,a){var c=this;if(!e.$item.isFixed()){var v=this._diagram.config.gridStep;return a==="shape"||a==="group"?function(m,k,I){k.x=Math.round(k.x/v)*v-(e.x+(e.dx||0))%v,k.y=Math.round(k.y/v)*v-(e.y+(e.dy||0))%v,c._events.fire(d.DiagramEditorEvents["before".concat(a[0].toUpperCase()+a.slice(1),"Move")],[{id:e.id,batch:c._movedItems,coords:{x:e.x,y:e.y},event:m}])&&c._events.fire(d.DiagramEditorEvents.beforeItemMove,[{id:e.id,batch:c._movedItems,coords:{x:e.x,y:e.y},event:m,$mov:k}])&&(c._movedItems.forEach(function(P){var T=c._diagram.data.getItem(P);T.$item.getBaseType()==="line"?T.points.forEach(function(H){return H.$custom&&s(H,k)}):e.id==P?c._diagram.data.update(P,w({},function(H,$,L){return L===void 0&&(L="default"),L==="default"?{x:(H.x||0)+$.x,y:(H.y||0)+$.y}:{dx:(H.dx||0)+$.x,dy:(H.dy||0)+$.y}}(T,k,c._diagram.config.type))):s(T,k,c._diagram.config.type)}),c._setClosestItems(e,c._diagram.config.type),c._diagram.toolbar.hide(),c._events.fire(d.DiagramEditorEvents["after".concat(a[0].toUpperCase()+a.slice(1),"Move")],[{id:e.id,batch:c._movedItems,coords:{x:e.x,y:e.y},event:m}]),c._events.fire(d.DiagramEditorEvents.afterItemMove,[{id:e.id,batch:c._movedItems,coords:{x:e.x,y:e.y},event:m}]),c._diagram.paint())}:a==="lineTitle"?function(m){if(c._events.fire(d.DiagramEditorEvents.beforeLineTitleMove,[{id:e.parent,titleId:e.id,coords:{x:e.$x,y:e.$y},event:m}])){var k=c._diagram.data.getItem(e.parent),I=c._diagram.getCurrentCoords(m),P=k.points[0],T=k.points[k.points.length-1],H=w({},P),$=w({},T);if(k.points.length>2)for(var L=0;L<k.points.length;L++){var j=k.points[L],M=j.x,F=j.y;H.x>M&&(H.x=M),$.x<M&&($.x=M),H.y>F&&(H.y=F),$.y<F&&($.y=F)}H.x<$.x&&(H.x>=I.x&&(I.x=H.x),$.x<=I.x&&(I.x=$.x)),H.y<$.y&&(H.y>=I.y&&(I.y=H.y),$.y<=I.y&&(I.y=$.y)),H.x>$.x&&($.x>=I.x&&(I.x=$.x),H.x<=I.x&&(I.x=H.x)),H.y>$.y&&($.y>=I.y&&(I.y=$.y),H.y<=I.y&&(I.y=H.y));var S=50;if(k.connectType==="straight"||k.points.length===2){var R=(0,g.getNearPointStraightLine)(P,T,I),B=(0,g.getLinePercentage)(P,T,R);S=(0,g.getDistancePercentage)(B)}else S=(0,g.getDistanceEblowLine)(k,I);c._diagram.toolbar.hide(),c._diagram.data.update(e.id,{distance:S}),c._events.fire(d.DiagramEditorEvents.afterLineTitleMove,[{id:e.parent,titleId:e.id,coords:{x:e.$x,y:e.$y},event:m}]),c._diagram.paint()}}:void 0}},n}();p.Controls=t},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.default={dragAndDrop:"Drag & drop",or:"or",browse:"Browse files",filesOrFoldersHere:"files or folders here",cancel:"Cancel",clearAll:"Clear all",clear:"Clear",add:"Add",upload:"Upload",download:"Download",error:"error",byte:"B",kilobyte:"KB",megabyte:"MB",gigabyte:"GB"}},function(O,p,x){function w(b){b=b.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(g,d,_,f){return d+d+_+_+f+f});var y=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);return y?{r:parseInt(y[1],16),g:parseInt(y[2],16),b:parseInt(y[3],16)}:null}function C(b){var y,g,d=b.r/255,_=b.g/255,f=b.b/255,l=Math.max(d,_,f),u=l-Math.min(d,_,f),r=function(i){return(l-i)/6/u+.5};if(u===0)y=g=0;else{g=u/l;var s=r(d),t=r(_),n=r(f);d===l?y=n-t:_===l?y=1/3+s-n:f===l&&(y=2/3+t-s),y<0?y+=1:y>1&&(y-=1)}return{h:360*y,s:g,v:l}}Object.defineProperty(p,"__esModule",{value:!0}),p.getAlpha=p.alphaToHex=p.isHex=p.HexToHSV=p.RGBToHSV=p.HexToRGB=p.RGBToHex=p.HSVtoRGB=void 0,p.HSVtoRGB=function(b){var y={r:0,g:0,b:0},g=b.h/60,d=b.s,_=b.v,f=Math.floor(g)%6,l=g-Math.floor(g),u=255*_*(1-d),r=255*_*(1-d*l),s=255*_*(1-d*(1-l));switch(_*=255,f){case 0:y.r=_,y.g=s,y.b=u;break;case 1:y.r=r,y.g=_,y.b=u;break;case 2:y.r=u,y.g=_,y.b=s;break;case 3:y.r=u,y.g=r,y.b=_;break;case 4:y.r=s,y.g=u,y.b=_;break;case 5:y.r=_,y.g=u,y.b=r}for(var t in y)y[t]=Math.round(y[t]);return y},p.RGBToHex=function(b){return Object.keys(b).reduce(function(y,g){var d=b[g].toString(16).toUpperCase();return y+(d=d.length===1?"0"+d:d)},"#")},p.HexToRGB=w,p.RGBToHSV=C,p.HexToHSV=function(b){return C(w(b.length===9?b.slice(0,-2):b))},p.isHex=function(b){return/(^#[0-9A-F]{8}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(b)},p.alphaToHex=function(b){var y=Math.round(255*b).toString(16).toUpperCase();return y.length===1?"0"+y:y},p.getAlpha=function(b){return b.length===9?Number((parseInt(b.slice(-2),16)/255).toFixed(2)):1}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.default={cancel:"Cancel",select:"Select",rightClickToDelete:"Right click to delete",customColors:"Custom colors",addNewColor:"Add new color"}},function(O,p,x){var w,C=this&&this.__extends||(w=function(U,V){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,N){A.__proto__=N}||function(A,N){for(var W in N)Object.prototype.hasOwnProperty.call(N,W)&&(A[W]=N[W])},w(U,V)},function(U,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");function A(){this.constructor=U}w(U,V),U.prototype=V===null?Object.create(V):(A.prototype=V.prototype,new A)}),b=this&&this.__assign||function(){return b=Object.assign||function(U){for(var V,A=1,N=arguments.length;A<N;A++)for(var W in V=arguments[A])Object.prototype.hasOwnProperty.call(V,W)&&(U[W]=V[W]);return U},b.apply(this,arguments)},y=this&&this.__spreadArray||function(U,V,A){if(A||arguments.length===2)for(var N,W=0,Q=V.length;W<Q;W++)!N&&W in V||(N||(N=Array.prototype.slice.call(V,0,W)),N[W]=V[W]);return U.concat(N||Array.prototype.slice.call(V))};Object.defineProperty(p,"__esModule",{value:!0}),p.Diagram=void 0;var g=x(3),d=x(1),_=x(0),f=x(2),l=x(5),u=x(64),r=x(185),s=x(39),t=x(186),n=x(53),i=x(55),e=x(91),a=x(190),c=x(27),v=x(56),m=x(92),k=x(191),I=x(195),P=x(196),T=x(197),H=x(198),$=x(94),L=x(95),j=x(199),M=x(96),F=x(200),S=x(201),R=x(202),B=x(40),Y=x(203),q=function(U){function V(A,N){var W=U.call(this,A,N)||this;W._orgTypes=["org","mindmap"],W.version="6.0.1",W._set_defaults(),W._init_struct(),W._initEvents(),W.config.toolbar&&(W.toolbar=new a.Toolbar(W.events,W.config.toolbar));var Q=(0,_.create)({render:function(X){return W._render(X)}},W);return W.mount(A,Q),W}return C(V,U),V.prototype.addShape=function(A,N){var W=this;if(y(["line","dash","card","img-card","text","topic"],Object.keys(this.flowShapes),!0).includes(A))throw new Error("Cannot reassign existing type");if(typeof N.template!="function")throw new Error("The template property must be set as a function");if(N.defaults&&(this.config.defaults[A]=b({},N.defaults)),N.eventHandlers)for(var Q=0,X=Object.entries(N.eventHandlers);Q<X.length;Q++){var K=X[Q],ne=K[0],ie=K[1];this._htmlevents[ne]=(0,f.eventHandler)(function(oe){var re=b({},W.data.getItem((0,f.locate)(oe)));return Object.keys(re).forEach(function(le){(le.startsWith("$")||le==="preview")&&delete re[le]}),re},ie,this._htmlevents[ne])}this.flowShapes[A]=N.template},V.prototype.locate=function(A){var N=(0,f.locate)(A,"data-dhx-id"),W=this.data.getItem(N);return W?W.$item:null},V.prototype.collapseItem=function(A,N){var W=this;if(this.events.fire(c.DiagramEvents.beforeCollapse,[A,N])){var Q=this.data.getItem(A);this.config.type!=="mindmap"||Q.$level!==0||!Q.openDir||N!=="left"&&N!=="right"?this.data.update(A,{open:!1}):(this.data.update(A,{openDir:{right:N!=="right"&&!!Q.openDir.right,left:N!=="left"&&!!Q.openDir.left}}),Q.$connection.length&&Q.$connection.forEach(function(X){var K=W.data.getItem(X[1]);K.dir&&K.dir.toLowerCase().includes(N)&&W.data.update(K.id,{hidden:!0},!0)})),this.events.fire(c.DiagramEvents.afterCollapse,[A,N])}this.paint()},V.prototype.expandItem=function(A,N){var W=this,Q=this.data.getItem(A);if(!(Q!=null&&Q.open)||Q.openDir){if(this.events.fire(c.DiagramEvents.beforeExpand,[A,N])){this.config.type!=="mindmap"||Q.$level!==0||!Q.openDir||N!=="left"&&N!=="right"?this.data.update(A,{open:!0}):(this.data.update(A,{open:!0,openDir:{right:N==="right"||!!Q.openDir.right,left:N==="left"||!!Q.openDir.left}}),Q.$connection.length&&Q.$connection.forEach(function(K){var ne=W.data.getItem(K[1]);ne.dir&&ne.dir.toLowerCase().includes(N)&&W.data.update(ne.id,{hidden:!1},!0)})),this.events.fire(c.DiagramEvents.afterExpand,[A,N]);var X=this.data.getItem(A);X&&X.parent&&this.expandItem(X.parent)}this.paint()}},V.prototype.getScrollState=function(){var A=this.getRootView().node.el;return{x:Math.round(A.scrollLeft*this.config.scale),y:Math.round(A.scrollTop*this.config.scale)}},V.prototype.scrollTo=function(A,N){var W=this.getRootView().node.el;W.scrollLeft=Math.round(A*this.config.scale),W.scrollTop=Math.round(N*this.config.scale)},V.prototype.showItem=function(A,N){var W=this,Q=this.data.getItem(A);Q&&(Q.parent&&this.expandItem(Q.parent,N),(0,_.awaitRedraw)().then(function(){var X=W.getRootView().node.el,K=Q.$item.getBox(),ne=X.offsetWidth/2,ie=X.offsetHeight/2;W.scrollTo(K.right+10-ne,K.bottom+10-ie)}))},V.prototype.autoPlace=function(A){var N=this,W=this.config,Q=W.autoplacement,X=W.type,K=(A==null?void 0:A.placeMode)||(Q==null?void 0:Q.placeMode)||"orthogonal",ne=(A==null?void 0:A.mode)||(Q==null?void 0:Q.mode)||"direct",ie=(A==null?void 0:A.root)||this.selection.getIds()[0];if(this._orgTypes.includes(X))throw new Error("This method does not work with this type of diagram");var oe,re=new v.default;this.data.forEach(function(de){de.$item.getBaseType()==="shape"&&re.addNode({id:de.id.toString(),w:de.width,h:de.height,x:de.x,y:de.y})}),this.data.forEach(function(de){var ge,ce=de.$item.getBaseType();if(ce==="line"&&de.from&&de.to){var he=((ge=de.points)===null||ge===void 0?void 0:ge.filter(function(ve,be){if(be===0||be===de.points.length-1)return!0}))||[];N.data.update(de.id,{fromSide:ne==="direct"?"center":void 0,toSide:ne==="direct"?"center":void 0,points:he,customGap:void 0}),re.addEdge(de.from.toString(),de.to.toString())}else ce==="line"&&N.data.remove(de.id)}),re.clean(),K==="orthogonal"?oe=new k.default:K==="radial"&&(oe=new Y.default);var le=(0,I.compose)((0,P.decompose)(re).map(function(de){return(de=oe.layout(de,{mode:ne,root:ie,dir:(Q==null?void 0:Q.direction)||m.Direction.Bottom,wide:Q==null?void 0:Q.wide,itemPadding:(Q==null?void 0:Q.itemPadding)||0,levelPadding:(Q==null?void 0:Q.levelPadding)||0,full:!0,preserveLocation:!1})).setGlobalBox(),de}),{padding:typeof(Q==null?void 0:Q.graphPadding)=="number"?(A==null?void 0:A.graphPadding)||(Q==null?void 0:Q.graphPadding):200});if(le){var ue=le.getBox();le.translate({x:-ue[0][0],y:-ue[1][0]}),le.getNodes().forEach(function(de){var ge=N.data.getItem(de.id);if(ge&&!(ge!=null&&ge.$group)){var ce=Math.floor(de.x-de.w/2),he=Math.floor(de.y-de.h/2);N.data.update(de.id,{x:ce,y:he})}})}},V.prototype.getCurrentCoords=function(A){var N=this.config,W=N.scale,Q=N.margin,X=this.getRootView().node.el,K=X.getBoundingClientRect();if(X&&K){var ne=this._diagramSize||{left:-Q.x,top:-Q.y},ie=X.scrollLeft,oe=X.scrollTop;return{x:Math.round((A.clientX-K.left+ie)/W-Q.x+(ne.left+Q.x)),y:Math.round((A.clientY-K.top+oe)/W-Q.y+(ne.top+Q.y))}}},V.prototype.findNearestConnector=function(A){var N=this.getCurrentCoords(A),W=[];if(this.data.map(function(Q){var X;if(Q.$item.getBaseType()==="line"&&(!((X=Q==null?void 0:Q.points)===null||X===void 0)&&X.length))for(var K=0;K<Q.points.length;K++){var ne=Q.points[K];if(Q.points[K+1]){var ie=N,oe=ne,re=Q.points[K+1],le=oe.y<ie.y&&re.y>ie.y||re.y<ie.y&&oe.y>ie.y,ue=oe.x<ie.x&&re.x>ie.x||re.x<ie.x&&oe.x>ie.x;if(le||ue){var de=Math.sqrt(Math.pow(oe.x-ie.x,2)+Math.pow(oe.y-ie.y,2)),ge=Math.sqrt(Math.pow(re.x-ie.x,2)+Math.pow(re.y-ie.y,2)),ce=Math.sqrt(Math.pow(re.x-oe.x,2)+Math.pow(re.y-oe.y,2)),he=(de+ge+ce)/2;if(2*Math.sqrt(he*(he-de)*(he-ge)*(he-ce))/ce<=8){W.push(Q);break}}}}}),W.length)return W[W.length-1]},V.prototype.destructor=function(){this.editor&&this.editor.destructor(),this._menu&&this._menu.destructor(),this.data.removeAll(),this.data.events.clear(),this.events.clear(),this.selection.clear(),this.unmount()},V.prototype._render=function(A){var N,W,Q=this;if(this._doNotRepaint&&A.node)return A.node;var X=this._getContent(),K=X.size,ne=X.svgContent,ie=X.htmlContent;this.events.fire(c.DiagramEvents.beforeRender,[K]),this._diagramSize=K;var oe=this.config,re=oe.margin,le=oe.type,ue=oe.scale,de=K.x-K.left+2*re.x,ge=K.y-K.top+2*re.y;K.left-=re.x,K.top-=re.y;var ce=K.top+re.y<0?Math.abs(K.top):re.y,he=K.left+re.x<0?Math.abs(K.left):re.x;this._backgroundPos={x:-(Math.ceil(he/this.config.gridStep)*this.config.gridStep-he)*ue,y:-(Math.ceil(ce/this.config.gridStep)*this.config.gridStep-ce)*ue};var ve=null;if(this.toolbar&&(!((N=this._lastItemClickCoords)===null||N===void 0)&&N.x&&(!((W=this._lastItemClickCoords)===null||W===void 0)&&W.y)||this.selection.getIds().length)){var be=this.selection.getIds().map(function(ye){return Q.data.getItem(ye)}).filter(function(ye){return ye});be.length&&(ve=be.length>1?this.toolbar.render(be.filter(function(ye){return ye.$item.getBaseType()!=="line"}),b(b({},K),{scale:ue})):this.toolbar.render(be[0],b(b({},K),{scale:ue}),this._lastItemClickCoords))}var xe=[];return this.config.$svg&&(xe=this.config.$svg(K)),(0,_.el)(".dhx_widget.dhx_diagram",b(b({},this._htmlevents),{"data-dhx-widget-id":this._uid,style:{backgroundImage:this._getBackground(this.config.gridStep),backgroundPosition:"".concat(this._backgroundPos.x,"px ").concat(this._backgroundPos.y,"px")}}),[(0,_.el)("div.dhx_diagram__container",{style:{height:ge*ue,width:de*ue}},[(0,_.el)(".dhx_diagram__wrapper.dhx_wrapper",{style:{transform:"scale(".concat(ue,")"),position:"absolute",top:0,left:0,transformOrigin:"top",zIndex:this._orgTypes.includes(le)&&this._active?1:0}},[(0,_.el)("div.dhx_diagram__scale-container",[(0,_.sv)("svg",{xmlns:"http://www.w3.org/2000/svg",width:de,height:ge,viewBox:"".concat(K.left," ").concat(K.top," ").concat(de," ").concat(ge)},[(0,_.sv)("defs",[(0,_.sv)("filter",{x:0,y:0,width:1,height:1,id:"dhx_text_background"},[(0,_.sv)("feFlood",{"flood-color":"white"}),(0,_.sv)("feComposite",{in:"SourceGraphic"})])]),(0,_.sv)("g",ne)]),(0,_.el)(".dhx_diagram__shape-container",{style:{position:"absolute",top:ce,left:he}},ie)])]),xe,ve])])},V.prototype._set_defaults=function(){var A,N,W;switch(this.config.type){case"mindmap":W="topic";break;case"org":W="card";break;default:W="rectangle"}this.config=(0,d.extend)({type:"default",defaultShapeType:((A=this.config)===null||A===void 0?void 0:A.defaultShapeType)||W,lineConfig:{lineType:"line",lineDirection:"forwardArrow",arrowsHidden:!1,lineGap:10},scale:1,margin:{x:40,y:40,itemX:40,itemY:((N=this.config)===null||N===void 0?void 0:N.type)==="mindmap"?20:40},gridStep:10,defaults:{},autoplacement:{mode:"direct",graphPadding:200},exportStyles:!0,$isEditor:!1},this.config)},V.prototype._initEventsHandlers=function(){var A=this;this._htmlevents={onscroll:function(N){var W=N.target,Q=A.config.scale;W.getAttribute&&(W.getAttribute("class")||"").match(/dhx_diagram\b/)&&(W.style.backgroundPosition="".concat(A._backgroundPos.x-W.scrollLeft*Q,"px ").concat(A._backgroundPos.y-W.scrollTop*Q,"px")),A.events.fire(c.DiagramEvents.scroll,[A.getScrollState()])},onpointerdown:(0,f.eventHandler)(function(N){return A.locate(N)},{dhx_diagram:function(N){var W=N.target,Q=W.getAttribute&&(W.getAttribute("class")||"").match(/dhx_diagram\b/),X=W.tagName==="svg";if(!(0,f.locateNodeByClassName)(W,"dhx_diagram_toolbar")&&(Q||X)){var K=A.findNearestConnector(N);K?(A.config.type==="default"&&A.setSelectionItem({id:K.id},N.shiftKey,N.altKey),A.events.fire(c.DiagramEvents.lineMouseDown,[K.id,N]),A.events.fire(c.DiagramEvents.itemMouseDown,[K.id,N])):(document.body.classList.add("dhx_notouch"),N.altKey||A.selection.remove(),A.events.fire(c.DiagramEvents.emptyAreaMouseDown,[N]))}},dhx_diagram_line_title:function(N){var W=(0,f.locate)(N,"data-dhx-parent-id"),Q=(0,f.locate)(N,"data-dhx-id");A.setSelectionItem({id:Q},N.shiftKey,N.altKey),A.events.fire(c.DiagramEvents.lineTitleMouseDown,[W,Q,N])},dhx_diagram_shape:function(N,W){A.setSelectionItem({id:W.id},N.shiftKey,N.altKey),A.events.fire(c.DiagramEvents.shapeMouseDown,[W.id,N,A._getPoint(N.clientX,N.clientY)]),A.events.fire(c.DiagramEvents.itemMouseDown,[W.id,N,A._getPoint(N.clientX,N.clientY)])},dhx_diagram_line:function(N,W){A.config.type==="default"&&A.setSelectionItem({id:W.id},N.shiftKey,N.altKey),A.events.fire(c.DiagramEvents.lineMouseDown,[W.id,N,A._getPoint(N.clientX,N.clientY)]),A.events.fire(c.DiagramEvents.itemMouseDown,[W.id,N,A._getPoint(N.clientX,N.clientY)])},dhx_diagram_group:function(N,W){A.setSelectionItem({id:W.id},N.shiftKey,N.altKey),A.events.fire(c.DiagramEvents.groupMouseDown,[W.id,N,A._getPoint(N.clientX,N.clientY)]),A.events.fire(c.DiagramEvents.itemMouseDown,[W.id,N,A._getPoint(N.clientX,N.clientY)])}}),onpointerout:(0,f.eventHandler)(function(N){return A.locate(N)},{"dhx_diagram_item--selected":function(){A._active=!1,A.paint()},dhx_diagram_item:function(N,W){W&&A.events.fire(c.DiagramEvents.itemMouseOut,[W.id,N])}}),onpointerover:(0,f.eventHandler)(function(N){return A.locate(N)},{"dhx_diagram_item--selected":function(){A._active=!0,A.paint()},dhx_diagram_item:function(N,W){W&&A.events.fire(c.DiagramEvents.itemMouseOver,[W.id,N])}}),onclick:(0,f.eventHandler)(function(N){return A.locate(N)},{dhx_diagram_menu_icon:function(N,W){var Q,X,K,ne,ie,oe,re,le,ue,de,ge=(0,f.locate)(N,"subheader_id");if(A.events.fire(c.DiagramEvents.beforeSubmenuOpen,[W.id,N,ge])){var ce=[];!((X=(Q=W.config)===null||Q===void 0?void 0:Q.subHeaderRows)===null||X===void 0)&&X.enable&&(!((ie=(ne=(K=W.config)===null||K===void 0?void 0:K.subHeaderRows)===null||ne===void 0?void 0:ne.headers)===null||ie===void 0)&&ie.length)&&(ce=W.config.subHeaderRows.headers);var he=[];!((re=(oe=W.config)===null||oe===void 0?void 0:oe.subHeaderCols)===null||re===void 0)&&re.enable&&(!((de=(ue=(le=W.config)===null||le===void 0?void 0:le.subHeaderCols)===null||ue===void 0?void 0:ue.headers)===null||de===void 0)&&de.length)&&(he=W.config.subHeaderCols.headers);var ve=y(y([],ce,!0),he,!0).find(function(z){return z.id===ge}),be=ve.$subMenu,xe=ve.id;A.cellManager.setSwimlane(W.id);var ye=A.cellManager.getSubHeaderCellIndex(xe);be.data.forEach(function(z){z.remove&&!A.cellManager.validation(ye,z.remove,"remove")&&(z.disabled=!0),z.add&&!A.cellManager.validation(ye,z.add,"add")&&(z.disabled=!0),z.move&&!A.cellManager.validation(ye,z.move,"move")&&(z.disabled=!0)}),A._menu.data.parse(be.data),A._menu.showAt(N),A.events.fire(c.DiagramEvents.afterSubmenuOpen,[W.id,N,ge])}},"dhx_diagram_toggle-icon--expand":function(N,W){N.target.classList.contains("icon-left")?A.expandItem(W.id,"left"):N.target.classList.contains("icon-right")?A.expandItem(W.id,"right"):A.expandItem(W.id)},"dhx_diagram_toggle-icon--collapse":function(N,W){N.target.classList.contains("icon-left")?A.collapseItem(W.id,"left"):N.target.classList.contains("icon-right")?A.collapseItem(W.id,"right"):A.collapseItem(W.id)},dhx_diagram:function(N){var W=N.target,Q=W.getAttribute&&(W.getAttribute("class")||"").match(/dhx_diagram\b/),X=W.tagName==="svg";if(Q||X){var K=A.findNearestConnector(N);K?(A.events.fire(c.DiagramEvents.lineClick,[K.id,N]),A.events.fire(c.DiagramEvents.itemClick,[K.id,N])):A.events.fire(c.DiagramEvents.emptyAreaClick,[N])}},dhx_diagram_line_title:function(N){var W=(0,f.locate)(N,"data-dhx-parent-id"),Q=(0,f.locate)(N,"data-dhx-id");A.events.fire(c.DiagramEvents.lineTitleClick,[W,Q,N])},dhx_diagram_shape:function(N,W){A.events.fire(c.DiagramEvents.shapeClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemClick,[W.id,N])},dhx_diagram_line:function(N,W){A.events.fire(c.DiagramEvents.lineClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemClick,[W.id,N])},dhx_diagram_group:function(N,W){A.events.fire(c.DiagramEvents.groupClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemClick,[W.id,N])},dhx_diagram_group__header:function(N,W){A.events.fire(c.DiagramEvents.groupHeaderClick,[W.id,N]),A.events.fire(c.DiagramEvents.groupClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemClick,[W.id,N])},dhx_diagram_swimlane__subheader:function(N,W){var Q=(0,f.locate)(N,"subheader_id");A.events.fire(c.DiagramEvents.groupHeaderClick,[W.id,N,Q]),A.events.fire(c.DiagramEvents.groupClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemClick,[W.id,N])}}),ondblclick:(0,f.eventHandler)(function(N){return A.locate(N)},{dhx_diagram:function(N){var W=N.target,Q=W.getAttribute&&(W.getAttribute("class")||"").match(/dhx_diagram\b/),X=W.tagName==="svg";if(Q||X){var K=A.findNearestConnector(N);K?(A.events.fire(c.DiagramEvents.lineDblClick,[K.id,N]),A.events.fire(c.DiagramEvents.itemDblClick,[K.id,N])):A.events.fire(c.DiagramEvents.emptyAreaDblClick,[N])}},dhx_diagram_line_title:function(N){var W=(0,f.locate)(N,"data-dhx-parent-id"),Q=(0,f.locate)(N,"data-dhx-id");A.events.fire(c.DiagramEvents.lineTitleDblClick,[W,Q,N])},dhx_diagram_shape:function(N,W){A.events.fire(c.DiagramEvents.shapeDblClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemDblClick,[W.id,N])},dhx_diagram_line:function(N,W){A.events.fire(c.DiagramEvents.lineDblClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemDblClick,[W.id,N])},dhx_diagram_group:function(N,W){A.events.fire(c.DiagramEvents.groupDblClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemDblClick,[W.id,N])},dhx_diagram_group__header:function(N,W){A.events.fire(c.DiagramEvents.groupDblClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemDblClick,[W.id,N]),A.events.fire(c.DiagramEvents.groupHeaderDblClick,[W.id,N])},dhx_diagram_swimlane__subheader:function(N,W){var Q=(0,f.locate)(N,"subheader_id");A.events.fire(c.DiagramEvents.groupDblClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemDblClick,[W.id,N]),A.events.fire(c.DiagramEvents.groupHeaderDblClick,[W.id,N,Q])},dhx_diagram_item__text:function(N,W){A.events.fire(c.DiagramEvents.shapeDblClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemDblClick,[W.id,N])},dhx_diagram_item__title:function(N,W){A.events.fire(c.DiagramEvents.shapeDblClick,[W.id,N]),A.events.fire(c.DiagramEvents.itemDblClick,[W.id,N])}})}},V.prototype._init_struct=function(){var A=this;this.events=new g.EventSystem(this),this.flowShapes=b({},i.flowShapes),this.data=new e.ShapesCollection({init:function(N){var W,Q,X,K,ne,ie;N.id||(N.id=(0,d.uid)());var oe="from"in N?((W=A.config.lineConfig)===null||W===void 0?void 0:W.lineType)||"line":A.config.defaultShapeType;switch(N.type=N.type||oe,N.type){case"$group":N.$item=new L.Group(N,{data:A.data});break;case"$swimlane":N.$item=new $.Swimlane(N,{data:A.data});break;case"$sgroup":N.$item=new M.GroupSwimlane(N,{data:A.data});break;case"line":case"dash":!A._orgTypes.includes(A.config.type)&&N.from&&(N.stroke=N.stroke||((X=(Q=A.config.defaults)===null||Q===void 0?void 0:Q[N.type])===null||X===void 0?void 0:X.stroke)||"#2196F3"),N.$item=new S.Line(N,((K=A.config.defaults)===null||K===void 0?void 0:K[N.type])||{});break;case"lineTitle":N.$item=new R.LineTitle(N,{defaults:((ne=A.config.defaults)===null||ne===void 0?void 0:ne[N.type])||{}});break;default:N.$item=(0,n.shapesFactory)(N,{defaults:((ie=A.config.defaults)===null||ie===void 0?void 0:ie[N.type])||{},shapes:A.flowShapes,data:A.data})}return N},update:function(N){N.$item.config=N},diagramConfig:this.config},this.events),this.selection=new t.Selection(this.data,this.events),this.cellManager=new F.CellManager(this.data,this.events),this.export=new r.Exporter("diagram",this.version,this),this.editor=new j.Editor({data:this.data,events:this.events}),this._menu=new u.ContextMenu(null)},V.prototype._initEvents=function(){var A=this;this._initEventsHandlers(),this.events.on(c.DiagramEvents.lineDblClick,function(N){(0,d.isDefined)(N)&&A.config.type==="default"&&(0,B.addLineTitle)(A.data.getItem(N),A)}),this.events.on(c.DiagramEvents.shapeDblClick,function(N,W){var Q=W.target,X=A.data.getItem(N).$item;if(X){var K=Q.getAttribute&&(Q.getAttribute("class")||"").match(/dhx_diagram_item__text\b/),ne=Q.getAttribute&&(Q.getAttribute("class")||"").match(/dhx_diagram_item__title\b/);(K||ne)&&X.isEditable()&&A.editor.openEditor(N,ne?"title":"text")&&X.setEditorNode(A.editor.render(),ne?"title":"text")}}),this.events.on(c.DiagramEvents.groupHeaderDblClick,function(N,W,Q){var X=A.data.getItem(N).$item;X&&((0,f.locateNodeByClassName)(W,"dhx_diagram_group__header_text")||(0,f.locateNodeByClassName)(W,"dhx_diagram_swimlane__subheader_text"))&&X.isEditable(Q)&&A.editor.openEditor(N,"text",Q)&&X.setEditorNode(A.editor.render(),"text",Q||N)}),this.events.on(c.DiagramEvents.lineTitleDblClick,function(N,W){var Q=A.data.getItem(W).$item;Q.isEditable()&&A.editor.openEditor(W,"text")&&Q.setEditorNode(A.editor.render(),"text")}),this.events.on(c.SelectionEvents.afterSelect,function(N){var W=N.id;A.data.getItem(W).$item.getBaseType()==="swimlane"&&A.cellManager.setSwimlane(W),A.paint()}),this.events.on(c.SelectionEvents.afterUnSelect,function(){return A.paint()}),this.events.on(c.DiagramEvents.itemMouseDown,function(N,W){A._lastItemClickCoords=A.getCurrentCoords(W),A.paint()}),this.events.on(c.DiagramEvents.lineTitleMouseDown,function(N,W,Q){A._lastItemClickCoords=A.getCurrentCoords(Q),A.paint()}),[j.EditorEvents.beforeEditorOpen,j.EditorEvents.afterEditorClose,c.DataEvents.change,c.DataEvents.filter].forEach(function(N){return A.events.on(N,function(){return A.paint()})}),this._menu.events.on("click",function(N){var W=N.split("/"),Q=W[0],X=W[1],K=W[2];A.cellManager.setSwimlane(Q);var ne=A.cellManager.getSubHeaderType(X),ie=A.cellManager.getSubHeaderCellIndex(X);switch(K){case"move_column_left":A.cellManager.move(ie,"left",!0);break;case"move_column_right":A.cellManager.move(ie,"right",!0);break;case"move_row_up":A.cellManager.move(ie,"up",!0);break;case"move_row_down":A.cellManager.move(ie,"down",!0);break;case"add_column_left":A.cellManager.add(ie,"left",!0);break;case"add_column_right":A.cellManager.add(ie,"right",!0);break;case"add_row_up":A.cellManager.add(ie,"up",!0);break;case"add_row_down":A.cellManager.add(ie,"down",!0);break;case"remove":A.cellManager.remove(ie,ne,!0)}A.paint()})},V.prototype._getContent=function(){var A=this;switch(this.config.type){case"org":(0,H.placeOrgonogram)(this.data,this.config);break;case"mindmap":(0,T.placeMindmap)(this.data,this.config)}var N={x:0,y:0,left:0,top:0,scale:this.config.scale},W=[],Q=[];return this.data.mapVisible(function(X){var K=X==null?void 0:X.$item.getBaseType();if(X&&!X.$group&&X.type!=="$sgroup"){K==="line"&&(A.config.type==="default"&&(0,s.nearestLinkPath)(X,A.data.getItem(X.from),A.data.getItem(X.to),A.config),W.push(X.$item.render())),K!=="shape"&&K!=="group"&&K!=="swimlane"&&K!=="lineTitle"||Q.push(X.$item.render());var ne=X.$item.getBox();ne.right>N.x&&(N.x=ne.right),ne.left<N.left&&(N.left=ne.left),ne.bottom>N.y&&(N.y=ne.bottom),ne.top<N.top&&(N.top=ne.top)}}),{size:N,svgContent:W,htmlContent:Q}},V.prototype._getPoint=function(A,N){var W=this.getRootView().node.el.getBoundingClientRect();return{x:A-W.left-this.config.margin.x,y:N-W.top-this.config.margin.y}},V.prototype._getBackground=function(A){if(!this.config.$isEditor||!this.config.$grid())return"none";var N=A<1?1:A,W=this.config.scale;return N>1?`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%' height='100%' %3E%3Cdefs%3E%3Cpattern id='Pattern' width='`.concat(N*W,"' height='").concat(N*W,"' patternUnits='userSpaceOnUse' shapeRendering='auto'%3E%3Ccircle cx='0' cy='0' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3Ccircle cx='0' cy='").concat(N*W,"' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3Ccircle cx='").concat(N*W,"' cy='0' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3Ccircle cx='").concat(N*W,"' cy='").concat(N*W,`' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3C/pattern%3E%3C/defs%3E%3Cg shapeRendering='auto'%3E%3Crect x='0' y='0' width='100%' height='100%' fill='url%28%23Pattern%29'%3E%3C/rect%3E%3C/g%3E%3C/svg%3E")`):"none"},V.prototype.setSelectionItem=function(A,N,W){var Q=A.id;this.config.select&&(W?this.selection.includes({id:Q})&&this.selection.remove({id:Q}):this.selection.add({id:Q,join:N}))},V}(l.View);p.Diagram=q},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(126),p),C(x(184),p)},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.default={apply:"apply",reject:"reject"}},function(O,p,x){function w(C){var b=document.activeElement;b.classList.contains("dhx_alert__apply-button")&&C.key==="Enter"||b.classList.contains("dhx_alert__confirm-reject")||b.classList.contains("dhx_alert__confirm-aply")||C.preventDefault()}Object.defineProperty(p,"__esModule",{value:!0}),p.blockScreen=void 0,p.blockScreen=function(C){var b=document.createElement("div");return b.className="dhx_alert__overlay "+(C||""),document.body.appendChild(b),document.addEventListener("keydown",w),function(){document.body.removeChild(b),document.removeEventListener("keydown",w)}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(v){for(var m,k=1,I=arguments.length;k<I;k++)for(var P in m=arguments[k])Object.prototype.hasOwnProperty.call(m,P)&&(v[P]=m[P]);return v},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.disableTooltip=p.enableTooltip=p.tooltip=p.getZIndex=p.findPosition=void 0;var C=x(2),b=x(46),y=750,g=200;function d(v,m,k,I,P,T){var H,$,L;if(P===void 0&&(P=8),T===void 0&&(T=0),T>1&&(m=b.Position.center),m!=="top"&&m!=="bottom"){var j=v.top+(v.height-I)/2,M=j<0&&window.pageYOffset+j+I<scrollY+window.innerHeight;L=window.pageYOffset+(M?0:j)}switch(m){case b.Position.center:return($=v.left+window.pageXOffset+(v.width-k)/2)+P<window.pageXOffset&&($=v.left+window.pageXOffset),{left:$,top:L,pos:H=b.RealPosition.center};case b.Position.right:return H=b.RealPosition.right,($=v.right+window.pageXOffset+P)+k>window.innerWidth+window.pageXOffset?d(v,b.Position.left,k,I,P,++T):{left:$,top:L,pos:H};case b.Position.left:return H=b.RealPosition.left,($=window.pageXOffset+v.left-k-P)<0?d(v,b.Position.right,k,I,P,++T):{left:$,top:L,pos:H};case b.Position.top:return H=b.RealPosition.top,($=window.pageXOffset+v.left+(v.width-k)/2)+k>window.innerWidth+window.pageXOffset?$=window.innerWidth+window.pageXOffset-k:$<0&&($=0),v.top<I?d(v,b.Position.bottom,k,I,P,++T):{left:$,top:L=window.pageYOffset+v.top-I-P,pos:H};case b.Position.bottom:default:return($=window.pageXOffset+v.left+(v.width-k)/2)+k>window.innerWidth+window.pageXOffset?$=window.innerWidth+window.pageXOffset-k:$<0&&($=0),H=b.RealPosition.bottom,(L=window.pageYOffset+v.bottom+P)+I>window.innerHeight+window.pageYOffset?d(v,b.Position.top,k,I,P,++T):{left:$,top:L,pos:H}}}p.findPosition=d;var _=document.createElement("div"),f=document.createElement("span");f.className="dhx_tooltip__text",_.appendChild(f),_.setAttribute("role","tooltip"),_.style.position="absolute";var l,u=null,r=!1,s=null,t=null;function n(v){return v&&(v.classList.contains("dhx_popup--window")&&v.classList.contains("dhx_popup--window_active")||v.classList.contains("dhx_popup--window_modal")||v.classList.contains("dhx_popup"))?1e7:v!=null&&v.classList.contains("dhx_popup--window")?9999999:v&&v.offsetParent?n(v.offsetParent):null}function i(v,m,k,I,P,T,H){I===void 0&&(I=""),P===void 0&&(P=!1),T===void 0&&(T=8);var $=v.getBoundingClientRect();H?f.innerHTML=m:f.textContent=m,_.style.left=null,_.style.top=null,document.body.appendChild(_),_.className="dhx_widget dhx_tooltip ".concat(P?" dhx_tooltip--forced":""," ").concat(I);var L=_.getBoundingClientRect(),j=d($,k,L.width,L.height,T),M=j.left,F=j.top,S=j.pos,R=n(v);switch(R&&(_.style.zIndex=R.toString()),S){case b.RealPosition.bottom:case b.RealPosition.top:case b.RealPosition.left:case b.RealPosition.right:case b.RealPosition.center:_.style.left=M+"px",_.style.top=F+"px"}_.className+=" dhx_tooltip--".concat(S),r=!0,P||setTimeout(function(){_.className+=" dhx_tooltip--animate"})}function e(v,m,k){var I=k.force,P=k.showDelay,T=k.hideDelay,H=k.position,$=k.css,L=k.htmlEnable,j=k.margin;I||(t=setTimeout(function(){i(v,m,H||b.Position.bottom,$,!1,j,L)},P||y));var M=function(){var F;r&&(F=T,u&&(s=setTimeout(function(){document.body.removeChild(_),r=!1,s=null},F||g))),clearTimeout(t),v.removeEventListener("mouseleave",M),v.removeEventListener("blur",M),document.removeEventListener("mousedown",M),u=null,l=null};I&&i(v,m,H,$,I,j,L),v.addEventListener("mouseleave",M),v.addEventListener("blur",M),document.addEventListener("mousedown",M),l=M}function a(v,m){var k=(0,C.toNode)(m.node);k!==u&&(l&&(l(),l=null),u=k,s?(clearTimeout(s),s=null,e(k,v,w(w({},m),{force:!0}))):e(k,v,m))}function c(v){var m=(0,C.locateNode)(v,"dhx_tooltip_text");m&&a(m.getAttribute("dhx_tooltip_text"),{position:m.getAttribute("dhx_tooltip_position")||b.Position.bottom,node:m})}p.getZIndex=n,p.tooltip=a,p.enableTooltip=function(){document.addEventListener("mousemove",c)},p.disableTooltip=function(){document.removeEventListener("mousemove",c)}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},w.apply(this,arguments)},C=this&&this.__spreadArray||function(r,s,t){if(t||arguments.length===2)for(var n,i=0,e=s.length;i<e;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return r.concat(n||Array.prototype.slice.call(s))};Object.defineProperty(p,"__esModule",{value:!0}),p.DataCollection=void 0;var b=x(3),y=x(131),g=x(134),d=x(32),_=x(23),f=x(22),l=x(1),u=function(){function r(s,t){var n=this;this._filters={},this._changes={order:[]},this.config=s||{},this._sort=new g.Sort,this._loader=new y.Loader(this,this._changes),this.events=t||new b.EventSystem(this),this.events.on(f.DataEvents.dataRequest,function(i,e){var a=n.dataProxy;a&&a.updateUrl&&(a.updateUrl(null,{from:i,limit:a.config.limit||e-i}),n.load(a))}),this.events.on(f.DataEvents.loadError,function(i){setTimeout(function(){typeof i!="string"?(0,_.dhxError)(i):(0,_.dhxWarning)(i)},0)}),this._reset()}return r.prototype._reset=function(){this._order=[],this._pull={},this._changes={order:[]},this._initOrder=null,this._meta=new WeakMap,this._loaded=!1},r.prototype.add=function(s,t){var n,i=this;if(this.events.fire(f.DataEvents.beforeAdd,[s]))return n=Array.isArray(s)?s.map(function(e,a){return a!==0&&(t+=1),i._add(e,t)}):this._add(s,t),this._reapplyFilters(!0),n},r.prototype.remove=function(s){var t=this;s instanceof Array?C([],s,!0).map(function(n){t._remove(n)}):(0,l.isId)(s)&&this._remove(s)},r.prototype.removeAll=function(){this._reset(),this.events.fire(f.DataEvents.removeAll),this.events.fire(f.DataEvents.change)},r.prototype.exists=function(s){return!!this._pull[s]},r.prototype.getNearId=function(s){if(!this._pull[s])return this._order[0].id||""},r.prototype.getItem=function(s){return this._pull[s]},r.prototype.update=function(s,t,n){var i=this.getItem(s);if(i){if((0,_.isEqualObj)(t,i))return;(0,l.isId)(t.id)&&s!==t.id?((0,_.dhxWarning)("this method doesn't allow change id"),(0,_.isDebug)()):(t.parent&&i.parent&&t.parent!==i.parent&&this.move(s,-1,this,t.parent),(0,l.extend)(this._pull[s],t,!1),this.config.update&&this.config.update(this._pull[s]),n||this._onChange("update",s,this._pull[s])),this._reapplyFilters(!0)}else(0,_.dhxWarning)("item not found")},r.prototype.getIndex=function(s){return(0,l.isId)(s)&&(0,l.isDefined)(this._pull[s])?this._order.findIndex(function(t){return(t==null?void 0:t.id)==s}):-1},r.prototype.getId=function(s){if(this._order[s])return this._order[s].id},r.prototype.getLength=function(){return this._order.length},r.prototype.isDataLoaded=function(s,t){return s===void 0&&(s=0),t===void 0&&(t=this._order.length),(0,l.isNumeric)(s)&&(0,l.isNumeric)(t)?this._order.slice(s,t).filter(function(n){return n&&n.$empty}).length===0:(this._loaded||(this._loaded=!this.find(function(n){return n.$empty})),!!this._loaded)},r.prototype.filter=function(s,t,n){var i;if(this.isDataLoaded()){if(t!=null&&t.$restore&&(s=this._normalizeFilters(s||this._filters)),!(t!=null&&t.add)&&(this._order=this._initOrder||this._order,this._initOrder=null,!(t!=null&&t.$restore)))for(var e in this._filters){var a=this._filters[e];!((i=a.config)===null||i===void 0)&&i.permanent?this._applyFilters(a.rule):delete this._filters[e]}var c;if(s&&!(t!=null&&t.$restore)&&(c=(t==null?void 0:t.id)||(0,l.uid)(),this._filters[c]={rule:s,config:t||{}}),s&&typeof s!="function")if((0,l.isDefined)(s.by))this._applyFilters(s);else for(var e in s)this._applyFilters(s[e]);else this._applyFilters(s);if(!n){var v=this._getPureFilters(this._filters);this.events.fire(f.DataEvents.filter,[(0,l.isEmptyObj)(v)?null:v])}return c}(0,_.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype.resetFilter=function(s,t){var n,i=s||{},e=i.id,a=i.permanent;if((0,l.isEmptyObj)(s))for(var c in this._filters)!((n=this._filters[c].config)===null||n===void 0)&&n.permanent||delete this._filters[c];else a?this._filters={}:e&&delete this._filters[e];return this.filter(null,{$restore:!0},t),(0,l.isEmptyObj)(this._getPureFilters(this._filters))},r.prototype.getFilters=function(s){var t=this.getRawFilters(s),n=t?this._getPureFilters(t):{};return(0,l.isEmptyObj)(n)?null:n},r.prototype.getRawFilters=function(s){var t=this._filters;return s!=null&&s.permanent&&(t=Object.keys(t).reduce(function(n,i){var e;return!((e=t[i].config)===null||e===void 0)&&e.permanent&&(n[i]=t[i]),n},{})),(0,l.isEmptyObj)(t)?null:t},r.prototype.find=function(s){for(var t in this._pull){var n=(0,_.findByConf)(this._pull[t],s);if(n)return n}return null},r.prototype.findAll=function(s){var t=[];for(var n in this._pull){var i=(0,_.findByConf)(this._pull[n],s);i&&t.push(i)}return t},r.prototype.sort=function(s,t){this.isDataLoaded()?(t&&t.smartSorting&&(this._sorter=s),s&&this._applySorters(s),this.events.fire(f.DataEvents.change,[void 0,"sort",s])):(0,_.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype.copy=function(s,t,n,i){var e=this;return s instanceof Array?s.map(function(a,c){return e._copy(a,t,n,i,c)}):this._copy(s,t,n,i)},r.prototype.move=function(s,t,n,i,e){var a=this;return s instanceof Array?s.map(function(c,v){return a._move(c,t,n,i,v)}):this._move(s,t,n,i,0,e)},r.prototype.forEach=function(s){for(var t=0;t<this._order.length;t++)s.call(this,this._order[t],t,this._order)},r.prototype.load=function(s,t){if(typeof s=="string"&&(this.dataProxy=s=new d.DataProxy(s)),typeof t=="string"){var n=t.toLocaleLowerCase();n!=="xml"&&n!=="csv"||(s.config.responseType=s.config.responseType||"text")}return this.dataProxy=s,this._loader.load(s,t)},r.prototype.parse=function(s,t){return this._reset(),this._loader.parse(s,t)},r.prototype.$parse=function(s){var t=this.config.approximate;t&&(s=this._approximate(s,t.value,t.maxNum)),this._parse_data(s),this._reapplyFilters(!0),this.events.fire(f.DataEvents.change,[void 0,"load"]),this.events.fire(f.DataEvents.load)},r.prototype.save=function(s){typeof s=="string"&&(s=new d.DataProxy(s)),this._loader.save(s)},r.prototype.changeId=function(s,t,n){if(t===void 0&&(t=(0,l.uid)()),n||this.isDataLoaded()){var i=this.getItem(s);i?(i.id=t,(0,l.extend)(this._pull[s],i),this._pull[t]=this._pull[s],n||this._onChange("update",t,this._pull[t]),delete this._pull[s]):(0,_.dhxWarning)("item not found")}else(0,_.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype.isSaved=function(){return!this._changes.order.length},r.prototype.map=function(s){for(var t=[],n=0;n<this._order.length;n++)t.push(s.call(this,this._order[n],n,this._order));return t},r.prototype.mapRange=function(s,t,n){s<0&&(s=0),t>this._order.length-1&&(t=this._order.length-1);for(var i=this._order.slice(s,t),e=[],a=s;a<=t;a++)e.push(n.call(this,this._order[a],a,i));return e},r.prototype.reduce=function(s,t){for(var n=0;n<this._order.length;n++)t=s.call(this,t,this._order[n],n);return t},r.prototype.serialize=function(s){s===void 0&&(s=f.DataDriver.json);for(var t=[],n=function(c){var v=w({},i._order[c]);Object.keys(v).forEach(function(m){m.startsWith("$")&&delete v[m]}),t.push(v)},i=this,e=0;e<this._order.length;e++)n(e);var a=(0,_.toDataDriver)(s);if(a)return a.serialize(t)},r.prototype.getInitialData=function(){return this._initOrder},r.prototype.setMeta=function(s,t,n){if(s){var i=this._meta.get(s);i||(i={},this._meta.set(s,i)),i[t]=n}},r.prototype.getMeta=function(s,t){var n=this._meta.get(s);return n?n[t]:null},r.prototype.getMetaMap=function(s){return this._meta.get(s)},r.prototype.setRange=function(s,t){this._range=t?[s,t]:null},r.prototype.getRawData=function(s,t,n,i){if(n=n||this._order,i===1)return n;if(this._range)if(s=this._range[0]+s,t===-1)t=this._range[1];else{var e=Math.abs(t-s);t=s+e>this._range[1]?this._range[1]:s+e}if(!t||s===0&&(t===-1||t===n.length))return n;if(s>=n.length)return[];(t===-1||t>n.length)&&(t=n.length);var a=n.slice(s,t);return a.filter(function(c){return c.$empty}).length!==0&&this.events.fire(f.DataEvents.dataRequest,[s,t]),a},r.prototype._add=function(s,t){if(this.isDataLoaded()){var n=this._addCore(s,t);return this._onChange("add",s.id,s),this.events.fire(f.DataEvents.afterAdd,[s]),n}(0,_.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype._remove=function(s){if(this.isDataLoaded()){var t=this._pull[s];if(t){if(!this.events.fire(f.DataEvents.beforeRemove,[t]))return;this._removeCore(t.id),this._onChange("remove",s,t)}this.events.fire(f.DataEvents.afterRemove,[t])}else(0,_.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype._copy=function(s,t,n,i,e){if(this.isDataLoaded()){if(!this.exists(s))return null;var a=(0,l.uid)();return e&&(t=t===-1?-1:t+e),n?n instanceof r||!i?n.exists(s)?(n.add(w(w({},(0,_.copyWithoutInner)(this.getItem(s))),{id:a}),t),a):(n.add((0,_.copyWithoutInner)(this.getItem(s)),t),s):void n.add((0,_.copyWithoutInner)(this.getItem(s)),t):(this.add(w(w({},(0,_.copyWithoutInner)(this.getItem(s))),{id:a}),t),a)}(0,_.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype._move=function(s,t,n,i,e,a){if(this.isDataLoaded()){if(e&&(t=t===-1?-1:t+e),n&&n!==this&&this.exists(s)){var c=(0,l.copy)(this.getItem(s),!0);return a&&(c.id=a),(!a&&n.exists(s)||n.exists(a))&&(c.id=(0,l.uid)()),i&&(c.parent=i),n.add(c,t),this.remove(s),c.id}if(this.getIndex(s)===t)return null;var v=this._order.splice(this.getIndex(s),1)[0];return t===-1&&(t=this._order.length),this._order.splice(t,0,v),this.events.fire(f.DataEvents.change,[s,"update",this.getItem(s)]),s}(0,_.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype._addCore=function(s,t){var n;return this.config.init&&(s=this.config.init(s)),s.id=(n=s.id)!==null&&n!==void 0?n:(0,l.uid)(),this._pull[s.id]&&(0,_.dhxError)("Item ".concat(s.id," already exist")),this._initOrder&&!(0,_.isTreeCollection)(this)&&this._addToOrder(this._initOrder,s,t),this._addToOrder(this._order,s,t),s.id},r.prototype._removeCore=function(s){this.getIndex(s)>=0&&(this._order=this._order.filter(function(t){return t.id!==s}),delete this._pull[s]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(t){return t.id!==s}),delete this._pull[s])},r.prototype._parse_data=function(s){var t=this._order.length;this.config.prep&&(s=this.config.prep(s));for(var n=0,i=s;n<i.length;n++){var e=i[n];this._addCore(e,t++)}},r.prototype._approximate=function(s,t,n){for(var i=s.length,e=t.length,a=Math.floor(i/n),c=Array(Math.ceil(i/a)),v=0,m=0;m<i;m+=a){for(var k=(0,l.copy)(s[m]),I=Math.min(i,m+a),P=0;P<e;P++){for(var T=0,H=m;H<I;H++)T+=s[H][t[P]];k[t[P]]=T/(I-m)}c[v++]=k}return c},r.prototype._onChange=function(s,t,n){for(var i=0,e=0,a=this._changes.order;e<a.length;e++){var c=a[e],v=this._changes.order.indexOf(c);if(c.id===t&&!c.saving&&(i+=1,v===this._changes.order.length-1||this._changes.order[v+1].id!==t))return c.error&&(c.error=!1),c=w(w({},c),{obj:n,status:s}),(i+=1)>10?this._changes.order.splice(v,i-10,c):this._changes.order.splice(v+1,0,c),this._loader.updateChanges(this._changes),s==="remove"&&n.$emptyRow?void 0:void this.events.fire(f.DataEvents.change,[t,s,n])}this._changes.order.push({id:t,status:s,obj:w({},n),saving:!1}),this._loader.updateChanges(this._changes),this.events.fire(f.DataEvents.change,[t,s,n])},r.prototype._addToOrder=function(s,t,n){n>=0&&s[n]?(this._pull[t.id]=t,s.splice(n,0,t)):(this._pull[t.id]=t,s.push(t))},r.prototype._applySorters=function(s){this._sort.sort(this._order,s,this._sorter),this._initOrder&&this._initOrder.length&&this._sort.sort(this._initOrder,s,this._sorter)},r.prototype._applyFilters=function(s){if(s){var t=typeof s!="function"?this._getRuleCallback(s):s,n=this._order.filter(function(i){return t(i)});this._initOrder||(this._initOrder=this._order),this._order=n}},r.prototype._reapplyFilters=function(s){s===void 0&&(s=!1);var t=this.getFilters({permanent:!0});t&&this.filter(t,{$restore:!0,add:!0},!0),s&&this._sorter&&this._applySorters()},r.prototype._getRuleCallback=function(s){if((0,l.isDefined)(s.by)&&(0,l.isDefined)(s.match))return s.compare?function(t){return s.compare(t[s.by],s.match,t,s.multi)}:function(t){return t[s.by]==s.match}},r.prototype._getPureFilters=function(s){return Object.keys(s).reduce(function(t,n){var i;return!((i=s[n].config)===null||i===void 0)&&i.$local||(t[n]=s[n]),t},{})},r.prototype._normalizeFilters=function(s){var t=[];for(var n in s){var i=s[n].rule;if(typeof i!="function")if((0,l.isDefined)(i.by))t.push(this._getRuleCallback(i));else for(var e in i)t.push(this._getRuleCallback(i[e]));else t.push(i)}return w({},t)},r}();p.DataCollection=u},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(g){for(var d,_=1,f=arguments.length;_<f;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.dataDriversPro=p.dataDrivers=void 0;var C=x(70),b=x(71),y=x(132);p.dataDrivers={json:C.JsonDriver,csv:b.CsvDriver},p.dataDriversPro=w(w({},p.dataDrivers),{xml:y.XMLDriver})},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.JsonDriver=void 0;var w=function(){function C(){}return C.prototype.toJsonArray=function(b){return this.getRows(b)},C.prototype.serialize=function(b){return b},C.prototype.getFields=function(b){return b},C.prototype.getRows=function(b){return typeof b=="string"?JSON.parse(b):b},C}();p.JsonDriver=w},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(b){for(var y,g=1,d=arguments.length;g<d;g++)for(var _ in y=arguments[g])Object.prototype.hasOwnProperty.call(y,_)&&(b[_]=y[_]);return b},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.CsvDriver=void 0;var C=function(){function b(y){this.config=w(w({},{skipHeader:0,nameByHeader:!1,rowDelimiter:`
`,columnDelimiter:","}),y),this.config.nameByHeader&&(this.config.skipHeader=1)}return b.prototype.getFields=function(y,g){for(var d=new RegExp('(?<!")'.concat(this.config.columnDelimiter,'(?!")')),_=y.trim().split(d),f={},l=0;l<_.length;l++)f[g?g[l]:l+1]=isNaN(Number(_[l]))?_[l].replace(/"[,;"]"/gi,function(u){return u.split("").splice(1,1).slice(-1,1).join("")}):parseFloat(_[l]);return f},b.prototype.getRows=function(y){return y.trim().split(this.config.rowDelimiter)},b.prototype.toJsonArray=function(y){var g=this,d=this.getRows(y),_=this.config.names;if(this.config.skipHeader){var f=d.splice(0,this.config.skipHeader);this.config.nameByHeader&&(_=f[0].trim().split(this.config.columnDelimiter))}return d.map(function(l){return g.getFields(l,_)})},b.prototype.serialize=function(y,g){var d=y[0]?Object.keys(y[0]).filter(function(f){return!f.startsWith("$")}).join(this.config.columnDelimiter)+this.config.rowDelimiter:"",_=this._serialize(y);return g?_:d+_},b.prototype._serialize=function(y){var g=this;return y.reduce(function(d,_){var f=Object.keys(_),l=f.reduce(function(u,r,s){var t,n;return r.startsWith("$")||r==="items"?u:"".concat(u).concat(((n=(t=_[r])===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"").replaceAll(/[,;"]/gi,function(i){return'"'.concat(i,'"')})).concat(s===f.length-1?"":g.config.columnDelimiter)},"");return _.items?"".concat(d).concat(d?`
`:"").concat(l).concat(g._serialize(_.items)):"".concat(d).concat(d?g.config.rowDelimiter:"").concat(l)},"")},b}();p.CsvDriver=C},function(O,p,x){var w,C=this&&this.__extends||(w=function(L,j){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,F){M.__proto__=F}||function(M,F){for(var S in F)Object.prototype.hasOwnProperty.call(F,S)&&(M[S]=F[S])},w(L,j)},function(L,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");function M(){this.constructor=L}w(L,j),L.prototype=j===null?Object.create(j):(M.prototype=j.prototype,new M)}),b=this&&this.__assign||function(){return b=Object.assign||function(L){for(var j,M=1,F=arguments.length;M<F;M++)for(var S in j=arguments[M])Object.prototype.hasOwnProperty.call(j,S)&&(L[S]=j[S]);return L},b.apply(this,arguments)},y=this&&this.__rest||function(L,j){var M={};for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&j.indexOf(F)<0&&(M[F]=L[F]);if(L!=null&&typeof Object.getOwnPropertySymbols=="function"){var S=0;for(F=Object.getOwnPropertySymbols(L);S<F.length;S++)j.indexOf(F[S])<0&&Object.prototype.propertyIsEnumerable.call(L,F[S])&&(M[F[S]]=L[F[S]])}return M},g=this&&this.__spreadArray||function(L,j,M){if(M||arguments.length===2)for(var F,S=0,R=j.length;S<R;S++)!F&&S in j||(F||(F=Array.prototype.slice.call(j,0,S)),F[S]=j[S]);return L.concat(F||Array.prototype.slice.call(j))};Object.defineProperty(p,"__esModule",{value:!0}),p.Grid=void 0;var d=x(0),_=x(3),f=x(2),l=x(1),u=x(14),r=x(5),s=x(8),t=x(138),n=x(18),i=x(26),e=x(15),a=x(139),c=x(7),v=x(25),m=x(24),k=x(163),I=x(167),P=x(168),T=x(31),H=x(33),$=function(L){function j(M,F){var S=L.call(this,M,F)||this;S._touch={duration:350,dblDuration:300,timer:null,start:!1},S._destructed=!1,S.version="6.0.1",S.config=(0,l.extend)({rowHeight:40,headerRowHeight:40,footerRowHeight:40,keyNavigation:!0,sortable:!0,columns:[],data:[],tooltip:!0,rootParent:typeof M=="string"&&M||S._uid},S._normalizeConfig(F)),S.content=(0,k.getContent)(),S._scroll={top:0,left:0},S.config.autoWidth=S.config.autoWidth||S.config.fitToContainer,S.config.adjust=S.config.adjust||S.config.columnsAutoWidth,S.config.editable=S.config.editable||S.config.editing,S.config.leftSplit=S.config.leftSplit||S.config.splitAt,S.config.columns.forEach(function(N){N.format=N.format||N.dateFormat});var R=function(N,W,Q){var X;if(N&&W&&(0,e.isTooltip)(S.config,W)){var K=void 0;if(W.editorType==="combobox"||W.editorType==="select"){var ne=(0,n.getEditorOptions)(W,N).find(function(le){var ue;return(le instanceof Object?le.id.toString():le)===((ue=N[W.id])===null||ue===void 0?void 0:ue.toString())});K=ne instanceof Object?ne.value:ne}else if(W.editorType==="multiselect"){var ie=(X=N[W.id])===null||X===void 0?void 0:X.toString().split(", ");ie!=null&&ie.length&&(K=(0,n.getEditorOptions)(W,N).filter(function(le){return ie.includes(le instanceof Object?le.id.toString():le)}).map(function(le){return le instanceof Object?le.value:le}).join(", "))}var oe=(0,n.toFormat)(K||N[W.id],W.type,W.format),re=function(){return!!oe||typeof oe=="boolean"};W.tooltipTemplate?oe=W.tooltipTemplate(oe,N,W)||null:re()&&W.template&&(oe=W.template(oe,N,W)),re()&&(0,e.showTooltip)({value:oe,node:Q,htmlEnable:(0,e.isHtmlEnable)(S.config,W)})}},B=function(N,W){var Q,X;W===void 0&&(W="header");var K=N.target,ne=K.getAttribute("data-dhx-text-id"),ie=S.getColumn(K.getAttribute("data-dhx-id"));if(ne&&ie){var oe=(Q=ie[W])===null||Q===void 0?void 0:Q.find(function(ue){return ue.id===ne});if((0,e.isContentTooltip)(S.config,ie,oe,W)){var re=(oe==null?void 0:oe.content)&&["avg","sum","max","min","count"].includes(oe.content),le=re?(X=S.content[oe.content])===null||X===void 0?void 0:X.toHtml(ie,b(b({},S.config),{datacollection:S.data})):oe==null?void 0:oe.text;typeof(oe==null?void 0:oe.tooltipTemplate)=="function"&&(le=oe.tooltipTemplate(le,oe,ie)),re&&typeof ie.template=="function"&&(le=ie.template(le,oe,ie)),le!=null&&le.toString().length&&(0,e.showTooltip)({value:le,node:K,htmlEnable:(0,e.isHtmlEnable)(S.config,ie,oe)})}}};if(S._htmlEvents={onclick:(0,f.eventHandler)(function(N){return(0,f.locate)(N)},{"dhx_grid-header-cell--sortable":function(N,W){var Q=N.target.getAttribute("dhx_resized"),X=S.getColumn(W);if(X&&(0,e.isSortable)(S.config,X)&&!Q&&S.events.fire(c.GridEvents.beforeSort,[X,S._sortDir==="asc"?"desc":"asc"])){var K=(0,f.locate)(N,"data-dhx-text-id"),ne=X.header.find(function(oe){return oe.id===K}),ie=S._sortDir==="asc"&&S._sortBy===W?"desc":"asc";S._sort(W,ie,ne.sortAs)}},"dhx_grid-expand-cell":function(N,W){N.target.classList.contains("dhx_grid-expand-cell-icon")&&S.events.fire(c.GridEvents.expand,[W])},"dhx_span-expand-cell":function(N,W){N.target.classList.contains("dhx_span-expand-cell-icon")&&S.events.fire(c.GridEvents.expand,[W])}}),onscroll:function(N){S.events.fire(c.GridEvents.scroll,[{y:N.target.scrollTop,x:N.target.scrollLeft}])},onmouseover:{".dhx_grid-cell.dhx_boolean-cell .dhx_checkbox.dhx_cell-editor__checkbox":function(N){var W=N.composedPath(),Q=S.data.getItem(W[2].getAttribute("data-dhx-id")),X=S.getColumn(W[1].getAttribute("data-dhx-col-id"));R(Q,X,N.target)},".dhx_grid-cell:not(.dhx_boolean-cell)":function(N){var W=S.data.getItem(N.composedPath()[1].getAttribute("data-dhx-id")),Q=S.getColumn(N.target.getAttribute("data-dhx-col-id"));R(W,Q,N.target)},".dhx_grid-cell:not(.dhx_tree-cell) .dhx_grid-cell__content, .dhx_tree-cell :not(.dhx_grid-cell__content)":function(N){var W=N.composedPath(),Q=S.data.getItem(W[2].getAttribute("data-dhx-id")),X=S.getColumn(W[1].getAttribute("data-dhx-col-id"));R(Q,X,N.target)},".dhx_grid-cell.dhx_tree-cell .dhx_grid-cell__content":function(N){var W=N.composedPath(),Q=S.data.getItem(W[3].getAttribute("data-dhx-id")),X=S.getColumn(W[2].getAttribute("data-dhx-col-id"));R(Q,X,W[2])},".dhx_span-cell:not(.dhx_grid-header-cell):not(.dhx_grid-footer-cell)":function(N){var W=N.target,Q=S.data.getItem(W.getAttribute("data-dhx-id")),X=S.getColumn(W.getAttribute("data-dhx-col-id")),K=S.getSpan(Q.id,X.id);if(Q&&K&&(0,e.isTooltip)(S.config,K)){var ne=K.text||(0,n.toFormat)(Q[X.id],X.type,X.format);K.tooltipTemplate?ne=K.tooltipTemplate(ne,K):X.template&&(ne=X.template(ne,Q,X)),ne&&(0,e.showTooltip)({value:ne,node:W,htmlEnable:(0,e.isHtmlEnable)(S.config,X)})}},".dhx_grid-header-cell":function(N){return B(N,"header")},".dhx_grid-footer-cell":function(N){return B(N,"footer")}}},S.config.eventHandlers)for(var Y=0,q=Object.entries(S.config.eventHandlers);Y<q.length;Y++){var U=q[Y],V=U[0],A=U[1];S._htmlEvents[V]=(0,f.eventHandler)(function(N){return{col:S.getColumn((0,f.locate)(N,"data-dhx-col-id")||(0,f.locate)(N,"data-dhx-id"))||{},row:S.data.getItem((0,f.locate)(N,"data-dhx-id"))||{}}},A,S._htmlEvents[V])}return(S.config.dragMode||S.config.dragItem)&&(s.dragManager.setItem(S._uid,S),S.config.dragItem||(S.config.dragItem="row"),S.config.dragMode||(S.config.dragMode="both")),S._init(),S.config.columns&&S._parseColumns(!0),S._canDataParse()&&S.data.parse(S.config.data),S.selection=new a.Selection(S,{disabled:!S.config.selection},S.events,S._uid),S.mount(M,S._createView()),(0,d.awaitRedraw)().then(function(){S.config.keyNavigation&&(S.keyManager=new u.KeyManager(function(N,W){return!(W!==S._uid||!S.events.fire(c.GridEvents.beforeKeyDown,[N]))&&(S.events.fire(c.GridEvents.afterKeyDown,[N]),!0)}),S._initHotKey(),T.focusManager.setFocusId(S._uid))}),F.autoEmptyRow&&S.data.getLength()===0&&(S._addEmptyRow(),S.paint()),S}return C(j,L),j.prototype.destructor=function(){this._destructed=!0,this._destroyContent(),this.keyManager&&this.keyManager.destructor(),this.events&&this.events.clear(),this._events&&this._events.clear(),this.export=this.content=this.selection=null,this._activeFilters=this._filterData=this._scroll=this._touch=this._htmlEvents=this._hiddenFilters=null,this.unmount()},j.prototype.setColumns=function(M){var F=this;this._destroyContent(),this.config.columns=M,this._parseColumns(!0),(0,e.isAutoWidth)(this.config)&&this._applyAutoWidth(),this._adjustColumns(),this._checkFilters(),this._checkMarks(),this._normalizeSpans(),this.paint(),this.config.keyNavigation&&(0,d.awaitRedraw)().then(function(){F._initHotKey(!0),F.paint()})},j.prototype.addRowCss=function(M,F){var S=this.data.getItem(M),R=S.$css||"";R.match(new RegExp(F,"g"))||(S.$css=R+" ".concat(F),this.paint())},j.prototype.removeRowCss=function(M,F){var S=this.data.getItem(M),R=S.$css?S.$css.replace(F,""):"";S.$css=R,this.paint()},j.prototype.addCellCss=function(M,F,S){var R=this.getColumn(F);if(R){R.$cellCss=R.$cellCss||{};var B=R.$cellCss[M];if(B){var Y=B.match(new RegExp(S,"g"))?"":" ".concat(S);R.$cellCss[M]+=Y}else this.data.getItem(M)&&(R.$cellCss[M]="".concat(S," "));this.paint()}},j.prototype.removeCellCss=function(M,F,S){var R=this.getColumn(F);R&&(R.$cellCss[M]?(R.$cellCss[M]=R.$cellCss[M].replace(S,""),this.paint()):this.data.getItem(M)&&(R.$cellCss[M]=""))},j.prototype.showColumn=function(M){var F=this.getColumn(M);if(F&&F.hidden&&this.events.fire(c.GridEvents.beforeColumnShow,[F])){F.hidden=!1,this.config.$totalWidth+=F.$width,this._parseColumns(),this.config.data=this._prepareData(this.data);var S=this._hiddenFilters&&this._hiddenFilters[F.id];S&&(this._activeFilters[F.id]=S,delete this._hiddenFilters[F.id],this._checkFilters(),this._checkSelectFilterValue()),this._normalizeSpans(),this.paint(),this.events.fire(c.GridEvents.afterColumnShow,[F])}},j.prototype.hideColumn=function(M){var F=this.getColumn(M);if(F&&!F.hidden&&this.events.fire(c.GridEvents.beforeColumnHide,[F])){F.hidden=!0,this.config.$totalWidth-=F.$width,this._parseColumns(),this.config.data=this._prepareData(this.data);var S=this._activeFilters&&this._activeFilters[F.id];S&&(this._hiddenFilters||(this._hiddenFilters={}),this._hiddenFilters[F.id]=S,delete this._activeFilters[F.id],this._checkFilters()),this._normalizeSpans(),this.paint(),this.events.fire(c.GridEvents.afterColumnHide,[F])}},j.prototype.isColumnHidden=function(M){var F=this.getColumn(M);if(F)return!!F.hidden},j.prototype.showRow=function(M){if((0,l.isDefined)(M)){var F=M.toString(),S=this.data.getItem(F);S&&S.hidden&&this.events.fire(c.GridEvents.beforeRowShow,[S])&&(this.data.update(F,{hidden:!1}),this._checkFilters(!0),this.paint(),this.events.fire(c.GridEvents.afterRowShow,[S]))}},j.prototype.hideRow=function(M){if((0,l.isDefined)(M)){var F=M.toString(),S=this.data.getItem(F);S&&this.events.fire(c.GridEvents.beforeRowHide,[S])&&(this.data.update(F,{hidden:!0}),this._checkFilters(!0),this._checkSelectFilterValue(),this.paint(),this.events.fire(c.GridEvents.afterRowHide,[S]))}},j.prototype.isRowHidden=function(M){if((0,l.isDefined)(M)){var F=this.data.getItem(M.toString());return F?!!F.hidden:void 0}},j.prototype.getScrollState=function(){return{x:this._scroll.left,y:this._scroll.top}},j.prototype.scroll=function(M,F){var S=this.getRootView().refs.grid_body.el.querySelector(".scroll-view")||this.getRootView().refs.grid_body.el;S.scrollLeft=!M&&M!==0||typeof M!="number"?S.scrollLeft:M,S.scrollTop=!F&&F!==0||typeof F!="number"?S.scrollTop:F,this.paint()},j.prototype.scrollTo=function(M,F){var S=this.selection.getCell(),R=this.config.columns.filter(function(de){return!de.hidden}),B=(0,l.findIndex)(R,function(de){return de.id==F}),Y=S?S.column:this.config.columns[0],q=(0,l.findIndex)(R,function(de){return de.id==Y.id}),U=this.config.leftSplit?(0,e.getTotalWidth)(R.slice(0,this.config.leftSplit)):0,V=(0,e.getTotalWidth)(R.slice(0,B))-(B-q<0?U:0),A=this.data.getRawData(0,-1),N=(0,l.findIndex)(A,function(de){return de.id==M}),W=(0,e.getTotalHeight)(A.slice(0,N)),Q=this.getScrollState(),X=this.config.$width+Q.x,K=this.config.$height+Q.y-this.config.$headerHeight,ne=W-Q.y-A[N].$height,ie=V-Q.x-R[B].$width,oe=W+2*A[N].$height+18-K,re=V+2*R[B].$width+18-X,le=ne>0&&oe<0?0:ne<0?ne:oe,ue=ie>0&&re<0?0:ie<0?ie:re;this.scroll(ue+Q.x,le+Q.y)},j.prototype.adjustColumnWidth=function(M,F){F===void 0&&(F=!0);var S=this.config.columns.filter(function(Y){return!Y.hidden}),R=S.filter(function(Y){return Y.id===M}),B=this._adjustColumnsWidth({rows:this.config.data,cols:R,totalCols:S,adjust:F});this.config.$totalWidth=S.reduce(function(Y,q){if(B[q.id]){q.$fixed=!0;var U=q.maxWidth,V=q.minWidth,A=B[q.id];q.$width=A,U&&A>U&&(q.$width=U),V&&q.$width<V&&(q.$width=V)}return Y+q.$width},0),this.paint()},j.prototype.getCellRect=function(M,F){var S=this.config.columns.filter(function(U){return!U.hidden}),R=this.data.getRawData(0,-1),B=this.getSpan(M,F),Y=(0,l.findIndex)(S,function(U){return U.id==(B?B.column:F)}),q=(0,l.findIndex)(R,function(U){return U.id==(B?B.row:M)});return{x:(0,e.getTotalWidth)(S.slice(0,Y)),y:(0,e.getTotalHeight)(R.slice(0,q)),height:B!=null&&B.rowspan?(0,i.getHeight)(R,B.rowspan,q):R[q]?R[q].$height:0,width:B!=null&&B.colspan?(0,i.getWidth)(this.config.columns,B.colspan,(0,l.findIndex)(this.config.columns,function(U){return U.id===B.column})):S[Y]?S[Y].$width:0}},j.prototype.getColumn=function(M){for(var F,S=0,R=(F=this.config)===null||F===void 0?void 0:F.columns;S<R.length;S++){var B=R[S];if(B.id==M)return B}},j.prototype.addSpan=function(M){this.config.spans=this.config.spans||[];var F=(0,l.findIndex)(this.config.spans,function(S){return"".concat(S.row)==="".concat(M.row)&&"".concat(S.column)==="".concat(M.column)});F>=0?this.config.spans[F]=M:(this.config.spans.push((0,H.normalizeSpan)(M,this.config,this.data)),this._checkMarks(),this.paint())},j.prototype.getSpan=function(M,F){var S,R=this;if(this.config.spans){var B=this.data.getIndex(M.toString()),Y=this.config.columns.findIndex(function(U){return U.id===F}),q=(0,l.findIndex)(this.config.spans,function(U){var V=R.data.getIndex(U.row.toString()),A=R.config.columns.findIndex(function(K){return K.id===U.column}),N=V,W=U.rowspan?V+U.rowspan:V+1,Q=A,X=U.colspan?A+U.colspan:A+1;return B>=N&&B<W&&Y>=Q&&Y<X});return(S=this.config)===null||S===void 0?void 0:S.spans[q]}},j.prototype.removeSpan=function(M,F){if(this.config.spans){var S=(0,l.findIndex)(this.config.spans,function(R){return"".concat(R.row)=="".concat(M)&&"".concat(R.column)=="".concat(F)});this.config.spans.splice(S,1),this.paint()}},j.prototype.editCell=function(M,F,S){var R,B=this.data.getItem(M),Y=this.getColumn(F);if(B&&Y){var q=Y.editorType,U=this.getSpan(B.id,Y.id);if(S||(S=this.config.autoHeight&&Y.type!=="number"?"textarea":"input",Y.type==="date"&&(S="datePicker"),Y.type==="boolean"&&(S="checkbox"),q&&(S=q),(0,l.isDefined)(U==null?void 0:U.text)&&(S=this.config.autoHeight?"textarea":"input")),Y.type==="number"&&!((0,l.isDefined)(U==null?void 0:U.text)&&["input","textarea"].includes(S))&&!["input","select","combobox"].includes(S))return;this.events.fire(c.GridEvents.beforeEditStart,[B,Y,S])&&(!((R=this.config.$editable)===null||R===void 0)&&R.editor||this.config.$editable&&this.config.$editable.row===M&&this.config.$editable.col===F&&this.config.$editable.editorType===S||(this.config.$editable={row:B.id,col:Y.id,isSpan:!!U,editorType:S},this.selection.config.disabled||this.selection.setCell(M.toString(),F.toString()),this.paint(),this.events.fire(c.GridEvents.afterEditStart,[B,Y,S])))}else(0,s.dhxWarning)("item not found")},j.prototype.editEnd=function(M){this.config.$editable&&this.config.$editable.editor&&this.config.$editable.editor.endEdit(M)},j.prototype.getSortingState=function(){return{dir:this._sortDir,by:this._sortBy}},j.prototype.getHeaderFilter=function(M){var F=this,S=this.getColumn(M);if(S){var R=null;return S.header.forEach(function(B){B.content&&(R=F.content[B.content].element[M])}),R}},j.prototype.edit=function(M,F,S){this.editCell(M,F,S)},j.prototype.paint=function(){var M=this.config.hotkeys?Object.keys(this.config.hotkeys).length:0;!this.keyManager||this.keyManager.getKeyStorageLength()-M||this._initHotKey(!0),L.prototype.paint.call(this)},j.prototype._createView=function(){var M=this;return(0,d.create)({render:function(F,S){return M._destructed?(0,d.el)("div"):(0,v.render)(F,S,M._htmlEvents,M.selection,M._uid)},hooks:this._initHooks()},this)},j.prototype._parseColumns=function(M){M===void 0&&(M=!1);var F=this.config.columns.filter(function(S){return!S.hidden});this.normalizeColumns({config:this.config,columns:F,configChanged:M}),(0,n.countColumns)(this.config,F)},j.prototype.normalizeColumns=function(M){var F,S,R,B=this,Y=M.config,q=M.columns,U=M.configChanged;Y.$headerHeightMap=[],Y.$footerHeightMap=[],Y.$headerHeight=Y.$footerHeight=0;for(var V=0,A=q;V<A.length;V++){(K=A[V]).htmlEnable=(F=K.htmlEnable)!==null&&F!==void 0?F:Y.htmlEnable,K.$cellCss=K.$cellCss||{},(0,n.normalizeArray)(K,"header"),(0,n.normalizeArray)(K,"footer"),K.minWidth&&K.minWidth<20&&(K.minWidth=20),K.maxWidth&&K.maxWidth<20&&(K.maxWidth=20);var N=K.minWidth||100;K.width&&(N=(N=K.maxWidth&&K.minWidth?K.width>=K.minWidth&&K.width<=K.maxWidth?K.width:K.width>=K.maxWidth?K.maxWidth:K.minWidth:K.maxWidth?K.width<=K.maxWidth?K.width:K.maxWidth>100?K.maxWidth:100:K.minWidth?K.width>=K.minWidth?K.width:K.minWidth:K.width)<20?20:N),K.$width=K.$width&&!U?K.$width:N,K.$width>K.maxWidth&&(K.$width=K.maxWidth),K.$width<K.minWidth&&(K.$width=K.minWidth)}for(var W=function(ne){if(!((S=ne.header)===null||S===void 0)&&S.length){var ie=0;ne.header.forEach(function(re,le){(ie=Y.headerAutoHeight?B.getNormalizeContentHeight(re,ne,Y):Y.headerRowHeight)>(Y.$headerHeightMap[le]||0)&&(Y.$headerHeightMap[le]=Math.max(ie,Y.headerRowHeight))})}if(!((R=ne.footer)===null||R===void 0)&&R.length){var oe=0;ne.footer.forEach(function(re,le){(oe=Y.footerAutoHeight?B.getNormalizeContentHeight(re,ne,Y):Y.footerRowHeight)>(Y.$footerHeightMap[le]||0)&&(Y.$footerHeightMap[le]=Math.max(oe,Y.footerRowHeight))})}},Q=0,X=q;Q<X.length;Q++){var K;W(K=X[Q])}Y.$headerHeight=Y.$headerHeightMap.reduce(function(ne,ie){return ne+ie},0),Y.$footerHeight=Y.$footerHeightMap.reduce(function(ne,ie){return ne+ie},0)},j.prototype.getNormalizeContentHeight=function(M,F,S){return this.config.footerRowHeight},j.prototype._parseData=function(){this._detectColsTypes(),this.config.data=this.data.map(function(M){return M}),this.config.data=this._prepareData(this.data),this._checkMarks(),this._applyLocalFilter(),this._checkFilters(),this._render()},j.prototype._createCollection=function(M){this.data=new s.DataCollection({prep:M},this.events)},j.prototype._getRowIndex=function(M){return this.data.getIndex(M)},j.prototype._setEventHandlers=function(){var M=this,F=function(S){var R=S.source,B=S.target,Y=y(S,["source","target"]);R!=null&&R.length&&R.map(function(q){return M.data.exists(q)&&M.data.update(q,Y)}),M.data.exists(B)&&M.data.update(B,Y)};this.data.events.on(s.DataEvents.load,function(){M._applyLocalFilter(!0),M._parseData(),M.config.autoEmptyRow&&M._addEmptyRow(),M.config.data instanceof s.DataCollection?(0,d.awaitRedraw)().then(function(){return M._normalizeSpans()}):M._normalizeSpans()}),this.data.events.on(s.DataEvents.change,function(S,R,B){if(R!=="load")if(R!=="setPage"){if(R==="sort")B.dir?M._sortDir=B.dir:M._sortBy===B.by?M._sortDir=M._sortDir==="asc"?"desc":"asc":M._sortDir="asc",M._sortBy=B.by;else if(R==="add"||R==="update"||R==="remove"){if((0,l.isId)(S)&&R==="remove"){var Y=M.selection.getCells().find(function(U){return U.row.id===S});Y&&M.selection.removeCell(Y.row.id,Y.column.id)}M.config.data=M._prepareData(M.data)}else(0,s.isTreeCollection)(M.data)&&(M.config.data=M._prepareData(M.data)),M._adjustColumns();if((0,l.isId)(S)&&(M._checkFilters(),M._checkSelectFilterValue()),M._detectColsTypes(),M._removeMarks(),M._checkMarks(),M.config.autoEmptyRow&&(!M._activeFilters||(0,l.isEmptyObj)(M._activeFilters))){var q=M.data.find({by:"$emptyRow",match:!0});if(q){if(q.id===S)return;M.data.move(q.id,M.data.getLength()-1)}else M._addEmptyRow()}switch(R){case"add":case"remove":case"sort":M._normalizeSpans()}M._render()}else(0,d.awaitRedraw)().then(function(){var U=M.config.columns.find(function(V){return V.hidden!==!0});M.scrollTo(M.data.getId(B[0]).toString(),U.id.toString()),M._render()})}),this.data.events.on(s.DataEvents.filter,function(S){S||M.data.getRawFilters({permanent:!0})||M._applyLocalFilter(),!S||(0,s.isOnlyPermanentFilters)(S)?(M._filterData=M.data.map(function(R){return R})||[],M._setUniqueData(),M._clearFilterValue()):M._checkFilters(),M._removeMarks(),M._checkMarks(),M._normalizeSpans(),M.paint()}),this.data.events.on(s.DataEvents.removeAll,function(){M._hiddenFilters={},M.config.columns.map(function(S){S.header.map(function(R){!R.content||R.content!=="selectFilter"&&R.content!=="comboFilter"||(S.$uniqueData=[])})}),(0,l.isEmptyObj)(M._activeFilters)||M.data.resetFilter(),M._clearFilterValue(!0)}),this.events.on(s.DragEvents.beforeDrag,function(S,R){return M.data.getItem(S.start)?M.events.fire(c.GridEvents.beforeRowDrag,[S,R]):M.config.dragItem==="column"||M.config.dragItem==="both"?M.events.fire(c.GridEvents.beforeColumnDrag,[S,R]):void 0}),this.events.on(s.DragEvents.dragStart,function(S,R){var B=S.source,Y=S.target,q=S.start;F({source:B,target:Y,$dragtarget:!0}),M.data.getItem(q)?(M.events.fire(c.GridEvents.dragRowStart,[S,R]),M._autoScroll("vertical")):M.config.dragItem!=="column"&&M.config.dragItem!=="both"||(M.events.fire(c.GridEvents.dragColumnStart,[S,R]),M._autoScroll("horizontal"))}),this.events.on(s.DragEvents.dragIn,function(S,R){M.data.getItem(S.start)?M.events.fire(c.GridEvents.dragRowIn,[S,R]):M.config.dragItem!=="column"&&M.config.dragItem!=="both"||M.events.fire(c.GridEvents.dragColumnIn,[S,R])}),this.events.on(s.DragEvents.dragOut,function(S,R){M.data.getItem(S.start)?M.events.fire(c.GridEvents.dragRowOut,[S,R]):M.config.dragItem!=="column"&&M.config.dragItem!=="both"||M.events.fire(c.GridEvents.dragColumnOut,[S,R])}),this.events.on(s.DragEvents.canDrop,function(S,R){var B=S,Y=B.source,q=B.target,U=B.dragItem;delete S.dragItem,F({source:Y,target:q,$drophere:!0}),U==="row"?M.events.fire(c.GridEvents.canRowDrop,[S,R]):M.config.dragItem!=="column"&&M.config.dragItem!=="both"||M.events.fire(c.GridEvents.canColumnDrop,[S,R])}),this.events.on(s.DragEvents.cancelDrop,function(S,R){var B=S.source,Y=S.target,q=S.start;F({source:B,target:Y,$drophere:void 0,$dragtarget:void 0}),M.data.getItem(q)?M.events.fire(c.GridEvents.cancelRowDrop,[S,R]):M.config.dragItem!=="column"&&M.config.dragItem!=="both"||M.events.fire(c.GridEvents.cancelColumnDrop,[S,R])}),this.events.on(s.DragEvents.beforeDrop,function(S,R){return M.config.dragItem!=="row"||M.config.dragMode!=="both"&&M.config.dragMode!=="target"?M.config.dragItem==="column"||M.config.dragItem==="both"?M.events.fire(c.GridEvents.beforeColumnDrop,[S,R]):void 0:M.events.fire(c.GridEvents.beforeRowDrop,[S,R])}),this.events.on(s.DragEvents.afterDrop,function(S,R){var B,Y;if(M.data.getItem(S.start)){var q=S.source;if(q.some(function(re){return re==S.target}))return;for(var U=M.data.getItem(S.start),V=0,A=M.config.columns;V<A.length;V++){var N=A[V];U[N.id]===void 0&&M.data.update(U.id,((B={})[N.id]=null,B),!0)}var W=M.data.getInitialData(),Q=W==null?void 0:W.findIndex(function(re){return re.id==S.start}),X=W==null?void 0:W.findIndex(function(re){return re.id==S.target});if(Q>-1&&X>-1)if(((Y=S.source)===null||Y===void 0?void 0:Y.length)>1){for(var K=[],ne=function(re){var le=W==null?void 0:W.findIndex(function(de){return de.id==re}),ue=W==null?void 0:W.splice(le,1)[0];K.push(ue)},ie=0,oe=q;ie<oe.length;ie++)ne(oe[ie]);X=W==null?void 0:W.findIndex(function(re){return re.id==S.target}),X>0&&++X,W==null||W.splice.apply(W,g([X,0],K,!1))}else W==null||W.splice(X,0,W==null?void 0:W.splice(Q,1)[0]);M.config.data=M._prepareData(W||M.data.map(function(re){return re})),M.data.parse(M.config.data),M._checkFilters(),M.paint(),M.events.fire(c.GridEvents.afterRowDrop,[S,R])}else M.config.dragItem!=="column"&&M.config.dragItem!=="both"||M.events.fire(c.GridEvents.afterColumnDrop,[S,R])}),this.events.on(s.DragEvents.afterDrag,function(S,R){var B=S.source,Y=S.target,q=S.start;F({source:B,target:Y,$dragtarget:void 0}),M.data.getItem(q)?M.events.fire(c.GridEvents.afterRowDrag,[S,R]):M.config.dragItem!=="column"&&M.config.dragItem!=="both"||M.events.fire(c.GridEvents.afterColumnDrag,[S,R]),M.config.data=M._prepareData(M.data instanceof Array?M.data.map(function(U){return U}):M.data.getInitialData()||M.data),M.data.parse(M.config.data),M._normalizeSpans()}),this.events.on(c.GridEvents.cellMouseDown,function(S,R,B){B.targetTouches?(M._touch.timer=setTimeout(function(){M._dragStart(B)},M._touch.duration),M._touch.timeStamp?(M._touch.dblDuration>=M._touch.timeStamp-+B.timeStamp.toFixed()&&((R.editable!==!1&&M.config.editable||R.editable)&&M.editCell(S.id,R.id,R.editorType),B.preventDefault(),M.events.fire(c.GridEvents.cellDblClick,[S,R,B])),M._touch.timeStamp=null):M._touch.timeStamp=+B.timeStamp.toFixed(),setTimeout(function(){M._touch.timeStamp=null},M._touch.dblDuration)):M._dragStart(B)}),this._events.on(c.GridSystemEvents.cellTouchMove,function(S,R,B){M._touch.start&&B.preventDefault(),M._clearTouchTimer()}),this._events.on(c.GridSystemEvents.cellTouchEnd,function(){M._touch.start=!1,M._clearTouchTimer()}),this.events.on(c.GridEvents.filterChange,function(S,R,B,Y){var q,U,V;if(M.events.fire(c.GridEvents.beforeFilter,[S,R])){if(M.config.autoEmptyRow){var A=M.data.find({by:"$emptyRow",match:!0});A&&M.data.remove(A.id)}M._activeFilters||(M._activeFilters={});var N=M.getColumn(R),W=N.header.filter(function(X){return X.content===B&&X.customFilter!==void 0})[0];if(B==="comboFilter"&&S!==void 0||B!=="comboFilter"&&S!==""){var Q=(0,n.getEditorOptions)(N);N.editorType!=="combobox"&&N.editorType!=="select"&&N.editorType!=="multiselect"||!Q||(S=Array.isArray(S)?S.map(function(X){var K;return((K=Q.find(function(ne){return typeof ne=="string"?ne===X:ne.value===X}))===null||K===void 0?void 0:K.id)||X}):(U=(q=Q.find(function(X){return typeof X=="string"?X===S:X.value===S}))===null||q===void 0?void 0:q.id)!==null&&U!==void 0?U:S),M._activeFilters[R]={by:R,match:S,compare:(V=W==null?void 0:W.customFilter)!==null&&V!==void 0?V:function(X){var K=M.getColumn(X);return function(ne,ie,oe,re){return M.content[B].match({val:ne,match:ie,obj:oe,multi:re,col:K})}}(R),multi:(N==null?void 0:N.editorType)==="multiselect"}}else delete M._activeFilters[R];Y||M.data.filter(M._activeFilters)}}),this.events.on(c.GridEvents.scroll,function(S){M._scroll={top:S.y,left:S.x},M.editEnd(),M.paint()}),this.events.on(c.GridEvents.cellDblClick,function(S,R,B){(0,f.locateNodeByClassName)(B,"dhx_boolean-cell")||S.hasOwnProperty("$groupName")||(R.editable!==!1&&M.config.editable||R.editable)&&M.editCell(S.id,R.id,R.editorType)}),this.events.on(c.GridEvents.afterEditEnd,function(S,R,B){var Y,q;if(!(!((q=M.config.$editable)===null||q===void 0)&&q.editor)||M.config.$editable.col===B.id&&M.config.$editable.row===R.id){var U,V;M.config.$editable?(U=M.config.$editable.row,V=M.config.$editable.col):(U=R.id,V=B.id);var A=M.getSpan(U,V);if((0,l.isDefined)(A==null?void 0:A.text)&&S!==void 0)A.text=S.toString();else{var N=M.data.getItem(U);delete N.$emptyRow,S!==void 0&&M.data.update(U,b(b({},N),((Y={})[V]=S,Y)))}M.config.$editable=null,M.paint()}}),this.events.on(c.GridEvents.headerCellMouseDown,function(S,R){var B=R.target.getAttribute("dhx_resized");B&&M.events.fire(c.GridEvents.beforeResizeStart,[S,R])&&(0,I.startResize)(M,B.toString(),R,function(){M.paint(),M.config.$resizing=null,M.events.fire(c.GridEvents.afterResizeEnd,[S,R])}),R.targetTouches&&(M._touch.timeStamp?(M._touch.dblDuration>=M._touch.timeStamp-+R.timeStamp.toFixed()&&(R.preventDefault(),M.events.fire(c.GridEvents.headerCellDblClick,[S,R])),M._touch.timeStamp=null):M._touch.timeStamp=+R.timeStamp.toFixed(),setTimeout(function(){M._touch.timeStamp=null},M._touch.dblDuration))}),this.events.on(c.GridEvents.footerCellDblClick,function(S,R){R.targetTouches&&(M._touch.timeStamp?(M._touch.dblDuration>=M._touch.timeStamp-+R.timeStamp.toFixed()&&(R.preventDefault(),M.events.fire(c.GridEvents.footerCellDblClick,[S,R])),M._touch.timeStamp=null):M._touch.timeStamp=+R.timeStamp.toFixed(),setTimeout(function(){M._touch.timeStamp=null},M._touch.dblDuration))}),this.events.on(c.GridEvents.resize,function(){return M._parseColumns()}),this.events.on(c.GridEvents.afterResizeEnd,function(S){var R;M.config.columns=(R=M.config.columns)===null||R===void 0?void 0:R.map(function(B){return B.id==S.id&&(B.width=S.$width),B}),M._parseColumns()})},j.prototype._addEmptyRow=function(){var M=this.data.getId(this.data.getLength()-1),F=this.data.getItem(M),S=this.config.columns.filter(function(R){return!R.hidden});(0,e.isRowEmpty)(F)||this.data.add(S.reduce(function(R,B){return R[B.id]="",R},{$emptyRow:!0}))},j.prototype._sort=function(M,F,S){var R=this;F||(F=this._sortBy===M&&this._sortDir==="asc"?"desc":"asc"),this.data.sort({by:M,dir:F,as:S??function(B){var Y=R.getColumn(M);return B&&Y.type==="date"?typeof B=="string"?(0,m.stringToDate)(B,Y.format).getTime():B.getTime():B?"".concat(B):""}}),this.events.fire(c.GridEvents.afterSort,[this.getColumn(M),F])},j.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},j.prototype._checkFilters=function(M){if(M===void 0&&(M=!1),(0,l.isEmptyObj)(this._activeFilters))M&&this.data.resetFilter(),this._filterData=this.data.map(function(S){return S})||[],this._setUniqueData();else{var F=this.data.getRawFilters({permanent:!0});this.data.filter(F,{$restore:!0},!0),this._filterData=this.data.map(function(S){return S})||[],this._setUniqueData(),this.data.filter(null,{$restore:!0},!0),this._filterData=this.data.map(function(S){return S})||[],this._setUniqueData(!0)}},j.prototype._setUniqueData=function(M){var F=this;M===void 0&&(M=!1),this._filterData&&this.config.columns.forEach(function(S){S.header.forEach(function(R){if(R.content&&(R.content==="selectFilter"||R.content==="comboFilter")){var B=S.header.some(function(V){var A;return(A=V.filterConfig)===null||A===void 0?void 0:A.multiselection}),Y=S.header.some(function(V){var A;return(A=V.filterConfig)===null||A===void 0?void 0:A.filter});if(!M||M&&!B&&!Y){var q=(0,n.getUnique)(F._filterData,S.id,B),U=(0,n.getEditorOptions)(S);S.editorType!=="combobox"&&S.editorType!=="select"&&S.editorType!=="multiselect"||!U||(q=q.map(function(V){var A=U.find(function(N){return typeof N=="string"?V===N:V===N.id});return A&&typeof A!="string"?A.value:V})),q=S.type!=="string"?Array.from(new Set(q.map(function(V){return(0,n.toFormat)(V,S.type,S.format)}))):q,M?S.$activeFilterData=q:(S.$uniqueData=q,S.$activeFilterData&&delete S.$activeFilterData)}}})})},j.prototype._checkSelectFilterValue=function(){var M,F=(M=this.content)===null||M===void 0?void 0:M.selectFilter;if(F)for(var S in F.value){var R=this.getColumn(S),B=F.value[S];R.hidden||!B||R.$uniqueData.includes(B)||F.element[S].clear()}},j.prototype._clearFilterValue=function(M){var F=this;M===void 0&&(M=!1),["selectFilter","inputFilter"].map(function(S){var R;return(R=F.content)===null||R===void 0?void 0:R[S]}).filter(function(S){return S}).forEach(function(S){for(var R in S.value)!S.value[R]||!M&&F.getColumn(R).hidden||S.element[R].clear(!0)})},j.prototype._adjustColumns=function(){var M=this;if(typeof this.config.adjust=="boolean"||this.config.adjust==="data"||this.config.adjust==="header"||this.config.adjust==="footer"){if(!(R=this.config.columns.filter(function(B){return!B.hidden})).length)return;var F=this.config.data&&this.config.data.length?this.config.data:this.data.map(function(B){return B}),S=this._adjustColumnsWidth({rows:F,cols:R,totalCols:R});this.config.$totalWidth=R.reduce(function(B,Y){Y.$fixed=!0;var q=Y.maxWidth,U=Y.minWidth,V=S[Y.id];return Y.$width=V,q&&V>q&&(Y.$width=q),U&&Y.$width<U&&(Y.$width=U),B+Y.$width},0)}else{var R;if(!(R=this.config.columns.filter(function(B){return!B.hidden&&B.adjust})).length)return;R.forEach(function(B){M.adjustColumnWidth(B.id,B.adjust)})}},j.prototype._prepareData=function(M){var F=this;return(this.config.autoHeight||this.config.headerAutoHeight||this.config.footerAutoHeight)&&(this.config.autoHeight=this.config.headerAutoHeight=this.config.footerAutoHeight=!1),this._normalizeDataType(),this._adjustColumns(),M.map(function(S){return S.$height=S.height||F.config.rowHeight,S})},j.prototype._adjustColumnsWidth=function(M){var F,S,R,B,Y=this,q=M.rows,U=M.cols,V=M.adjust,A=V===void 0?this.config.adjust:V,N={};if(A==="header"||A===!0){var W=U.filter(function(he){return he.header});if(oe=(0,n.getMaxColsWidth)(this._prepareColumnData(W,"header"),W,{font:"bold 14.4px Arial"},"header"))for(var Q=0,X=Object.entries(oe);Q<X.length;Q++){var K=X[Q],ne=K[0],ie=K[1];N=Object.assign(N,((F={})[ne]=+ie+24+(B=this.getColumn(ne),(0,e.isSortable)(Y.config,B)?16:0),F))}}if(A==="footer"||A===!0){var oe;if(W=U.filter(function(he){return he.footer}),oe=(0,n.getMaxColsWidth)(this._prepareColumnData(W,"footer"),W,{font:"bold 14.4px Arial"},"footer"))for(var re=0,le=Object.entries(oe);re<le.length;re++){var ue=le[re];ne=ue[0],ie=ue[1],(N[ne]&&N[ne]<+ie+24||!N[ne])&&(N=Object.assign(N,((S={})[ne]=+ie+24,S)))}}if((A==="data"||A===!0)&&(oe=(0,n.getMaxColsWidth)(q,U,{font:"normal 14.4px Arial"},"data")))for(var de=0,ge=Object.entries(oe);de<ge.length;de++){var ce=ge[de];ne=ce[0],ie=ce[1],(N[ne]&&N[ne]<+ie+24||!N[ne])&&(N=Object.assign(N,((R={})[ne]=+ie+24,R)))}return N},j.prototype._prepareColumnData=function(M,F){for(var S,R,B,Y,q,U,V,A,N,W,Q,X,K,ne=[],ie=0;ie<M.length;ie++){for(var oe=[],re=0;re<((R=M[ie])===null||R===void 0?void 0:R[F].length);re++){var le={};if(!((Y=(B=M[ie])===null||B===void 0?void 0:B[F][re])===null||Y===void 0)&&Y.text){var ue=(U=(q=M[ie])===null||q===void 0?void 0:q[F][re])===null||U===void 0?void 0:U.htmlEnable;le[M[ie].id]=((A=(V=M[ie])===null||V===void 0?void 0:V[F][re])===null||A===void 0?void 0:A.text)||"",ue&&(le[M[ie].id]=(0,e.removeHTMLTags)(le[M[ie].id])),oe.push(le)}else if(!((W=(N=M[ie])===null||N===void 0?void 0:N[F][re])===null||W===void 0)&&W.content){var de=(Q=this.content)===null||Q===void 0?void 0:Q[(K=(X=M[ie])===null||X===void 0?void 0:X[F][re])===null||K===void 0?void 0:K.content];typeof de.calculate=="function"?le[M[ie].id]=(de==null?void 0:de.toHtml(this.getColumn(M[ie].id),b(b({},this.config),{datacollection:this.data})))||"":le[M[ie].id]="",oe.push(le)}}for(var ge=0;ge<oe.length;ge++)for(var ce=0,he=Object.entries(oe[ge]);ce<he.length;ce++){var ve=he[ce],be=ve[0],xe=ve[1];ne[ge]=b({},ne[ge])||{},ne[ge]=Object.assign(ne[ge],((S={})[be]=xe,S))}}return ne},j.prototype._dragStart=function(M){if(this.config.dragMode&&(this.config.dragItem==="row"||this.config.dragItem==="both")&&!this.config.$editable){var F=this.getColumn(M.target.getAttribute("data-dhx-col-id"));if((F==null?void 0:F.draggable)===!1)return;var S=(0,f.locateNode)(M,"data-dhx-id"),R=S&&S.getAttribute("data-dhx-id");return M.targetTouches&&(this._touch.start=!0),s.dragManager.onMouseDown(M,[R],[this._getRowGhost([R])])}},j.prototype._getRowGhost=function(M){var F=this._container||(0,f.toNode)(this._uid),S=M.map(function(B){return F.querySelector('.dhx_grid-row[data-dhx-id="'.concat(B,'"]'))}),R=document.createElement("div");return S.forEach(function(B){return B&&R.appendChild(B.cloneNode(!0))}),R},j.prototype._initHooks=function(){var M=this;return{didMount:function(){M._canDataParse(!0)&&(M._container||M._applyAutoWidth(),M.data.parse(M.config.data)),M.config.autoWidth&&M._parseColumns()}}},j.prototype._normalizeDataType=function(){var M=this,F=this.config.columns.reduce(function(S,R){return R.type==="number"&&S.push(R),S},[]);F.length&&this.data.forEach(function(S){for(var R,B=0,Y=F;B<Y.length;B++){var q=Y[B],U=(0,n.getValueForNumberColumn)(q,S[q.id]);if(Number.isNaN(U))throw new Error("Incorrect data in column with type 'number', see docs: https://docs.dhtmlx.com/suite/grid/api/api_gridcolumn_properties/");S[q.id]!==U&&M.data.update(S.id,((R={})[q.id]=U,R),!0)}})},j.prototype._applyLocalFilter=function(M){M===void 0&&(M=!1),M?this.data.filter(function(F){return F},{$local:!0},!0):this.data.filter(function(F){return!F.hidden},{$local:!0,permanent:!0},!0)},j.prototype._normalizeSpans=function(){var M,F=this;this.config.spans=(M=this.config.spans)===null||M===void 0?void 0:M.map(function(S){return(0,H.normalizeSpan)(S,F.config,F.data)})},j.prototype._canDataParse=function(M){var F;return M===void 0&&(M=!1),!!(!((F=this.config.data)===null||F===void 0)&&F.length&&this.config.data instanceof Array&&this.config.columns)&&(this.config.autoWidth&&this.config.autoHeight?M:!M)},j.prototype._init=function(){this.events=new _.EventSystem(this),this._events=new _.EventSystem(this),this._attachDataCollection(),this.export=new t.Exporter("grid",this.version,this),this._setEventHandlers()},j.prototype._attachDataCollection=function(){var M=this;if(this.config.data instanceof s.DataCollection)return this.data=this.config.data,this.data.config.collapsed=this.config.collapsed,void(this.config.data=this.data.serialize());this._createCollection(function(F){return F.spans&&(M.config.spans=F.spans,F=F.data),F})},j.prototype._setMarks=function(M,F){for(var S=[],R=0,B=this.data.map(function(U){return S.push(U[M.id]),{id:U.id,data:U[M.id],row:U}});R<B.length;R++){var Y=B[R],q=F(Y.data,S,Y.row,M);q&&(M.$cellCss=M.$cellCss||{},M.$cellCss[Y.id]+=" "+q)}},j.prototype._checkMarks=function(){var M=this;this.config.columns.map(function(F){var S=F.mark;S&&(typeof S=="function"?M._setMarks(F,S):M._setMarks(F,function(R,B){var Y=[];B.forEach(function(V){V!=null&&V!==""&&Y.push(parseFloat(V))});var q=(0,l.getMinArrayNumber)(Y),U=(0,l.getMaxArrayNumber)(Y);return S.max&&U===parseFloat(R)?S.max:!(!S.min||q!==parseFloat(R))&&S.min}))})},j.prototype._removeMarks=function(){this.config.columns.forEach(function(M){M.mark&&(M.$cellCss={})})},j.prototype._detectColsTypes=function(){this.config.columns.forEach(function(M){return M.type?M:M.format?(M.type="number",M):void(M.type||(M.type="string"))})},j.prototype._destroyContent=function(){for(var M in this.content)M==="comboFilter"&&this.content[M].destroy()},j.prototype._render=function(){this.paint()},j.prototype._initHotKey=function(M){M===void 0&&(M=!1);var F=(0,P.getKeysHandlers)(this);for(var S in F)this.keyManager.exist(S)||this.keyManager.addHotKey(S,F[S]);if(!M)for(var S in this.config.hotkeys)this.keyManager.addHotKey(S,this.config.hotkeys[S])},j.prototype._normalizeConfig=function(M){return Object.keys(M).forEach(function(F){F.startsWith("$")&&delete M[F]}),M},j.prototype._autoScroll=function(M){var F,S,R,B=!((F=this.scrollView)===null||F===void 0)&&F.config.enable?(S=this.getRootNode())===null||S===void 0?void 0:S.querySelector(".scroll-view"):(R=this.getRootNode())===null||R===void 0?void 0:R.querySelector(".dhx_grid-body");if(B){var Y=null,q=B.getBoundingClientRect(),U=q.top,V=q.bottom,A=q.left,N=q.right,W=q.height,Q=q.width,X=function(ne){ne==="up"||ne==="down"?B.scrollBy(0,ne==="up"?-40:40):B.scrollBy(ne==="left"?-40:40,0),Y=setTimeout(function(){X(ne)},100)},K=function(ne){var ie=ne.clientX,oe=ne.clientY;switch(M){case"horizontal":ie>N-30&&ie<N&&oe>U&&oe<V?Y||X("right"):ie>A&&ie<A+30&&oe>U&&oe<V?Y||X("left"):Y&&(clearTimeout(Y),Y=null);break;case"vertical":oe>V-30&&oe<V&&ie>A&&ie<N?Y||X("down"):oe>U&&oe<U+30&&ie>A&&ie<N?Y||X("up"):Y&&(clearTimeout(Y),Y=null)}};(Q<B.scrollWidth||W<B.scrollHeight)&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",function(){document.removeEventListener("pointermove",K),Y&&clearTimeout(Y)},{once:!0}))}},j.prototype._applyAutoWidth=function(){var M,F,S=this._container||((M=this.getRootView().node.parent)===null||M===void 0?void 0:M.el);if(S){var R=(0,v.getElementSizes)(S),B=(F=this.scrollView)===null||F===void 0?void 0:F.config.enable;(0,v.applyAutoWidth)(this.config,R,!0,!1,B)}},j}(r.View);p.Grid=$},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(145),p),C(x(78),p)},function(O,p,x){var w,C=this&&this.__extends||(w=function(s,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])},w(s,t)},function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=s}w(s,t),s.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__assign||function(){return b=Object.assign||function(s){for(var t,n=1,i=arguments.length;n<i;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e]);return s},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Cell=void 0;var y=x(1),g=x(0),d=x(5),_=x(50),f=x(146),l=x(3),u=x(49),r=function(s){function t(n,i){var e=s.call(this,n,i)||this;e._disabled=[];var a=n;return a&&a.isVisible&&(e._parent=a),e._parent&&e._parent.events?e.events=e._parent.events:e.events=new l.EventSystem(e),e.config.full=e.config.full===void 0?!!(e.config.header||e.config.collapsable||e.config.headerHeight||e.config.headerIcon||e.config.headerImage):e.config.full,e._afterWindowResized=e._resizedWindow.bind(e),e.id=e.config.id||(0,y.uid)(),e._initHandlers(),e._progress=!!e.config.progressDefault,e._stopProgressDefault=!1,e._isXDirection()&&!i.width&&(i.$autoWidth=!0),e._isXDirection()||i.height||(i.$autoHeight=!0),e}return C(t,s),t.prototype.paint=function(){var n;if(this.isVisible()){var i=this.getRootView();i?i.redraw():(n=this._parent)===null||n===void 0||n.paint()}},t.prototype.isVisible=function(){var n;if(!this._parent)return!(!this._container||!this._container.tagName)||!!this.getRootNode();var i=(n=this._parent.config)===null||n===void 0?void 0:n.activeView;return(!i||i===this.id)&&!this.config.hidden&&(!this._parent||this._parent.isVisible())},t.prototype.hide=function(){this.events.fire(_.LayoutEvents.beforeHide,[this.id])&&(this.config.hidden=!0,this._resetCellsSize(),this._parent&&this._parent.paint&&this._parent.paint(),this.events.fire(_.LayoutEvents.afterHide,[this.id]))},t.prototype.show=function(){this.events.fire(_.LayoutEvents.beforeShow,[this.id])&&(this._parent&&this._parent.config&&this._parent.config.activeView!==void 0?this._parent.config.activeView=this.id:this.config.hidden=!1,this._parent&&!this._parent.isVisible()&&this._parent.show(),this.paint(),this.events.fire(_.LayoutEvents.afterShow,[this.id]))},t.prototype.expand=function(){this.events.fire(_.LayoutEvents.beforeExpand,[this.id])&&(this.config.collapsed=!1,this._checkNextSize()||this._checkNextSize(this._getAnyFlexCell()),this.events.fire(_.LayoutEvents.afterExpand,[this.id]),this.paint())},t.prototype.collapse=function(){this.events.fire(_.LayoutEvents.beforeCollapse,[this.id])&&(this.config.collapsed=!0,this._checkNextSize()||this._checkNextSize(this._getAnyFlexCell()),this.events.fire(_.LayoutEvents.afterCollapse,[this.id]),this.paint())},t.prototype.toggle=function(){this.config.collapsed?this.expand():this.collapse()},t.prototype._checkNextSize=function(n){var i=n??this._getNextCell();return!!i&&(this._isXDirection()&&i.config.$autoWidth&&i.config.width?(i.config.width=void 0,!0):!this._isXDirection()&&i.config.$autoHeight&&i.config.height?(i.config.height=void 0,!0):!n&&i._checkNextSize())},t.prototype.getParent=function(){return this._parent},t.prototype.destructor=function(){var n;this.events&&this.events.clear(),window.removeEventListener("resize",this._afterWindowResized),this._ui&&this._ui.config&&typeof((n=this._ui)===null||n===void 0?void 0:n.destructor)=="function"&&this._ui.destructor(),this.config=this.events=this.id=this._parent=this._handlers=this._uid=this._disabled=this._resizerHandlers=null,this.unmount()},t.prototype.getWidget=function(){return this._ui},t.prototype.getCellView=function(){return this._parent&&this._parent.getRefs(this._uid)},t.prototype.attach=function(n,i){return this.config.html=null,typeof n=="object"?this._ui=n:typeof n=="string"?this._ui=new window.dhx[n](null,i):typeof n=="function"&&(n.prototype instanceof d.View?this._ui=new n(null,i):this._ui={getRootView:function(){return n(i)}}),this.paint(),this._ui},t.prototype.attachHTML=function(n){this.config.html=n,this.paint()},t.prototype.detach=function(){this._stopProgressDefault=!1,this._ui=this.config.html=null,this.paint()},t.prototype.progressShow=function(){this.config.progressDefault&&(this._stopProgressDefault=!1),this._progress=!0,this.paint()},t.prototype.progressHide=function(){this.config.progressDefault&&(this._stopProgressDefault=!0),this._progress=!1,this.paint()},t.prototype.isVisibleProgress=function(){return this._progress},t.prototype.toVDOM=function(n){var i,e;if(this.config===null&&(this.config={}),!this.config.hidden){var a,c=this.config.$fieldset,v=this._calculateStyle(),m=(0,y.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",k=this.config.full||this.config.html?v:b(b({},v),m),I=this._checkProgress()?this._getProgressBar():null;if(!this.config.html)if(this._ui){var P=this._ui.getRootView();P.render&&(P=(0,g.inject)(P)),a=[P]}else a=n||null;var T=this.config.resizable&&!this._isLastCell()&&this._getNextCell()&&!this.config.collapsed?(0,g.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),b(b({},this._resizerHandlers),{_ref:"resizer_"+this._uid,tabindex:0}),[(0,g.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]):null,H={};if(this.config.on)for(var $ in this.config.on)H["on"+$]=this.config.on[$];var L="",j=this.config.cols||this.config.rows;if(this.config.type&&j)switch(this.config.type){case"line":L=" dhx_layout-line";break;case"wide":L=" dhx_layout-wide";break;case"space":L=" dhx_layout-space"}var M=c?(0,g.el)("fieldset.dhx_form-fieldset",{class:this.config.$disabled?" dhx_form-fieldset--disabled":"",style:m,disabled:this.config.$disabled},[(0,g.el)("legend.dhx_form-fieldset-legend",{class:"dhx_form-fieldset-legend--".concat(this.config.labelAlignment||"left")},this.config.label),(0,g.el)(".dhx_layout-cell-content",{class:this._getCss(!1)},[].concat(a))]):this.config.full?[(0,g.el)("div",{tabindex:this.config.collapsable?"0":"-1",role:this.config.collapsable?"button":null,"aria-label":this.config.collapsable?"click to ".concat(this.config.collapsed?"expand":"collapse"):null,class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,g.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,g.el)(".dhx_layout-cell-header__image-wrapper",[(0,g.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,g.el)("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?(0,g.el)("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):(0,g.el)("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,g.el)("div",{style:b(b({},m),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?L:"")},this.config.html?[(0,g.el)("div",{".innerHTML":this.config.html,class:"dhx_layout-cell dhx_layout-cell-inner_html"})]:a)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?a:[this.config.collapsed?null:(0,g.el)(".dhx_layout-cell-content",{style:m},[(0,g.el)(".dhx_layout-cell-inner_html",{".innerHTML":this.config.html})])],F=(0,g.el)("div",b(b(((i={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,i["data-cell-id"]=(e=this.config.id)!==null&&e!==void 0?e:null,i),H),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?L:""),style:c?v:k}),M||I?[].concat(M,I):null);return T?[].concat(F,T):F}},t.prototype._getProgressBar=function(){return(0,g.el)("span",{class:"dhx_progress-bar"},[(0,g.sv)("svg",{viewBox:"25 25 50 50",class:"dhx_spinner"},[(0,g.sv)("circle",{cx:"50",cy:"50",r:"20",class:"path"})])])},t.prototype._getCss=function(n){return"dhx_layout-cell"},t.prototype._initHandlers=function(){var n=this;window.addEventListener("resize",this._afterWindowResized),this._handlers={enterCollapse:function(m){m.keyCode===13&&n._handlers.toggle()},collapse:function(){n.config.collapsable&&n.collapse()},expand:function(){n.config.collapsable&&n.expand()},toggle:function(){n.config.collapsable&&n.toggle()}};var i={left:null,top:null,isActive:!1,range:null,xLayout:null,nextCell:null,size:null,resizerLength:null,margin:null,collapsedSize:null},e=function(m,k){if(k===void 0&&(k={x:0,y:0}),i.isActive){var I=i.xLayout,P=m.targetTouches?m.targetTouches[0].clientX:m.clientX+k.x,T=m.targetTouches?m.targetTouches[0].clientY:m.clientY+k.y,H=I?P-i.range.min+window.pageXOffset:T-i.range.min+window.pageYOffset,$=I?"width":"height";H<0?H=i.resizerLength/2:H>i.size&&(H=i.size-i.resizerLength);var L=function(F){var S;return parseInt((S=n.config[F])===null||S===void 0?void 0:S.toString())},j=L(I?"maxWidth":"maxHeight"),M=L(I?"minWidth":"minHeight");(!j||H<j)&&(!M||H>M)&&(n.config[$]=H-i.resizerLength/2+"px",i.nextCell.config[$]=i.size-H-i.resizerLength/2+"px",i.nextCell._getAnyFlexCell()&&(i.nextCell._getAnyFlexCell().config[$]=void 0),n.paint(),n.events.fire(_.LayoutEvents.resize,[n.id]))}},a={},c=function(m){if(i.isActive=!1,document.body.classList.remove("dhx_no-select--resize"),m.targetTouches)for(var k in document.removeEventListener("touchend",c),document.removeEventListener("touchmove",e),a)a[k].node.contentWindow.document.removeEventListener("touchend",c),a[k].node.contentWindow.document.removeEventListener("touchmove",a[k].listener);else for(var k in document.removeEventListener("mouseup",c),document.removeEventListener("mousemove",e),a)a[k].node.contentWindow.document.removeEventListener("mouseup",c),a[k].node.contentWindow.document.removeEventListener("mousemove",a[k].listener);n.events.fire(_.LayoutEvents.afterResizeEnd,[n.id])},v=function(m){if(m.targetTouches&&m.preventDefault(),m.which!==3&&(i.isActive&&c(m),n.events.fire(_.LayoutEvents.beforeResizeStart,[n.id]))){document.body.classList.add("dhx_no-select--resize");var k=n.getCellView(),I=n._getNextCell(),P=I.getCellView(),T=n._getResizerView(),H=k.el.getBoundingClientRect(),$=T.el.getBoundingClientRect(),L=P.el.getBoundingClientRect();i.xLayout=n._isXDirection(),i.left=H.left+window.pageXOffset,i.top=H.top+window.pageYOffset,i.collapsedSize=n._getCollapsedSize(n,I),i.margin=(0,f.getMarginSize)(n.getParent().config),i.range=(0,f.getBlockRange)(H,L,i.xLayout),i.size=i.range.max-i.range.min-i.margin-i.collapsedSize,i.isActive=!0,i.nextCell=I,i.resizerLength=i.xLayout?$.width:$.height}};this._resizerHandlers={onmousedown:function(m){v(m),document.addEventListener("mouseup",c),document.addEventListener("mousemove",e);var k=document.querySelectorAll("iframe");if(k.length)for(var I in k.forEach(function(P,T){var H={x:P.getBoundingClientRect().x,y:P.getBoundingClientRect().y};a[T]={node:P,listener:function($){return e($,H)}}}),a)a[I].node.contentWindow.document.addEventListener("mouseup",c),a[I].node.contentWindow.document.addEventListener("mousemove",a[I].listener)},ontouchstart:function(m){v(m),document.addEventListener("touchend",c),document.addEventListener("touchmove",e);var k=document.querySelectorAll("iframe");if(k.length)for(var I in k.forEach(function(P,T){var H={x:P.getBoundingClientRect().x,y:P.getBoundingClientRect().y};a[T]={node:P,listener:function($){return e($,H)}}}),a)a[I].node.contentWindow.document.addEventListener("touchend",c),a[I].node.contentWindow.document.addEventListener("touchmove",a[I].listener)},ondragstart:function(m){return m.preventDefault()}}},t.prototype._getCollapsedSize=function(n,i){var e=0,a=this._parent,c=a._cells.indexOf(n),v=a._cells.indexOf(i);if(v-c==1)return e;for(var m=c+1;m<v;m++)a._cells[m].config.collapsed&&(this._isXDirection()?e+=45:e+=Number(a._cells[m].config.headerHeight)||37);return e},t.prototype._getCollapseIcon=function(){return this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-right":this._isXDirection()&&!this.config.collapsed?"dxi dxi-chevron-left":!this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-up":this._isXDirection()||this.config.collapsed?void 0:"dxi dxi-chevron-down"},t.prototype._isLastCell=function(){var n=this._parent;return n&&n._cells.indexOf(this)===n._cells.length-1},t.prototype._getNextCell=function(){var n=this._parent,i=n._cells.indexOf(this),e=!this._isLastCell()&&n._cells[i+1];return!!e&&(e.config.hidden||e.config.collapsed?e._getNextCell():e)},t.prototype._getAnyFlexCell=function(n){var i,e=this;n===void 0&&(n=!1);var a=this._parent,c=this._isXDirection()?"$autoWidth":"$autoHeight",v=(i=a==null?void 0:a._cells)===null||i===void 0?void 0:i.filter(function(m){return m.config[c]===!0&&(!!n||m.id!==e.id)});return!!(v!=null&&v.length)&&v[v.length-1]},t.prototype._getResizerView=function(){return this._parent.getRefs("resizer_"+this._uid)},t.prototype._isXDirection=function(){return this._parent&&this._parent._xLayout},t.prototype._checkProgress=function(){return this instanceof u.Layout?this.isVisibleProgress():(this._calculateProgressState(),(this._progress||this._checkAutoProgress())&&!this.config.collapsed&&!this.config.hidden&&!this._parent.isVisibleProgress())},t.prototype._checkAutoProgress=function(){if(this._stopProgressDefault)return!1;var n=this.config,i=n.html;return n.progressDefault&&!this._ui&&!i},t.prototype._calculateProgressState=function(){if(!this._stopProgressDefault){var n=this.config,i=n.html,e=n.progressDefault;!e||this._ui||i||(this._progress=!0),e&&(this._ui||i)&&(this._progress=!1)}},t.prototype._calculateStyle=function(){var n=this.config;if(n){var i={},e=!1,a=!1;isNaN(Number(n.width))||(n.width=n.width+"px"),isNaN(Number(n.height))||(n.height=n.height+"px"),isNaN(Number(n.minWidth))||(n.minWidth=n.minWidth+"px"),isNaN(Number(n.minHeight))||(n.minHeight=n.minHeight+"px"),isNaN(Number(n.maxWidth))||(n.maxWidth=n.maxWidth+"px"),isNaN(Number(n.maxHeight))||(n.maxHeight=n.maxHeight+"px"),n.width==="content"&&(e=!0),n.height==="content"&&(a=!0);var c=n,v=c.width,m=c.height,k=c.cols,I=c.rows,P=c.minWidth,T=c.minHeight,H=c.maxWidth,$=c.maxHeight,L=c.gravity,j=c.collapsed,M=c.$fixed,F=Math.sign(L)===-1?0:L;typeof L=="boolean"&&(F=L?1:0);var S=typeof L=="boolean"?!L:Math.sign(L)===-1;this._isXDirection()?(M||v||L===void 0&&(P||H))&&(S=!0):(M||m||L===void 0&&(T||$))&&(S=!0);var R=this._checkFullSizeCell(),B=S&&!R?0:R?1:F||1,Y=this._isXDirection()?"x":"y";if(P===void 0||j||(i.minWidth=P),T===void 0||j||(i.minHeight=T),H!==void 0&&(i.maxWidth=H),$!==void 0&&(i.maxHeight=$),this._parent===void 0&&!Y!==void 0&&(Y=!0),R||v===void 0||v==="content"){if(Y===!0)i.width="100%";else if(Y==="x")if(e)i.flex="0 0 auto";else{var q=this._isXDirection()?"1px":"auto";i.flex="".concat(B," ").concat(k||I?"0 ".concat(q):"1 auto")}}else i.width=v;return R||m===void 0||m==="content"?Y===!0?i.height="100%":Y==="y"&&(a?i.flex="0 0 auto":(q=this._isXDirection()?"auto":"1px",i.flex="".concat(B," ").concat(k||I?"0 ".concat(q):"1 auto"))):i.height=m,Y===!0&&n.width===void 0&&n.height===void 0&&(i.flex="".concat(B," 1 auto")),j&&(this._isXDirection()?i.width="auto":i.height="auto",i.flex="0 0 auto"),i}},t.prototype._resizedWindow=function(){var n;if(this._isLastFlexCell===void 0?this._isLastFlexCell=((n=this._getAnyFlexCell(!0))===null||n===void 0?void 0:n.id)===this.id:this._isLastFlexCell||window.removeEventListener("resize",this._afterWindowResized),this._isLastFlexCell){var i=this._isXDirection()?"width":"height";this.config[i]=void 0,this.paint()}},t.prototype._resetCellsSize=function(){var n=this,i=this._parent._cells.filter(function(v){return v!==n&&!v.config.hidden&&!v.config.collapsed}),e=this._isXDirection(),a=e?"$autoWidth":"$autoHeight",c=e?"width":"height";i.forEach(function(v){v.config[a]&&(v.config[c]=void 0)})},t.prototype._checkFullSizeCell=function(){var n=this;if(!this._parent)return!1;var i=this._isXDirection()?"$autoWidth":"$autoHeight";if(!this.config[i])return!1;var e=this._parent._cells.filter(function(a){return a!==n&&!a.config.hidden});return!!e.length&&e.every(function(a){return a.config.collapsed})},t}(d.View);p.Cell=r},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(149),p),C(x(77),p)},function(O,p,x){var w;Object.defineProperty(p,"__esModule",{value:!0}),p.PopupEvents=void 0,function(C){C.beforeHide="beforeHide",C.beforeShow="beforeShow",C.afterHide="afterHide",C.afterShow="afterShow",C.click="click"}(w||(p.PopupEvents=w={}))},function(O,p,x){var w;Object.defineProperty(p,"__esModule",{value:!0}),p.SliderEvents=void 0,function(C){C.beforeChange="beforeChange",C.change="change",C.focus="focus",C.blur="blur",C.keydown="keydown",C.mousedown="mousedown",C.mouseup="mouseup"}(w||(p.SliderEvents=w={}))},function(O,p,x){var w;Object.defineProperty(p,"__esModule",{value:!0}),p.TimepickerEvents=void 0,function(C){C.beforeChange="beforeChange",C.change="change",C.beforeApply="beforeApply",C.afterApply="afterApply",C.beforeClose="beforeClose",C.afterClose="afterClose",C.apply="apply",C.close="close",C.save="save"}(w||(p.TimepickerEvents=w={}))},function(O,p,x){var w;Object.defineProperty(p,"__esModule",{value:!0}),p.CalendarEvents=void 0,function(C){C.change="change",C.beforeChange="beforechange",C.modeChange="modeChange",C.monthSelected="monthSelected",C.yearSelected="yearSelected",C.cancelClick="cancelClick",C.dateMouseOver="dateMouseOver",C.dateHover="dateHover"}(w||(p.CalendarEvents=w={}))},function(O,p,x){var w,C=this&&this.__extends||(w=function(k,I){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,T){P.__proto__=T}||function(P,T){for(var H in T)Object.prototype.hasOwnProperty.call(T,H)&&(P[H]=T[H])},w(k,I)},function(k,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function P(){this.constructor=k}w(k,I),k.prototype=I===null?Object.create(I):(P.prototype=I.prototype,new P)}),b=this&&this.__spreadArray||function(k,I,P){if(P||arguments.length===2)for(var T,H=0,$=I.length;H<$;H++)!T&&H in I||(T||(T=Array.prototype.slice.call(I,0,H)),T[H]=I[H]);return k.concat(T||Array.prototype.slice.call(I))};Object.defineProperty(p,"__esModule",{value:!0}),p.Combobox=p.$template=void 0;var y=x(1),g=x(0),d=x(3),_=x(2),f=x(156),l=x(5),u=x(8),r=x(16),s=x(81),t=x(11),n=x(160),i=x(84),e=x(35),a=x(85),c=x(86);function v(k,I){return typeof I=="function"?I(k):k+" "+i.default.selectedItems}p.$template=function(k){return k.icon?(0,g.el)("div.dhx_combobox-options-wrapper",[(0,g.el)("span",{class:"".concat(k.icon," dhx_combobox-options__icon")}),(0,g.el)("span",{class:"dhx_combobox-options__value"},k.value)]):k.src?(0,g.el)("div.dhx_combobox-options-wrapper",[(0,g.el)("img",{class:"dhx_combobox-options__image",alt:k.value,src:k.src}),(0,g.el)("span",{class:"dhx_combobox-options__value"},k.value)]):(0,g.el)("span",{class:"dhx_combobox-options__value"},k.value)};var m=function(k){function I(P,T){var H=k.call(this,P,(0,y.extend)({listHeight:224,disabled:!1,readOnly:!1,newOptions:!1,htmlEnable:!0},T))||this;H.config.itemsCount=H.config.itemsCount||H.config.showItemsCount,H.config.helpMessage=H.config.helpMessage||H.config.help,H.config.cellHeight&&H.config.itemHeight===36&&(H.config.itemHeight=H.config.cellHeight),H.config.labelInline&&(H.config.labelPosition="left"),Array.isArray(H.config.data)?(H.events=new d.EventSystem(H),H.data=new u.DataCollection({}),H.data.parse(H.config.data)):H.config.data?(H.data=H.config.data,H.events=new d.EventSystem(H),H.events.context=H):(H.events=new d.EventSystem(H),H.data=new u.DataCollection({})),H.popup=new t.Popup,H.popup.events.on(t.PopupEvents.afterShow,function(){H.paint()}),H.popup.events.on(t.PopupEvents.afterHide,function(){H.config.multiselection&&(H._state.value=""),H.paint()}),H.popup.events.on(t.PopupEvents.beforeHide,function(L){L&&H._hideOptions()}),(H.config.readonly||H.config.readOnly)&&(H.config.readOnly=H.config.readOnly||H.config.readonly,H._keyListener=new n.KeyListener),H._state={value:"",ignoreNext:!1,canDelete:!1,unselectActive:!1,currentState:c.ComboState.default,creatingState:!1},H._initHandlers(),H._createLayout(),H.config.value&&H._setValue(H.config.value,!0),H._initEvents();var $=(0,g.create)({render:function(){return H._draw()},hooks:{didRedraw:function(){H.popup.isVisible()&&(H.focus(),H._configurePopup())}}});return H.mount(P,$),H}return C(I,k),I.prototype.focus=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.focus()},I.prototype.blur=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.blur(),this.popup.hide()},I.prototype.enable=function(){this.config.disabled=!1,this.paint()},I.prototype.disable=function(){this.config.disabled=!0,this.paint()},I.prototype.isDisabled=function(){return this.config.disabled},I.prototype.clear=function(){this.list.selection.remove(),this._state.value="",this._filter(),this.paint()},I.prototype.getValue=function(P){var T=this.list.selection.getId();return P?(0,y.wrapBox)(T):Array.isArray(T)?T.join(","):T},I.prototype.setValue=function(P,T){return this._setValue(P,T)},I.prototype.addOption=function(P,T){if(T===void 0&&(T=!0),P){var H;typeof P=="string"?H=this.data.add({value:P}):typeof P=="object"&&(H=this.data.add(P));var $=this.config.multiselection&&T?b(b([],this.list.selection.getId(),!0),[H],!1):H;this.setValue($)}},I.prototype.destructor=function(){this.popup&&this.popup.destructor(),this.events&&this.events.clear(),this.list&&this.list.destructor(),this._helper&&this._helper.destructor(),this._layout&&this._layout.destructor(),this._keyListener&&this._keyListener.destructor(),this.config=this.events=this.list=this.popup=null,this._helper=this._keyListener=this._handlers=this._state=this._uid=this._isPopupConfiqureted=null,this.unmount()},I.prototype.setState=function(P){switch(P){case"success":this._state.currentState=c.ComboState.success;break;case"error":this._state.currentState=c.ComboState.error;break;default:this._state.currentState=c.ComboState.default}this.paint()},I.prototype._setValue=function(P,T){var H=this;if(T===void 0&&(T=!1),!this._exsistId(P))return!1;if(this._filter(),this.list.selection.remove(null,T),this.config.multiselection)typeof P=="string"&&(P=P.split(",")),typeof P=="number"&&(P=[P]),P.forEach(function(j){H.list.selection.add(j,!1,!1,T)});else{var $=(0,y.unwrapBox)(P);this.list.selection.add($,!1,!1,T);var L=this.data.getItem($);L&&(this._state.value=this._getItemText(L))}this.paint()},I.prototype._createLayout=function(){var P=this.list=new s.List(null,{$template:p.$template,template:this.config.template,htmlEnable:this.config.htmlEnable,virtual:this.config.virtual,keyNavigation:!0,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),T=this._layout=new r.Layout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll,".dhx_combobox-options__action-create-option":this._handlers.addOption}}});T.getCell("list").attach(P),this.config.multiselection&&this.config.selectAllButton&&T.getCell("select-unselect-all").attach(a.selectAllView)},I.prototype._initHandlers=function(){var P=this;this.config.helpMessage&&(this._helper=new t.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={addOption:function(){return P.addOption(P._state.value)},showHelper:function(T){T.preventDefault(),T.stopPropagation(),P._helper.show(T.target,{mode:P.config.labelPosition==="left"?"bottom":"right",theme:T.target})},selectAll:function(){P._state.unselectActive?(P.list.selection.remove(),P.config.selectAllButton&&(P._layout.getCell("select-unselect-all").attach(a.selectAllView),P._state.unselectActive=!1)):(P.data.filter(),P.list.selection.add(),P.config.selectAllButton&&(P._layout.getCell("select-unselect-all").attach(a.unselectAllView),P._state.unselectActive=!0)),P._changePopupPosition(),P.paint()},onkeydown:function(T){if(T.key==="Tab"&&P.popup.isVisible())P._hideOptions();else if(P.popup.isVisible()||T.which!==f.KEY_CODES.DOWN_ARROW||P._showOptions(),P.popup.isVisible()&&(T.which===f.KEY_CODES.RIGHT_ARROW&&P.config.readOnly&&!P.config.multiselection&&(P.list.moveFocus(s.MOVE_DOWN),T.preventDefault()),T.which===f.KEY_CODES.LEFT_ARROW&&P.config.readOnly&&!P.config.multiselection&&(P.list.moveFocus(s.MOVE_UP),T.preventDefault()),T.which===f.KEY_CODES.DOWN_ARROW&&(P.list.moveFocus(s.MOVE_DOWN),T.preventDefault()),T.which===f.KEY_CODES.UP_ARROW&&(P.list.moveFocus(s.MOVE_UP),T.preventDefault()),T.which===f.KEY_CODES.ESC&&P._hideOptions(),T.which===f.KEY_CODES.ENTER)){if(P.data.getLength()){var H=P.list.getFocus(),$=P.config.multiselection?b(b([],P.list.selection.getId(),!0),[H],!1):H;P.setValue($)}else P.config.newOptions&&P.addOption(P._state.value,!0);P.config.multiselection?P._updatePopup():P.data.getLength()&&P._hideOptions()}P.events.fire(c.ComboboxEvents.keydown,[T,P.list.getFocus()])},onkeyup:function(T){if(P.config.multiselection&&!P.config.itemsCount){if(P._state.ignoreNext)P._state.ignoreNext=!1;else if(T.which===f.KEY_CODES.BACKSPACE&&!P._state.value&&P.config.multiselection&&P.list.selection.getId().length){var H=P.list.selection.getId(),$=H[H.length-1];P.list.selection.remove($),P._changePopupPosition(),P.paint()}}},oninput:function(T){if(!P.config.disabled){var H=T.target.value;P.events.fire(c.ComboboxEvents.input,[H]),P._state.value=H,P._filter(!0),H.length?P._state.canDelete=!1:(P._state.ignoreNext=!0,P._state.canDelete=!0),P.config.multiselection||(P.list.selection.remove(),P.paint()),P.popup.isVisible()||P._showOptions(),P._updatePopup()}},oninputclick:function(T){var H;if(!P.config.disabled){if(P.focus(),T.target.classList.contains("dhx_combobox__action-remove")){var $=(H=P.data.getItem((0,_.locate)(T)))===null||H===void 0?void 0:H.id;return(0,y.isId)($)?(P.list.selection.remove($),P._changePopupPosition(),void P.paint()):void 0}if(T.target.classList.contains("dhx_combobox__action-clear-all"))return P.list.selection.getId().forEach(function(L){return P.list.selection.remove(L)}),P.config.selectAllButton&&P._state.unselectActive&&(P._layout.getCell("select-unselect-all").attach(a.selectAllView),P._state.unselectActive=!1),void P.paint();T.preventDefault(),P.popup.isVisible()?P.focus():P._showOptions()}},toggleIcon:function(){P.focus(),P.popup.isVisible()?P._hideOptions():P._showOptions()},onfocus:function(){var T;return(T=P.events)===null||T===void 0?void 0:T.fire(c.ComboboxEvents.focus,[])},onblur:function(){var T;return(T=P.events)===null||T===void 0?void 0:T.fire(c.ComboboxEvents.blur,[])}}},I.prototype._initEvents=function(){var P=this;this.data.events.on(u.DataEvents.load,function(){P.config.value&&P._setValue(P.config.value,!0),P._filter()}),this.data.events.on(u.DataEvents.afterAdd,function(){P.config.multiselection?P._changePopupPosition():P._hideOptions()}),this.list.events.on(s.ListEvents.click,function(){P.config.multiselection||P._hideOptions(),P._changePopupPosition()}),this.list.selection.events.on(e.SelectionEvents.beforeSelect,function(T){var H=P.config.multiselection?b(b([],P.getValue(P.config.multiselection),!0),[T],!1):T;return P.events.fire(c.ComboboxEvents.beforeChange,[H])}),this.list.selection.events.on(e.SelectionEvents.afterSelect,function(){var T=P.getValue(P.config.multiselection);P.events.fire(c.ComboboxEvents.change,[T]),P._updateSelectedItem(T)}),this.list.selection.events.on(e.SelectionEvents.beforeUnSelect,function(T){var H=P.config.multiselection?P.getValue(P.config.multiselection).filter(function($){return $!=T}):T;return P.events.fire(c.ComboboxEvents.beforeChange,[H])}),this.list.selection.events.on(e.SelectionEvents.afterUnSelect,function(){var T=P.config.multiselection,H=P.getValue(T);P.events.fire(c.ComboboxEvents.change,[H]),T&&P._updateSelectedItem(H)}),this.popup.events.on(t.PopupEvents.beforeShow,function(){if(!P.popup.isVisible()&&!P._isPopupConfiqureted)return P._configurePopup(),!1}),this.config.readOnly&&this.popup.events.on(t.PopupEvents.afterShow,function(){if(P._state.value){var T=P.list.selection.getId();P.list.setFocus(T)}else P.list.setFocus(P.data.getId(0));P._keyListener.startNewListen(function(H){return P._findBest(H)})})},I.prototype._showOptions=function(){this.events.fire(c.ComboboxEvents.beforeOpen)&&(this._state.value.length&&(this._state.canDelete=!0),this._filter(),this._configurePopup()&&(this.events.fire(c.ComboboxEvents.open),this.events.fire(c.ComboboxEvents.afterOpen)))},I.prototype._configurePopup=function(){this._isPopupConfiqureted=!0;var P=this.getRootView();return!!(P&&P.refs&&P.refs.holder)&&(this.popup.isVisible()||this._updatePopup(),!0)},I.prototype._hideOptions=function(){var P=this;this.events.fire(c.ComboboxEvents.beforeClose)&&(this.config.readOnly&&this._keyListener.endListen(),this.list.setFocus(this.data.getId(0)),this.config.multiselection||this.config.readOnly||this.list.selection.contains()||(this._state.value=""),(0,g.awaitRedraw)().then(function(){return P.popup.isVisible()&&P.popup.hide()}),this.events.fire(c.ComboboxEvents.afterClose),this.events.fire(c.ComboboxEvents.close),this.data.resetFilter(),this._filter(),this.paint())},I.prototype._filter=function(P){var T=this;if(P===void 0&&(P=!1),!this.config.readOnly){if(this.config.filter?this.data.filter(function(M){return T.config.filter(M,T._state.value)}):P&&this.data.filter(function(M){return(0,y.isExistValue)(T._getItemText(M)||"",T._state.value)}),this.config.multiselection)this.list.setFocus(this.data.getId(0));else{var H=this.data.getIndex(this.list.selection.getId());this.list.setFocus(this.data.getId(H>-1?H:0))}var $=this._layout.getCell("list"),L=this._layout.getCell("not-found");if(this.data.getLength()===0){this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").hide(),$.hide(),this._state.creatingState=!0;var j=this.config.newOptions?this._state.value:"";L.height=(0,a.emptyListHeight)(j,this.getRootView().refs.holder.el.offsetWidth),L.attach(a.emptyListView,j),L.show()}else this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").show(),!(this._state.value&&this.data.find(function(M){return M.value===T._state.value}))&&this._state.value?(this._state.creatingState=this.config.newOptions,$.show(),this.config.newOptions?(j=this._state.value,L.height=(0,a.emptyListHeight)(j,this.getRootView().refs.holder.el.offsetWidth),L.attach(a.emptyListView,j),L.show()):L.hide()):(this._state.creatingState=!1,L.isVisible()&&($.show(),L.hide()))}},I.prototype._findBest=function(P){var T=this,H=this.data.find(function($){return(0,y.isExistValue)(T._getItemText($)||"",P)});H&&this.list.selection.getId()!==H.id&&(this.list.setFocus(H.id),this.paint())},I.prototype._exsistId=function(P){var T=this;return P instanceof Array?P.every(function(H){return T.data.exists(H)}):this.data.exists(P)},I.prototype._draw=function(){if(!this.config)return(0,g.el)("div");var P=this.config,T=P.multiselection,H=P.labelPosition,$=P.hiddenLabel,L=P.required,j=P.disabled,M=P.css,F=P.helpMessage,S=P.readOnly,R=P.placeholder,B=T?null:this.data.getItem(this.list.selection.getId()),Y=!this.list.selection.getId()||typeof this.list.selection.getId()=="object"&&this.list.selection.getId().length===0,q=(0,_.getLabelStyle)(this.config),U=!this.config.multiselection&&(this.config.readOnly||!this.popup.isVisible()),V=U&&this.config.htmlEnable&&this.config.template,A=U&&((B==null?void 0:B.icon)||(B==null?void 0:B.src))&&!this.config.template;return(0,g.el)("div",{"data-dhx-widget-id":this._uid,onkeydown:this._handlers.onkeydown,onkeyup:this._handlers.onkeyup,class:"dhx_widget dhx_combobox"+(H==="left"?" dhx_combobox--label-inline":"")+($?" dhx_combobox--sr_only":"")+(L?" dhx_combobox--required":"")+(j?" dhx_combobox--disabled":"")+(M?" ".concat(M):"")},[q?(0,g.el)("label.dhx_label.dhx_combobox__label",{style:q.style,class:F?"dhx_label--with-help":"",onclick:this._handlers.oninputclick},F?[(q.label||L)&&(0,g.el)("span.dhx_label__holder",q.label),(0,g.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,id:"dhx_label__help_".concat(this._uid)})]:q.label):null,(0,g.el)("div.dhx_combobox-input-box"+(j?".dhx_combobox-input-box--disabled":"")+(S?".dhx_combobox-input-box--readonly":"")+(this._state.currentState===c.ComboState.error?".dhx_combobox-input-box--state_error":"")+(this._state.currentState===c.ComboState.success?".dhx_combobox-input-box--state_success":""),{_ref:"holder"},[(0,g.el)("div.dhx_combobox-input__icon",{onclick:this._handlers.toggleIcon},[(0,g.el)("span"+(this.popup.isVisible()?".dxi.dxi-menu-up":".dxi.dxi-menu-down"))]),(0,g.el)("div.dhx_combobox-input-list-wrapper",{onclick:this._handlers.oninputclick},[(0,g.el)("ul.dhx_combobox-input-list",b(b([],this._drawSelectedItems(),!0),[(0,g.el)("li.dhx_combobox-input-list__item.dhx_combobox-input-list__item--input",[(V||A)&&B?(0,g.el)("div.dhx_combobox-input__template",{".innerHTML":V?this.config.template(B):null},A?[(0,p.$template)(B)]:null):null,(0,g.el)("input.dhx_combobox-input",{oninput:this._handlers.oninput,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_ref:"input",_key:this._uid,type:"text",placeHolder:Y&&R?R:void 0,value:S&&B?this._getItemText(B):this._state.value,readOnly:S||j,required:L,"aria-label":S?"Select value":"Type or select value","aria-describedby":F?"dhx_label__help_".concat(this._uid):null,"aria-expanded":!0})])],!1))])])])},I.prototype._drawSelectedItems=function(){var P=this;if(!this.config.multiselection)return[];if(this.config.itemsCount){var T=this.list.selection.getId().length;return T?[(0,g.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",[(0,g.el)("span.dhx_combobox-tag__value",v(T,this.config.itemsCount)),(0,g.el)("button.dhx_button.dhx_combobox-tag__action.dhx_combobox__action-clear-all",{"aria-label":"clear all"},[(0,g.el)("span.dhx_button__icon.dxi.dxi-close-circle")])])]:[]}return this.list.selection.getId().map(function(H){var $=P.data.getItem(H);if(!$)return null;var L=P._drawImageOrIcon($);return(0,g.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",{"data-dhx-id":H},b(b([],L||!P.config.template?[L,(0,g.el)("span.dhx_combobox-tag__value",P._getItemText($))]:[(0,g.el)("span.dhx_combobox-tag__template",{".innerHTML":P.config.template($)})],!0),[(0,g.el)("button.dhx_button.dhx_button--icon.dhx_combobox-tag__action.dhx_combobox__action-remove",{type:"button","aria-label":"remove"},[(0,g.el)("span.dhx_button__icon.dxi.dxi-close-circle")])],!1))})},I.prototype._drawImageOrIcon=function(P){return P.src?(0,g.el)("img.dhx_combobox-tag__image",{src:P.src,alt:""}):P.icon?(0,g.el)("span.dhx_combobox-tag__icon",{class:P.icon}):null},I.prototype._getItemText=function(P){return P?P.value:null},I.prototype._updateSelectedItem=function(P){var T;this.config.multiselection?(this.config.selectAllButton&&!this._state.unselectActive&&this.data.getLength()===P.length?(this._layout.getCell("select-unselect-all").attach(a.unselectAllView),this._state.unselectActive=!0):this.config.selectAllButton&&this._state.unselectActive&&(this._layout.getCell("select-unselect-all").attach(a.selectAllView),this._state.unselectActive=!1),this._state.value&&(this._state.value="",this._state.canDelete=P.length===0,this.data.resetFilter(),this._filter())):this._state.value=(T=this._getItemText(this.data.getItem(P)))!==null&&T!==void 0?T:"",this.paint()},I.prototype._changePopupPosition=function(){var P=this;this.config.multiselection&&(0,g.awaitRedraw)().then(function(){P._updatePopup()})},I.prototype._updatePopup=function(){var P=this.getRootView().refs.holder.el;this.popup.getContainer().style.width=P.offsetWidth+"px",this.popup.show(P,{mode:"bottom",theme:this.getRootNode()})},I}(l.View);p.Combobox=m},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(82),p),C(x(159),p),C(x(83),p),C(x(52),p)},function(O,p,x){var w,C=this&&this.__extends||(w=function(e,a){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,v){c.__proto__=v}||function(c,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])},w(e,a)},function(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=e}w(e,a),e.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}),b=this&&this.__assign||function(){return b=Object.assign||function(e){for(var a,c=1,v=arguments.length;c<v;c++)for(var m in a=arguments[c])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e},b.apply(this,arguments)},y=this&&this.__spreadArray||function(e,a,c){if(c||arguments.length===2)for(var v,m=0,k=a.length;m<k;m++)!v&&m in a||(v||(v=Array.prototype.slice.call(a,0,m)),v[m]=a[m]);return e.concat(v||Array.prototype.slice.call(a))};Object.defineProperty(p,"__esModule",{value:!0}),p.List=p.MOVE_DOWN=p.MOVE_UP=void 0;var g=x(1),d=x(8),_=x(0),f=x(14),l=x(35),u=x(5),r=x(83),s=x(2),t=x(52),n=x(157);p.MOVE_UP=1,p.MOVE_DOWN=2;var i=function(e){function a(c,v){v===void 0&&(v={});var m=this,k=v.itemHeight||(v.virtual?37:null);k&&typeof k=="number"&&(k=k.toString()+"px"),(m=e.call(this,c,(0,g.extend)({itemHeight:k,keyNavigation:!0,editable:!1,selection:!0,htmlEnable:!0},v))||this)._destructed=!1,m._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null};var I=m.config.data;I instanceof d.DataCollection?(m.data=I,m.events=I.events):(m.data=new d.DataCollection({}),m.events=m.data.events,I&&m.data.parse(I)),m.selection=new r.Selection({disabled:!m.config.selection,multiselection:m.config.multiselection},m.data,m.events),m.config.keyNavigation&&(m.keyManager=new f.KeyManager(function(R,B){return B==m._uid&&(!m._edited||m._edited&&R.key!=="escape")}),m._initHotKey()),m.events.on(d.DataEvents.change,function(R,B,Y){B==="setPage"&&m.scrollTo(m.data.getId(Y[0])),m.paint()}),m.events.on(d.DataEvents.filter,function(){m.paint()}),m.events.on(l.SelectionEvents.afterUnSelect,function(){return m.paint()}),m.events.on(l.SelectionEvents.afterSelect,function(R){(0,g.isId)(R)&&m.config.selection&&m.setFocus(R),m.paint()}),m.events.on(t.ListEvents.afterEditEnd,m.editEnd.bind(m));var P=function(R){return function(B){m.data.setMeta(m.data.getItem(B.target),"drop",R),m.paint()}};m.events.on(d.DragEvents.canDrop,P(!0)),m.events.on(d.DragEvents.cancelDrop,P(!1));var T=function(R){return function(B){B.source.map(function(Y){return m.data.setMeta(m.data.getItem(Y),"drag",R)}),m.paint()}};m.events.on(d.DragEvents.dragStart,T(!0)),m.events.on(d.DragEvents.afterDrag,T(!1)),m._handlers={onmousedown:function(R){m._dragStart(R)},ontouchstart:function(R){m._touch.timer=setTimeout(function(){m._dragStart(R)},m._touch.duration),m._touch.timeStamp?(m._touch.dblDuration>=m._touch.timeStamp-+R.timeStamp.toFixed()&&(R.preventDefault(),m._dblClick(R)),m._touch.timeStamp=null):m._touch.timeStamp=+R.timeStamp.toFixed(),setTimeout(function(){m._touch.timeStamp=null},m._touch.dblDuration)},ontouchmove:function(R){m._touch.start&&R.preventDefault(),m._clearTouchTimer()},ontouchend:function(){m._touch.start=!1,m._clearTouchTimer()},ondragstart:function(){return!(m.config.dragMode&&!m._edited)&&null},oncontextmenu:function(R){var B,Y=(B=m.data.getItem((0,s.locate)(R)))===null||B===void 0?void 0:B.id;(0,g.isId)(Y)&&m.events.fire(t.ListEvents.itemRightClick,[Y,R])},onclick:function(R){var B,Y=(B=m.data.getItem((0,s.locate)(R)))===null||B===void 0?void 0:B.id;(0,g.isId)(Y)&&(m.selection.add(Y,R.ctrlKey||R.metaKey,R.shiftKey),m.config.selection&&(m._focus=Y),m.events.fire(t.ListEvents.click,[Y,R]),m.paint())},ondblclick:function(R){m._dblClick(R)},onscroll:function(R){m.config.virtual&&(m._topOffset=R.target.scrollTop,m._visibleHeight=R.target.offsetHeight,m.paint())},onmouseover:function(R){var B,Y=(B=m.data.getItem((0,s.locate)(R)))===null||B===void 0?void 0:B.id;(0,g.isId)(Y)&&Y!==(0,s.locate)(R.relatedTarget)&&m.events.fire(t.ListEvents.itemMouseOver,[Y,R])}};var H=m.config.eventHandlers;if(H)for(var $=0,L=Object.entries(H);$<L.length;$++){var j=L[$],M=j[0],F=j[1];m._handlers[M]=(0,s.eventHandler)(function(R){return(0,s.locate)(R)},F,m._handlers[M])}m.config.dragMode&&d.dragManager.setItem(m._uid,m),m._topOffset=m._visibleHeight=0;var S=(0,_.create)({render:function(){return m._destructed?(0,_.el)("div"):m._renderList()},hooks:{didMount:function(R){m.config.virtual&&(m._visibleHeight=R.node.el.offsetHeight)},didRedraw:function(R){return m._didRedraw(R)}}});return m.mount(c,S),m}return C(a,e),a.prototype._didRedraw=function(c){},a.prototype._dblClick=function(c){var v,m=(0,s.locate)(c);m&&(m=(v=this.data.getItem(m))===null||v===void 0?void 0:v.id,this.config.editable&&this.editItem(m),this.events.fire(t.ListEvents.doubleClick,[m,c]))},a.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},a.prototype._dragStart=function(c){var v=this;this._touch.start=!0;var m=[],k=(0,s.locateNode)(c,"data-dhx-id"),I=k&&k.getAttribute("data-dhx-id"),P=this.selection.getId();return this.config.multiselection&&P instanceof Array&&(P.map(function(T){T!==I&&v.getRootView().refs[T]&&m.push(v.getRootView().refs[T].el)}),P=y([],P,!0)),typeof P=="string"&&(P=[P]),this.config.dragMode&&!this._edited?d.dragManager.onMouseDown(c,P||[I],m):null},a.prototype.disableSelection=function(){this.selection.disable()},a.prototype.enableSelection=function(){this.selection.enable()},a.prototype.editItem=function(c){this._edited=c,this.data.getItem(this._edited)&&this.events.fire(t.ListEvents.beforeEditStart,[c])?(this.paint(),this.events.fire(t.ListEvents.afterEditStart,[c])):this._edited=null},a.prototype.editEnd=function(c,v){if(this._edited){if(c!==null){var m=this.data.getItem(v);this.data.update(v,b(b({},m),{value:c})),this._changed=!0}this._edited=null,this.paint()}},a.prototype.getFocusItem=function(){return this.data.getItem(this._focus)},a.prototype.setFocus=function(c){this._focus!=c&&this.data.exists(c)&&(this._focus=c,this.events.fire(t.ListEvents.focusChange,[this.data.getIndex(this._focus),this._focus]),this.scrollTo(c),this.paint())},a.prototype.getFocus=function(){return this._focus},a.prototype.destructor=function(){this._destructed=!0,this.events&&this.events.clear(),this.keyManager&&this.keyManager.destructor(),this.selection&&this.selection.destructor(),this.config=this.events=this.selection=this.keyManager=null,this._handlers=this._focus=this._edited=this._events=this._topOffset=this._visibleHeight=this._touch=null,this.unmount()},a.prototype.scrollTo=function(c){var v=this.getRootView();if(v&&v.node&&v.node.el&&c!==void 0){var m=this.getRootNode();this._scrollTo(c,m)}},a.prototype._scrollTo=function(c,v){if(v){var m=this.data.getIndex(c);if(m!==-1){var k=this.config.virtual,I=Math.floor(m/v.children.length)||0,P=v.children[m-v.children.length*I];if(k||P){var T=k?parseInt(this.config.itemHeight):P.clientHeight,H=k?m*T:P.offsetTop;H>=v.scrollTop+v.clientHeight-T?v.scrollTo(0,H-v.clientHeight+T):H<v.scrollTop&&v.scrollTo(0,H)}}}},a.prototype._renderItem=function(c,v){var m=function(L){L.class+=" dhx_list-item--empty"},k=this.config.itemHeight;if(c.$empty)return(0,_.el)("li",{class:"dhx_list-item",style:{height:k}});var I="";this.config.template&&(I=this.config.template(c)),c.html&&(I=c.html);var P=c.id==this._focus&&this.config.keyNavigation;if(c.id==this._edited)return(0,n.getEditor)(c,this).toHTML();var T=this.data.getMetaMap(c),H=b(b(b(b({},this._events),{class:"dhx_list-item"+(T&&T.selected?" dhx_list-item--selected":"")+(P?" dhx_list-item--focus":"")+(T&&T.drop&&!this._edited?" dhx_list-item--drophere":"")+(T&&T.drag&&!this._edited?" dhx_list-item--dragtarget":"")+(this.config.dragMode&&!this._edited?" dhx_list-item--drag":"")+(c.css?" "+c.css:""),"data-dhx-id":c.id,_ref:c.id.toString(),style:{height:k},_key:c.id}),this.getItemAriaAttrs(this,c)),{tabindex:P?0:-1});if(I)return I===c.html||this.config.htmlEnable?(H[".innerHTML"]=I,(0,_.el)("li",H)):(0,_.el)("li",H,I);if(this.config.$template)return c.value||m(H),(0,_.el)("li",H,[this.config.$template(c)]);var $=c.text||c.value;return $||m(H),this.config.htmlEnable?H[".innerHTML"]=$:H.class+=" dhx_list-item--text",this.config.htmlEnable?(0,_.el)("li",H):(0,_.el)("li",H,$)},a.prototype._renderList=function(){var c=this,v=this._getRange(),m=this.data.getRawData(v[0],v[1]).map(function(k,I){return c._renderItem(k,I)});return this.config.virtual&&(m=y(y([(0,_.el)(".div",{style:{height:v[2]+"px"}})],m,!0),[(0,_.el)(".div",{style:{height:v[3]+"px"}})],!1)),(0,_.el)("ul.dhx_widget.dhx_list",b(b({style:{"max-height":this.config.height,position:"relative"},tabindex:0,class:(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":""),"data-dhx-widget-id":this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),m)},a.prototype.moveFocus=function(c,v){var m=this.data.getLength();if(m){var k=this._focus,I=k?this.data.getIndex(k):-1;v=v||1,c===p.MOVE_DOWN?k=this.data.getId(Math.min(I+v,m-1)):c===p.MOVE_UP&&(k=this.data.getId(Math.max(I-v,0))),this.setFocus(k)}},a.prototype._getRange=function(){if(this.config.virtual){var c=this._visibleHeight||parseInt(this.config.height),v=parseInt(this.config.itemHeight),m=this.data.getRawData(0,-1).length,k=m*v,I=this._topOffset;I=Math.max(0,Math.min(I,k-c));var P=Math.floor(I/v),T=Math.min(m-P,Math.floor(c/v)+5);return this._topOffset=I,[P,T+P,P*v,k-v*(T+P)]}return[0,-1,0,0]},a.prototype._getHotkeys=function(){var c=this;return{arrowDown:function(v){c.moveFocus(p.MOVE_DOWN),c._changed&&(c._changed=!1),v.preventDefault()},arrowUp:function(v){c.moveFocus(p.MOVE_UP),c._changed&&(c._changed=!1),v.preventDefault()},escape:function(){c.editEnd(null),c._changed&&(c._changed=!1)},enter:function(v){var m;if(c._changed)c._changed=!1;else{var k=c.selection.getItem(),I=k instanceof Array?(m=k[0])===null||m===void 0?void 0:m.id:k==null?void 0:k.id;c.config.editable&&!c._edited&&(k&&I===c._focus||!k)?c.editItem(c._focus):c.selection.add(c._focus),c.events.fire(t.ListEvents.click,[c._focus,v])}},"shift+enter":function(v){c.selection.add(c._focus,!1,!0),c.events.fire(t.ListEvents.click,[c._focus,v])},"ctrl+enter":function(v){c.selection.add(c._focus,!0,!1),c.events.fire(t.ListEvents.click,[c._focus,v])},"ctrl+a":function(v){c.config.multiselection&&(v.preventDefault(),c.selection.remove(),c.data.map(function(m){return m.id}).forEach(function(m){c.config.multiselection==="ctrlClick"?c.selection.add(m,!0):c.selection.add(m)}))}}},a.prototype._initHotKey=function(){var c=this._getHotkeys();for(var v in c)this.keyManager.addHotKey(v,c[v]);for(var v in this.config.hotkeys)this.keyManager.addHotKey(v,this.config.hotkeys[v])},a.prototype.getItemAriaAttrs=function(c,v){return b(b({role:"option","aria-selected":v.$selected?"true":"false"},function(m,k){return m.config.dragMode&&!m._edited?{"aria-grabbed":(!!(k.$dragtarget&&!m._edited)).toString()}:{}}(c,v)),function(m){return m.config.editable?{"aria-roledescription":"".concat(m._edited?"Press Enter to stop editing":"Double click to edit content")}:{}}(c))},a.prototype._getListAriaAttrs=function(c,v){return{role:"listbox","aria-label":"Listbox ".concat(c.title||"",", count of options = ").concat(v,".").concat(c.editable?" Content is editable.":""),"aria-multiselectable":c.selection&&c.multiselection?"true":"false","aria-readonly":c.editable?"false":"true"}},a}(u.View);p.List=i},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.Selection=void 0;var w=x(35),C=x(8),b=x(1),y=function(){function g(d,_,f){var l=this;this.config=d,this.events=f,this._data=_,this._selected=[],this._data.events.on(C.DataEvents.removeAll,function(){l._selected=[]}),typeof this.config.multiselection=="string"&&(["click","ctrlClick"].includes(this.config.multiselection)||(this.config.multiselection=!1)),this._data.events.on(C.DataEvents.beforeRemove,function(u){if(l._nextSelection=null,l._selected.length===1){var r=l._data.getIndex(u.id),s=l._data.getLength();if(s>1){var t=s==r-1?r-1:r+1;l._nextSelection=l._data.getId(t)}}}),this._data.events.on(C.DataEvents.afterRemove,function(u){var r=l._selected.indexOf(u.id);r!==-1&&l._selected.splice(r,1),(0,b.isId)(l._nextSelection)&&(l.add(l._nextSelection),l._nextSelection=null)})}return g.prototype.enable=function(){this.config.disabled=!1},g.prototype.disable=function(){this.remove(),this.config.disabled=!0},g.prototype.getId=function(){return this.config.multiselection?this._selected:this._selected[0]},g.prototype.getItem=function(){var d=this;return this.config.multiselection?this._selected.map(function(_){return d._data.getItem(_)}):this._selected.length?this._data.getItem(this._selected[0]):null},g.prototype.contains=function(d){return(0,b.isId)(d)?this._selected.includes(d):this._selected.length>0},g.prototype.remove=function(d,_){var f=this;(0,b.isId)(d)?this._unselectItem(d,_):(this._selected.forEach(function(l){return f._unselectItem(l,_)}),this._selected=[])},g.prototype.add=function(d,_,f,l){var u=this;if(!this.config.disabled)if(d!==void 0){var r=this.config.multiselection;f&&this._selected.length&&r?this._addMulti(d,l):this._addSingle(d,r&&(r!=="ctrlClick"||_),l)}else{var s=this._data.serialize().filter(function(t){var n=t.id;return!u._selected.includes(n)});s.forEach(function(t){var n=t.id;u._addMulti(n,l)})}},g.prototype.destructor=function(){var d=this;this._selected.forEach(function(_){return d._unselectItem(_,!0)})},g.prototype._addMulti=function(d,_){var f,l=this._selected[this._selected.length-1],u=this._data.getIndex(l),r=this._data.getIndex(d);for(u>r&&(u=(f=[r,u])[0],r=f[1]);u<=r;u++){var s=this._data.getId(u);this._selectItem(s,_)}},g.prototype._addSingle=function(d,_,f){var l=this;_||this._selected.forEach(function(u){u!=d&&l._unselectItem(u)}),_&&this._selected.includes(d)?this._unselectItem(d,f):this._selectItem(d,f)},g.prototype._selectItem=function(d,_){var f=this._data.getItem(d);f&&!this._data.getMeta(f,"selected")&&(_||this.events.fire(w.SelectionEvents.beforeSelect,[d]))&&(this._selected.push(d),this._data.setMeta(f,"selected",!0),_||this.events.fire(w.SelectionEvents.afterSelect,[d]))},g.prototype._unselectItem=function(d,_){(_||this.events.fire(w.SelectionEvents.beforeUnSelect,[d]))&&(this._selected=this._selected.filter(function(f){return f!==d}),this._data.setMeta(this._data.getItem(d),"selected",!1),_||this.events.fire(w.SelectionEvents.afterUnSelect,[d]))},g}();p.Selection=y},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.default={notFound:"Not Found",selectAll:"Select All",unselectAll:"Unselect All",selectedItems:"selected items",createItem:"Create"}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.emptyListHeight=p.emptyListView=p.unselectAllView=p.selectAllView=void 0;var w=x(0),C=x(84);p.selectAllView=function(){return(0,w.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",C.default.selectAll)},p.unselectAllView=function(){return(0,w.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",C.default.unselectAll)},p.emptyListView=function(b){return(0,w.el)("ul.dhx_list",[(0,w.el)("li.dhx_list-item.dhx_combobox-options__item".concat(b?".dhx_combobox-options__action-create-option":""),{},b?"".concat(C.default.createItem,' "').concat(b,'"'):C.default.notFound)])},p.emptyListHeight=function(b,y){var g=document.createElement("canvas").getContext("2d",{alpha:!1});g.font="normal 14px Roboto";var d=b?"".concat(C.default.createItem,' "').concat(b,'"'):C.default.notFound;return 13+20*Math.ceil(g.measureText(d).width/(y-16))}},function(O,p,x){var w,C;Object.defineProperty(p,"__esModule",{value:!0}),p.ComboState=p.ComboboxEvents=void 0,function(b){b.beforeChange="beforeChange",b.change="change",b.focus="focus",b.blur="blur",b.keydown="keydown",b.input="input",b.beforeOpen="beforeOpen",b.afterOpen="afterOpen",b.beforeClose="beforeClose",b.afterClose="afterClose",b.open="open",b.close="close"}(w||(p.ComboboxEvents=w={})),function(b){b[b.default=0]="default",b[b.error=1]="error",b[b.success=2]="success"}(C||(p.ComboState=C={}))},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(l){for(var u,r=1,s=arguments.length;r<s;r++)for(var t in u=arguments[r])Object.prototype.hasOwnProperty.call(u,t)&&(l[t]=u[t]);return l},w.apply(this,arguments)},C=this&&this.__spreadArray||function(l,u,r){if(r||arguments.length===2)for(var s,t=0,n=u.length;t<n;t++)!s&&t in u||(s||(s=Array.prototype.slice.call(u,0,t)),s[t]=u[t]);return l.concat(s||Array.prototype.slice.call(u))};Object.defineProperty(p,"__esModule",{value:!0}),p.getFixedCols=p.getFixedColsHeader=void 0;var b=x(0),y=x(7),g=x(33),d=x(88),_=x(15),f=x(25);p.getFixedColsHeader=function(l,u,r){if((r!==y.Split.left||typeof l.leftSplit=="number"&&l.fixedColumns.left.length)&&(r!==y.Split.right||typeof l.rightSplit=="number"&&l.fixedColumns.right.length)){var s=l.leftSplit,t=l.rightSplit,n=l.$positions,i=l.$totalWidth,e=l.$scrollBarWidth,a=r===y.Split.right,c=a?l.fixedColumns.right:l.fixedColumns.left,v=(0,_.getTotalWidth)(c),m=(0,d.getFixedRows)(w(w({},l),{currentColumns:c,$positions:w(w({},n),{xStart:0,xEnd:a?t:s}),scroll:{top:0,left:0},filteredColumns:c}),w(w({},u),{name:"header",position:"top",shifts:{x:0,y:0}}),r),k=w(w({},u),{name:"header",position:"top"});return(0,b.el)(".dhx_".concat(k.name,"-fixed-cols"),w({onwheel:_.scrollFixedColsAndRows,class:a?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{position:"absolute",top:0,left:a?i<u.wrapper.width-e.y-f.BORDERS?i-v:u.wrapper.width-v-e.y-f.BORDERS:0,width:v,overflow:"hidden"}},{role:"rowgroup","aria-rowcount":m.length}),m.body)}},p.getFixedCols=function(l,u,r,s){if((r!==y.Split.left||typeof l.leftSplit=="number"&&l.fixedColumns.left.length)&&(r!==y.Split.right||typeof l.rightSplit=="number"&&l.fixedColumns.right.length)){var t,n=l.leftSplit,i=l.rightSplit,e=l.$totalWidth,a=l.$totalHeight,c=l.headerHeight,v=l.footerHeight,m=l.$positions,k=l.scroll,I=l.data,P=l.$scrollBarWidth,T=r===y.Split.right,H=a+c+v;t=H>u.gridBodyHeight?l.$footer?H-P.x:u.gridBodyHeight:H<u.gridBodyHeight-P.x?H:l.$footer?u.gridBodyHeight:u.gridBodyHeight-P.x;var $=T?l.fixedColumns.right:l.fixedColumns.left,L=(0,_.getTotalWidth)($),j=T?"rightFixedCols":"leftFixedCols",M=(0,g.getCells)(w(w({},l),{filteredColumns:$,$renderFrom:j,$positions:w(w({},m),{xStart:0,xEnd:T?i:n})})),F=u.sticky,S=w(w({},u),{name:"footer",position:"bottom"}),R=(0,d.getRows)(w(w({},l),{currentColumns:$,$positions:w(w({},m),{xStart:0,xEnd:T?i:n})}),w(w({},u),{name:"footer",position:"bottom"})),B=0;R.forEach(function(N){return B+=N.attrs.style.height});var Y=(0,d.getFixedSpans)(w(w({},l),{filteredColumns:$}),w(w({},u),{name:"footer",position:"bottom"}),r),q=function(N){return{role:"rowgroup","aria-rowcount":N}},U=F?(0,b.el)(".dhx_".concat(S.name,"-fixed-cols"),w({onwheel:_.scrollFixedColsAndRows,class:T?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{position:"absolute",top:t<u.gridBodyHeight?t-B:null,left:T?e<u.wrapper.width-P.y-f.BORDERS?e-L:u.wrapper.width-L-P.y-f.BORDERS:0,bottom:t>=u.gridBodyHeight?"".concat(F?P.x:0,"px"):null}},q(R.length)),[R,(0,b.el)("span.dhx_span-spans",{class:"dhx_footer-spans",role:"presentation"},Y)]):null,V=m,A=(0,g.getSpans)(w(w({},l),{$renderFrom:j}),s||(T?y.Split.right:y.Split.left));return[(0,b.el)(".dhx_grid-fixed-cols-wrap",w({style:{left:T?e<u.wrapper.width-P.y-f.BORDERS?e-L:u.wrapper.width-L-P.y-f.BORDERS:0,height:t>=u.gridBodyHeight?(F?u.gridBodyHeight:u.gridBodyHeight+c)-P.x:t,paddingTop:c,overflow:"hidden",width:L}},{role:"presentation","aria-label":"Fixed column"}),[(0,b.el)(".dhx_grid-fixed-cols",w(w({onwheel:_.scrollFixedColsAndRows,class:T?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{top:-k.top+c-1+"px",paddingTop:u.shifts.y,height:a,position:"absolute"},_flags:b.KEYED_LIST},(0,g.getHandlers)(V.yStart,V.xStart,l)),q(I.length)),C(C([],M,!0),[A&&(0,b.el)("span.dhx_span-spans",{role:"presentation"},[A])],!1)),T?(0,b.el)(".dhx_grid__cols-border--frozen",{role:"presentation",style:{left:0}}):(0,b.el)(".dhx_grid__cols-border--frozen",{role:"presentation",style:{right:0}})]),l.$footer?U:null]}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(a){for(var c,v=1,m=arguments.length;v<m;v++)for(var k in c=arguments[v])Object.prototype.hasOwnProperty.call(c,k)&&(a[k]=c[k]);return a},w.apply(this,arguments)},C=this&&this.__spreadArray||function(a,c,v){if(v||arguments.length===2)for(var m,k=0,I=c.length;k<I;k++)!m&&k in c||(m||(m=Array.prototype.slice.call(c,0,k)),m[k]=c[k]);return a.concat(m||Array.prototype.slice.call(c))};Object.defineProperty(p,"__esModule",{value:!0}),p.getFixedDataRows=p.getFixedRows=p.getFixedSpans=p.getRows=void 0;var b=x(0),y=x(26),g=x(15),d=x(7),_=x(33),f=x(87),l=x(1),u=2;function r(a,c,v,m){v&&(v.toLocaleLowerCase().includes("touch")?c._events.fire(v,[a,m]):c.events.fire(v,[a,m]))}function s(a,c,v){return{onclick:[r,a,v,d.GridEvents[c+"CellClick"]],onmouseover:[r,a,v,d.GridEvents[c+"CellMouseOver"]],onmousedown:[r,a,v,d.GridEvents[c+"CellMouseDown"]],ontouchstart:[r,a,v,d.GridEvents[c+"CellMouseDown"]],ondblclick:[r,a,v,d.GridEvents[c+"CellDblClick"]],oncontextmenu:[r,a,v,d.GridEvents[c+"CellRightClick"]],ontouchmove:[r,a,v,d.GridSystemEvents[c+"CellTouchMove"]],ontouchend:[r,a,v,d.GridSystemEvents[c+"CelltouchEnd"]]}}function t(a,c,v,m,k,I,P){k===void 0&&(k=""),P===void 0&&(P=!1);var T=c.type?"dhx_".concat(c.type,"-cell"):"dhx_string-cell",H=v.content[a.content]&&v.content[a.content].toHtml(c,v),$={};v.filteredColumns.forEach(function(j){var M=!!v.content[j[m][I].content];$[j.id]=M&&v.content[j[m][I].content].toHtml(j,v)||j[m][I].text});var L=c.template&&typeof H=="string"?c.template(H,$,c):H;return(0,b.el)(".".concat(T),{style:{class:k.trim(),padding:0}},[H&&(typeof H=="string"||typeof H=="number"?(0,b.el)("div",{class:"dhx_grid-footer-cell-text",role:"presentation",".innerHTML":P?L:null},P?null:L):H)])}function n(a,c){if(!a.data||!a.filteredColumns)return[];var v,m=c.name,k=m==="header"?a.headerAutoHeight:a.footerAutoHeight,I=a.$positions,P=a.currentColumns,T=function($,L){var j=$.map(function(M){return M[L]||[{}]});return(0,g.transpose)(j)}(P,m),H=1;return T.map(function($,L){var j=(m==="header"?a.$headerHeightMap:a.$footerHeightMap)[L];return(0,b.el)(".dhx_".concat(m,"-row"),w({style:{height:j}},{role:"row","aria-rowindex":L+1}),$.map(function(M,F){var S,R=M.css||"",B=P[F],Y=I.xStart+F+1,q=(0,g.isHtmlEnable)(a,B,M),U="dxi dxi-sort-variant dhx_grid-sort-icon",V="none";if(a.sortBy&&"".concat(B.id)===a.sortBy&&!M.content){var A=a.sortDir||"asc";U+=" dhx_grid-sort-icon--".concat(A),R+=" dhx_grid-".concat(m,"-cell--sorted "),V=A==="asc"?"ascending":"descending"}var N=(0,g.isSortable)(a,B)&&M.text&&m!=="footer"&&M.headerSort!==!1;N&&(R+=" dhx_grid-header-cell--sortable");var W=F===0?"dhx_first-column-cell":"",Q=F===P.length-1?"dhx_last-column-cell":"";M.content||(M.align?R+=" dhx_grid-header-cell--align_".concat(M.align," "):R+=" dhx_grid-header-cell--".concat(B.type==="number"||B.type==="percent"||B.type==="date"?"align_right":"align_left"," ")),R+="".concat(W," ").concat(Q);var X=B.resizable!==void 0?B.resizable:a.resizable;if(X){var K=a.rightSplit&&a.$scrollBarWidth.xState&&a.fixedColumns.right.includes(B);X=(0,b.el)("div",{class:"dhx_resizer_grip_wrap","aria-hidden":"true"},[(0,b.el)("div",{class:"dhx_resizer_grip"+(K?" dhx_resizer_grip--left":" dhx_resizer_grip--right"),dhx_resized:B.id,style:{height:"".concat(100*T.length,"%")}},[(0,b.el)("div",{class:"dhx_resizer_grip_line"})])]);var ne=B.header&&((S=B.header[0])===null||S===void 0?void 0:S.colspan);ne&&(v=ne,H=1),v&&H!==v&&(L===0&&(X=null),H++),m==="footer"&&(X=null)}M.align&&(R+=" dhx_align-".concat(M.align));var ie=function(le,ue,de){var ge={"aria-colindex":ue};return le==="footer"||M.content?ge.role="gridcell":(ge.role="columnheader",ge["aria-sort"]=de),ge};if(M.content)return(0,b.el)(".dhx_grid-".concat(m,"-cell.dhx_grid-custom-content-cell"),w(w({class:R.trim(),"data-dhx-id":B.id,"data-dhx-text-id":M.id,_key:B.id,style:{width:B.$width,height:m==="footer"?j+u/2+"px":j+"px"}},s(B,m,a)),ie(m,Y,V)),[t(M,B,a,m,"",L,q),X||null]);var oe,re="dhx_grid-header-cell-text_content";return k&&(re+=" dhx_grid-header-cell-text_content-auto-height"),(0,b.el)(".dhx_grid-".concat(m,"-cell"),w(w({class:R.trim(),"data-dhx-id":B.id,"data-dhx-text-id":M.id,_key:B.id,style:{width:B.$width,height:m==="footer"?j+u/2+"px":j+"px"}},s(B,m,a)),ie(m,Y,V)),[(0,b.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[(0,b.el)("span",w(w({class:re},(oe=M.text,N?{role:"button","aria-label":"Sort by ".concat(oe)}:{})),{".innerHTML":q?M.text:null}),q?null:M.text),X||null]),N&&(0,b.el)("div",{class:U,"aria-hidden":"true"})])}))})}function i(a,c,v){var m=a.columns,k=a.filteredColumns,I=(0,g.transpose)(k.map(function(L){return L[c.name]||[]})),P=c.name,T=P==="header"?a.headerAutoHeight:a.footerAutoHeight,H=P==="header"?a.$headerHeightMap:a.$footerHeightMap,$=0;return I.map(function(L,j){$=0;var M=H[j];return(0,b.el)(".dhx_span-row",{class:"dhx_header-row","aria-hidden":"true"},L.map(function(F,S){var R,B=k[S];if(v===d.Split.right&&S===0&&!F.colspan){var Y=(0,g.transpose)(m.map(function(ye){return ye[c.name]||[]}));e:for(var q=0;q<Y[j].length;q++){var U=Y[j][q];if(U.colspan>1){for(var V=m.slice(q,q+U.colspan),A=0;A<V.length;A++)if(V[A].id===B.id){R={cell:U,col:m[q],widthBefore:(0,y.getWidth)(V,A,0),isLastCol:q+U.colspan>=m.length};break e}}}}var N=(R==null?void 0:R.cell)||F,W=(R==null?void 0:R.col)||B,Q=(0,g.isHtmlEnable)(a,B,F);$+=W.hidden?0:W.$width;var X=S===0?"dhx_first-column-cell":"",K=v?1:a.fixedColumns.right.length+1,ne=F.colspan&&(0,y.getReducedColspan)(m,B.id,F.colspan),ie=R!=null&&R.isLastCol||S===k.length-K||(ne||1)+(S-1)>=k.length-K?"dhx_last-column-cell":"",oe=M,re=M*j;if(N.rowspan){for(var le=N.rowspan-1;le>0;)oe+=H[j+le],le--;oe-=1}if(N.rowspan||N.colspan)for(re=0,q=j-1;q>=0;q--)re+=H[q];var ue=(0,g.isSortable)(a,W)&&N.rowspan&&N.text&&c.name!=="footer"&&N.headerSort!==!1,de="dxi dxi-sort-variant dhx_grid-sort-icon";a.sortBy&&"".concat(W.id)===a.sortBy&&!N.content&&(de+=" dhx_grid-sort-icon--".concat(a.sortDir||"asc"));var ge=W.align?"dhx_align-".concat(W.align):W.type!=="number"&&W.type!=="percent"&&W.type!=="date"||N.colspan?"dhx_align-left":"dhx_align-right",ce="dhx_grid-".concat(P,"-cell ").concat(X," ").concat(ie," ").concat(N.rowspan?"dhx_span-cell__rowspan":""," ").concat(N.align?"dhx_align-".concat(N.align):ge," ").concat(N.css?N.css:"");ue&&(ce+=" dhx_grid-header-cell--sortable"),N.content||(N.align?ce+=" dhx_grid-header-cell--align_".concat(N.align," "):ce+=" dhx_grid-header-cell--".concat(W.type==="number"||W.type==="percent"||W.type==="date"?"align_right":"align_left"," "));var he=null;N.content&&((he=t(N,W,a,P,ce,j)).attrs.style=w(w({},he.attrs.style),{width:"100%",borderRight:"0"}));var ve="";$-W.$width>0&&(ve="var(--dhx-border)");var be="dhx_grid-header-cell-text_content";T&&(be+=" dhx_grid-header-cell-text_content-auto-height");var xe=(0,b.el)("span",{class:be,".innerHTML":Q?N.text:null},Q?null:N.text);return N.colspan||N.rowspan?(0,b.el)(".dhx_span-cell",w({style:{width:(0,y.getWidth)(m,N.colspan,(0,l.findIndex)(m,function(ye){return ye.id===W.id})),height:oe,left:$-W.$width-((R==null?void 0:R.widthBefore)||0),borderLeft:ve,top:re},class:ce.trim(),"data-dhx-id":W.id,"data-dhx-text-id":N.id},s(W,P,a)),[he||N.rowspan?(0,b.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[xe]):xe,ue&&(0,b.el)("div",{class:de}),v===d.Split.left&&ne&&S+ne>k.length||R?(0,b.el)(".dhx_grid__cols-border--frozen",{role:"presentation",style:{left:((R==null?void 0:R.widthBefore)||(0,y.getWidth)(k,k.length-S,S))-u/2}}):null]):null}).filter(function(F){return F}))})}function e(a){return{role:"rowgroup","aria-rowcount":a}}p.getRows=n,p.getFixedSpans=i,p.getFixedRows=function(a,c,v){var m,k=a.leftSplit,I=a.$totalWidth,P=n(a,c),T=i(a,c,v),H=null;if(c.name==="footer"&&!c.sticky){var $=a.rightSplit,L=a.fixedColumns,j=function(S){S===void 0&&(S=!1);var R=S?L.right:L.left;return!S&&k>=0||S&&$>=0?n(w(w({},a),{currentColumns:R,$positions:w(w({},a.$positions),{xStart:0,xEnd:S?$:k})}),c):[]};H=C(C([],j(),!0),j(!0),!0)}var M,F=((m={position:"sticky"})[c.position]=0,m);return c.sticky||(F.left=-a.scroll.left,M=-a.scroll.left,F.position="relative"),(0,b.el)(".dhx_".concat(c.name,"-wrapper").concat(a.rightSplit?".dhx_grid__rows_right--fixed":""),{class:c.sticky?"":"dhx_compatible-".concat(c.name),style:w(w({},F),{left:c.sticky?M:0,height:c.name==="footer"?a[c.name+"Height"]+u/2:a[c.name+"Height"],width:c.sticky?I:c.wrapper.width-u}),role:"presentation"},[(0,b.el)(".dhx_grid-".concat(c.name).concat(k?".dhx_grid_fixed_left":""),{style:{height:c.name==="footer"?a[c.name+"Height"]+u/2:a[c.name+"Height"],left:M,paddingLeft:c.shifts.x,width:I},role:"presentation"},[(0,b.el)(".dhx_".concat(c.name,"-rows"),w({},e(C([],P,!0).length)),C([],P,!0)),(0,b.el)(".dhx_".concat(c.name,"-spans"),{style:{marginLeft:-c.shifts.x},class:"dhx_".concat(c.name,"-rows"),role:"presentation"},T),H&&(0,b.el)(".dhx_".concat(c.name,"-fixed-cols"),{style:{position:"absolute",top:0,left:a.scroll.left+"px",height:"100%"}},H)]),(0,b.el)("div",{style:{width:I},role:"presentation"})])},p.getFixedDataRows=function(a,c,v){if(!(v===d.Split.top&&typeof a.topSplit!="number"||v===d.Split.bottom&&typeof a.bottomSplit!="number")){var m=a.$totalWidth,k=a.topSplit,I=a.bottomSplit,P=a.$positions,T=a.data,H=a.$totalHeight,$=a.$width,L=a.headerHeight,j=a.footerHeight,M=a.$scrollBarWidth,F=v===d.Split.bottom,S=F?a.fixedRows.bottom:a.fixedRows.top,R=F?"bottomFixedRows":"topFixedRows",B=(0,_.getCells)(w(w({},a),{data:S,$renderFrom:R,$positions:w(w({},P),{yStart:0,yEnd:F?I:k})})),Y=S.reduce(function(N,W){return N+W.$height},0),q=(0,_.getSpans)(w(w({},a),{$renderFrom:R,data:T}),F?d.Split.bottom:d.Split.top),U=(0,g.getTotalHeight)(a.fixedRows.bottom),V=function(N){return(0,f.getFixedCols)(w(w({},a),{headerHeight:0,data:S,$renderFrom:R,scroll:w(w({},a.scroll),{top:-1}),$positions:w(w({},P),{yStart:0,yEnd:F?I:k}),$totalHeight:Y,$data:T}),w(w({},c),{shifts:w(w({},c.shifts),{y:0})}),N,v)||[]},A=C(C([],V(d.Split.left),!0),V(d.Split.right),!0);return[(0,b.el)(".dhx_grid-fixed-data-rows-wrap",{class:F?"dhx_grid__rows_bottom--fixed":"",style:{top:F?H+L+j<c.wrapper.height-M.x-u?H+L-U+u/2:c.wrapper.height-U-j-u/2-M.x:L,overflow:"hidden",height:Y>c.wrapper.height?c.wrapper.height:Y,width:m+M.y+u<$?m:$-M.y-u}},C(C([(0,b.el)(".dhx_grid-fixed-cols",w(w({onwheel:g.scrollFixedColsAndRows,style:{left:-a.scroll.left+"px",paddingLeft:c.shifts.x,position:"absolute",width:m},_flags:b.KEYED_LIST},(0,_.getHandlers)(0,P.xStart,a)),e(T.length)),[(0,b.el)(".dhx_grid-fixed-rows",{class:a.rightSplit?"dhx_grid__rows_right--fixed":""},C(C([],B,!0),[q&&(0,b.el)(".dhx_span-spans",{role:"presentation"},[q])],!1))])],A,!0),[a.bottomSplit?(0,b.el)(".dhx_grid__rows-border--frozen",{role:"presentation"}):null],!1))]}}},function(O,p,x){var w,C=this&&this.__extends||(w=function(l,u){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])},w(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function r(){this.constructor=l}w(l,u),l.prototype=u===null?Object.create(u):(r.prototype=u.prototype,new r)}),b=this&&this.__assign||function(){return b=Object.assign||function(l){for(var u,r=1,s=arguments.length;r<s;r++)for(var t in u=arguments[r])Object.prototype.hasOwnProperty.call(u,t)&&(l[t]=u[t]);return l},b.apply(this,arguments)},y=this&&this.__spreadArray||function(l,u,r){if(r||arguments.length===2)for(var s,t=0,n=u.length;t<n;t++)!s&&t in u||(s||(s=Array.prototype.slice.call(u,0,t)),s[t]=u[t]);return l.concat(s||Array.prototype.slice.call(u))};Object.defineProperty(p,"__esModule",{value:!0}),p.Card=void 0;var g=x(0),d=x(28),_=x(19),f=function(l){function u(r,s){return l.call(this,r,s)||this}return C(u,l),u.prototype.render=function(){var r=this,s=this.config,t=s.id,n=s.angle,i=s.width,e=s.height,a=s.headerColor,c=s.$group,v=s.$selected,m=c||v?v?2:1:0,k=this.config.$selected?a:"#E4E4E4",I=this.getCoords(this.config),P=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(T,H){P.push((0,_.getCircleTpl)(r.config,H))}):P.push((0,_.getCircleTpl)(this.config)),(0,g.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_card",{_key:t,"data-dhx-id":t,class:this.getCss(),style:{transform:"rotate(".concat(n||0,"deg)"),position:"absolute",top:I.y,left:I.x,zIndex:m}},y([(0,g.el)("div",{style:{height:e,width:i,border:"1px solid ".concat(k),borderRadius:"1px"}}),(0,_.getHeaderTpl)(this.config),(0,_.getTextTemplate)(this.config,this.getContent())],P,!0))},u.prototype.setDefaults=function(r,s){var t=r.width,n=r.height,i=r.text,e=r.headerColor,a=r.fixed,c=s.width?parseFloat(s.width):140,v=s.height?parseFloat(s.height):90;return r.width=t||c,r.height=n||v,r.text=typeof i=="string"?i:s.text||"",r.headerColor=e||s.headerColor||"",r.fixed=a||!1,r.editable=typeof r.editable!="boolean"||r.editable,r},u.prototype.getContent=function(){var r=this.config,s=r.$editable,t=r.text;return(0,g.el)("span.dhx_diagram_item__text",{style:(0,_.getShapeCss)(b(b({},this.config),{textAlign:"center",textVerticalAlign:"center"}))},s?[this.getEditorNode()]:t)},u}(d.BaseShape);p.Card=f},function(O,p,x){var w,C=this&&this.__extends||(w=function(f,l){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u[s]=r[s])},w(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=f}w(f,l),f.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),b=this&&this.__spreadArray||function(f,l,u){if(u||arguments.length===2)for(var r,s=0,t=l.length;s<t;s++)!r&&s in l||(r||(r=Array.prototype.slice.call(l,0,s)),r[s]=l[s]);return f.concat(r||Array.prototype.slice.call(l))};Object.defineProperty(p,"__esModule",{value:!0}),p.CustomShape=void 0;var y=x(0),g=x(28),d=x(19),_=function(f){function l(u,r){var s=f.call(this,u,r)||this;return s.shapes=r.shapes,s}return C(l,f),l.prototype.render=function(){var u=this,r=this.config,s=r.id,t=r.angle,n=r.width,i=r.height,e=r.$group,a=r.$selected,c=e||a?a?2:1:0,v=this.getCoords(this.config),m=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(k,I){m.push((0,d.getCircleTpl)(u.config,I))}):m.push((0,d.getCircleTpl)(this.config)),(0,y.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_template",{_key:s,class:this.getCss(),"data-dhx-id":s,style:{transform:"rotate(".concat(t||0,"deg)"),zIndex:c,position:"absolute",height:i,width:n,top:v.y,left:v.x}},b([this._getCustomContent()],m,!0))},l.prototype.setDefaults=function(u,r){Object.keys(r).forEach(function(n){u[n]=u[n]||r[n]});var s=r.width?parseFloat(r.width):140,t=r.height?parseFloat(r.height):90;return u.width=u.width||s,u.height=u.height||t,u.x=u.x||0,u.y=u.y||0,u.fixed=u.fixed||!1,u},l.prototype._getCustomContent=function(){var u=this.config,r=u.type,s=u.width,t=u.height,n=this.shapes[r];if(typeof n=="function")return(0,y.el)("div.dhx_diagram_shape__content",{style:{width:s,height:t}},this._getShapeFromFunction(n))},l.prototype._normalizeConfigText=function(u){var r=this;return Array.isArray(u)?u.forEach(function(s){return r._normalizeConfigText(s)}):typeof u=="string"&&(u.includes("&")&&(u=u.replace(/&/g,"&amp;")),u.includes("<")&&(u=u.replace(/</g,"&lt;")),u.includes(">")&&(u=u.replace(/>/g,"&gt;")),u.includes("'")&&(u=u.replace(/'/g,"&apos;")),u.includes('"')&&(u=u.replace(/"/g,"&quot;"))),u},l.prototype._getShapeFromFunction=function(u){var r=this,s={};Object.entries(this.config).forEach(function(n){var i=n[0],e=n[1];(i!=="id"&&i!=="type"&&i!=="preview"&&!i.startsWith("$")&&typeof e=="string"||Array.isArray(e))&&(s[i]=r._normalizeConfigText(e))});var t=new DOMParser().parseFromString(u(Object.assign({},this.config,s)),"text/xml");return[(0,y.jsonToVDOM)((0,y.xmlToJson)(t))]},l}(g.BaseShape);p.CustomShape=_},function(O,p,x){var w,C=this&&this.__extends||(w=function(l,u){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])},w(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function r(){this.constructor=l}w(l,u),l.prototype=u===null?Object.create(u):(r.prototype=u.prototype,new r)}),b=this&&this.__assign||function(){return b=Object.assign||function(l){for(var u,r=1,s=arguments.length;r<s;r++)for(var t in u=arguments[r])Object.prototype.hasOwnProperty.call(u,t)&&(l[t]=u[t]);return l},b.apply(this,arguments)},y=this&&this.__spreadArray||function(l,u,r){if(r||arguments.length===2)for(var s,t=0,n=u.length;t<n;t++)!s&&t in u||(s||(s=Array.prototype.slice.call(u,0,t)),s[t]=u[t]);return l.concat(s||Array.prototype.slice.call(u))};Object.defineProperty(p,"__esModule",{value:!0}),p.ShapesCollection=void 0;var g=x(1),d=x(8),_=x(27),f=function(l){function u(r,s){var t=l.call(this,r,s)||this;return t._groupChildren={},t._children={},t._roots=[],t.events.on(_.DataEvents.change,function(n,i,e){var a,c=(a=e==null?void 0:e.$item)===null||a===void 0?void 0:a.getBaseType();if(t.config.diagramConfig.type==="default")switch(i){case"add":c!=="group"&&c!=="swimlane"||(c==="swimlane"&&t._checkSwimlaneCells(e),t._setGroupChildren(e));break;case"update":c!=="group"&&c!=="swimlane"||t._setGroupChildren(e);break;case"remove":c!=="group"&&c!=="swimlane"||t._removeGroupChildren(e)}else i==="add"&&e.parent&&t._addCore({from:e.parent,to:e.id},-1);i==="remove"&&(t._removeNested(e),t._removeCore(e.$parent)),t._mark_chains()}),t.events.on(_.DataEvents.filter,function(){return t._mark_chains()}),t}return C(u,l),u.prototype.getChildren=function(r,s){s===void 0&&(s=!0);var t=this._groupChildren[r]||this._children[r],n=[];if(t&&(n=y(y([],n,!0),t,!0),s))for(var i=0;i<t.length;i++)n=y(y([],n,!0),this.getChildren(t[i].id),!0);return n},u.prototype.eachChild=function(r,s,t){t===void 0&&(t=!0);var n=this._groupChildren[r]||this._children[r];if(n)for(var i=0;i<n.length;i++){var e=n[i];s.call(this,e),(this._groupChildren[e.id]||this._children[e.id])&&t&&this.eachChild(e.id,s)}},u.prototype.eachParent=function(r,s,t){t===void 0&&(t=!1);var n=this.getItem(r);if(n&&!this._roots.includes(r)){t&&s.call(this,n);var i=this.getItem(n.parent||n.$group);s.call(this,i),this.eachParent(n.parent||n.$group,s)}},u.prototype.getNearId=function(r){var s=this._pull[r];if(!s)return this._order.length?this._order[0].id:"";for(var t=s,n=this.config.diagramConfig.type;(n==="org"||n==="mindmap")&&t.$parent;)if((t=this._pull[this._pull[t.$parent].from]).open===!1)return t.id;return s.id},u.prototype.mapVisible=function(r){var s=this,t=[],n=this.config.diagramConfig.type;if(n==="mindmap"||n==="org")for(var i=this.getRoots(),e=0;e<i.length;e++)this._eachBranch(this.getItem(i[e]),r,t);else this.forEach(function(a){if(!a.hidden){if(a.$item.getBaseType()==="line"){var c=s.getItem(a.from)||{},v=s.getItem(a.to)||{};if(c.hidden||v.hidden)return;s._setLineLevel(a,c,v)}t.push(r(a))}});return t},u.prototype.getRoots=function(){return this._roots},u.prototype.getRoot=function(r){if(r&&this.exists(r)){var s=this.getItem(r);return s.$group||s.parent?this.getRoot(s.$group||s.parent):r}},u.prototype.serialize=function(){return this._serialize(y([],l.prototype.serialize.call(this),!0))||[]},u.prototype._serialize=function(r){var s=this;if(r.length)return r.map(function(t){if((0,g.isType)(t)==="object"){var n=b({},t);return Object.entries(n).forEach(function(i){var e=i[0],a=i[1];e.startsWith("$")?delete n[e]:Array.isArray(a)?n[e]=s._serialize(a):(0,g.isType)(a)==="object"&&(n[e]=s._serialize([a])[0])}),n}return t})},u.prototype._removeNested=function(r){var s=this,t=this.config.diagramConfig.type,n=r.$connection,i=r.$group;if(t==="default"&&(i&&this._setGroupChildren(this.getItem(i)),r.$item.getBaseType()==="line"&&this.eachChild(r.id,function(a){return s._removeCore(a.id)})),n)for(var e=0;e<n.length;e++)t!=="mindmap"&&t!=="org"||(this._removeNested(this.getItem(n[e][1])),this._removeCore(n[e][1])),this._removeCore(n[e][0]),this.eachChild(n[e][0],function(a){return s._removeCore(a.id)})},u.prototype._eachBranch=function(r,s,t){if(!r.hidden&&(t.push(s(r)),r.open!==!1)){var n=r.$connection;if(n)for(var i=0;i<n.length;i++){var e=this.getItem(n[i][1]);e.hidden||(t.push(s(this.getItem(n[i][0]))),this._eachBranch(e,s,t))}}},u.prototype._parse_data=function(r){for(var s=this,t=[],n=!1,i=0;i<r.length;i++){var e=r[i];e.parent&&!n&&t.push({from:e.parent,to:e.id}),e.from&&(n=!0)}t.length&&!n&&(r=r.concat(t)),l.prototype._parse_data.call(this,r),this._mark_chains(),this.mapVisible(function(a){var c=a==null?void 0:a.$item.getBaseType();c!=="group"&&c!=="swimlane"||(c==="swimlane"&&s._checkSwimlaneCells(a),s._setGroupChildren(a))})},u.prototype._mark_chains=function(){var r=this;this._roots=[],this._children={};var s={},t={},n={},i={},e={},a=this.config.diagramConfig.type;if(this.forEach(function(v){if(v.$item.getBaseType()==="line"){var m=v;t[m.to]=m.id,s[m.from]||(s[m.from]=[]),s[m.from].push([v.id,m.to]),a==="default"&&(s[m.to]||(s[m.to]=[]),s[m.to].push([v.id,m.from])),n[m.to]=m.from}a==="org"&&(v.assistant&&(i[v.parent]||(i[v.parent]=[]),i[v.parent].push(v.id)),v.partner&&(e[v.parent]||(e[v.parent]=[]),e[v.parent].push(v.id)))}),this.forEach(function(v){var m=v.$item.getBaseType(),k=v.id,I=r.config.diagramConfig,P=I.type,T=I.lineConfig;v.$typeConfig={type:P,lineConfig:T},m==="shape"&&(v.$connection=s[k]),P==="default"?(v.$group||r._roots.push(k),m==="lineTitle"&&(r._children[v.parent]||(r._children[v.parent]=[]),r._children[v.parent].push(v),v.$item.parent=r.getItem(v.parent))):m==="shape"&&(v.$parent=t[k],v.parent||(v.parent=n[k]),v.parent?(r._children[v.parent]||(r._children[v.parent]=[]),r._children[v.parent].push(v)):r._roots.push(k),i[k]?v.$assistants=i[k]:delete v.$assistants,e[k]?v.$partners={common:e[k]}:delete v.$partners)}),a!=="default"){if(a==="mindmap"){var c=this.getItem(this._roots[0]);!(0,g.isEmptyObj)(c==null?void 0:c.openDir)&&Object.values(c==null?void 0:c.openDir).every(function(v){return!v})&&(c.open=!1)}this._setBranchLevel(this.getItem(this._roots[0]))}},u.prototype._setBranchLevel=function(r,s){if(s===void 0&&(s=0),r){var t=r==null?void 0:r.$connection;if(t)for(var n=void 0,i=0;i<t.length;i++)(n=this.getItem(t[i][1])).hidden||(r.$level=s,this._setBranchLevel(n,s+1));r.$level=s++}},u.prototype._setLineLevel=function(r,s,t){if(s||t){var n=0;if(s!=null&&s.$group&&(s!=null&&s.id)){var i=[];this.eachParent(s.id,function(a){return(a==null?void 0:a.id)&&i.push(a.id)}),i.length>n&&(n=i.length)}if(t!=null&&t.$group&&(t!=null&&t.id)){var e=[];this.eachParent(t.id,function(a){return(a==null?void 0:a.id)&&e.push(a.id)}),e.length>n&&(n=e.length)}r.$level=n}else r.$level=0},u.prototype._setGroupChildren=function(r){var s;if(r){if(this._groupChildren[r.id]=[],r.groupChildren||(r.groupChildren=[]),(s=r==null?void 0:r.layout)===null||s===void 0?void 0:s.length){var t=new Set(r.layout.flat(1/0));r.groupChildren=Array.from(t)}var n=r.groupChildren;if(Array.isArray(n)&&n.length)for(var i=0;i<n.length;i++){var e=this._pull[n[i]];e&&(e.$group=r.id,this._groupChildren[r.id].push(e),e.$item.getBaseType()!=="group"||this._groupChildren[e.id]||this._setGroupChildren(e))}this._setGroupVisible(r)}},u.prototype._removeGroupChildren=function(r){var s=r.id;if(this._groupChildren[s].length)for(var t=0;t<this._groupChildren[s].length;t++)this.remove(this._groupChildren[s][t].id);delete this._groupChildren[s]},u.prototype._setGroupVisible=function(r){var s=this,t=r.id,n=r.open,i=r.header;!(i!=null&&i.enable)||!(i!=null&&i.closable)||n?this.eachChild(t,function(e){var a,c;!((a=s._pull[e.$group])===null||a===void 0)&&a.open&&!(!((c=s._pull[e.$group])===null||c===void 0)&&c.hidden)&&s.update(e.id,{hidden:!n},!0)}):this.eachChild(t,function(e){return s.update(e.id,{hidden:!n},!0)})},u.prototype._checkSwimlaneCells=function(r){for(var s=r.layout,t={},n=0;n<s.length;n++)for(var i=s[n],e=0;e<i.length;e++){var a=i[e];t[a]||this.exists(a)||(t[a]={type:"$sgroup",id:a})}this.add(Object.values(t))},u}(d.DataCollection);p.ShapesCollection=f},function(O,p,x){var w,C,b;Object.defineProperty(p,"__esModule",{value:!0}),p.DirVectors=p.Direction=p.LineMode=void 0,function(y){y[y.Direct=1]="Direct",y[y.Edges=2]="Edges"}(C||(p.LineMode=C={})),function(y){y[y.Top=1]="Top",y[y.Bottom=2]="Bottom",y[y.Right=3]="Right",y[y.Left=4]="Left"}(b||(p.Direction=b={})),p.DirVectors=((w={})[b.Bottom]={x:0,y:1},w[b.Top]={x:0,y:-1},w[b.Right]={x:1,y:0},w[b.Left]={x:-1,y:0},w)},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.setHeaderColor=void 0;var w=["#FF9800","#607D8B","#00C7B5","#03A9F4","#9575CD","#F06292"];p.setHeaderColor=function(C){C.forEach(function(b){var y=b.$connection;if(y){var g=C.getItem(y[0][1]).headerColor;b.$expandColor=g||w[(b.$level+1)%w.length]}var d=w[b.$level%w.length];b.partner&&(d=w[(b.$level-1)%w.length]),b.assistant&&(d=w[(b.$level+2)%w.length]),b.stroke=b.stroke||d,b.headerColor=b.headerColor||d})}},function(O,p,x){var w,C=this&&this.__extends||(w=function(r,s){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},w(r,s)},function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function t(){this.constructor=r}w(r,s),r.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}),b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},b.apply(this,arguments)},y=this&&this.__spreadArray||function(r,s,t){if(t||arguments.length===2)for(var n,i=0,e=s.length;i<e;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return r.concat(n||Array.prototype.slice.call(s))};Object.defineProperty(p,"__esModule",{value:!0}),p.Swimlane=void 0;var g=x(0),d=x(1),_=x(57),f=x(58),l=x(19),u=function(r){function s(t,n){var i=r.call(this,t,n)||this;return i.subHeaderNearCells={rows:[],cols:[]},i.children={},i}return C(s,r),s.prototype.getBaseType=function(){return"swimlane"},s.prototype.isEditable=function(t){var n,i;if(t){var e=this.getSubHeaderType(t),a=this.config[e==="col"?"subHeaderCols":"subHeaderRows"],c=(a==null?void 0:a.headers).find(function(v){var m=v.id;return t===m});return typeof(c==null?void 0:c.editable)=="boolean"?c.editable:a==null?void 0:a.editable}return(i=(n=this.config)===null||n===void 0?void 0:n.header)===null||i===void 0?void 0:i.editable},s.prototype.getChildHtmlNodes=function(t,n){return this.removeExtraDefaults(n),this.setExtraDefaults(t,n),r.prototype.getChildHtmlNodes.call(this,t,n)},s.prototype.render=function(t){var n,i=this.config,e=i.id,a=i.header,c=i.open,v=i.$width,m=i.$height,k=i.subHeaderCols,I=i.subHeaderRows,P=t||this.data.getChildren(this.id,!1);n=this.getChildHtmlNodes(this.config,P);var T=!(a!=null&&a.enable)||!(a!=null&&a.closable)||c;if(n.length||!T){this.setServiceProp(this.config);var H=a==null?void 0:a.enable,$=T&&(k==null?void 0:k.enable),L=T&&(I==null?void 0:I.enable),j="dhx_diagram_item dhx_diagram_group ";return a!=null&&a.enable&&(j+="dhx_diagram_group--position_".concat(a.position)),(0,g.el)("div.dhx_diagram_swimlane",{_key:e},[(0,g.el)("div",{"data-dhx-id":e,class:"".concat(j," ").concat(this.getCss()),style:(0,l.getSwimlaneContainerStyle)(this.config,this.getCoords(this.config))},[(0,g.el)("div.dhx_diagram_group__children",y([(0,g.sv)("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:v,height:m},this.getChildSvgNodes(this.config,this.data))],n,!0)),H&&this.getGroupHeader(this.config,this.getEditorNode()),$&&this.getSubHeaderNode(this.config,"cols"),L&&this.getSubHeaderNode(this.config,"rows")]),(0,g.el)("div.dhx_diagram_group--background",{style:(0,l.getSwimlaneBackGround)(this.config,this.getCoords(this.config))})])}},s.prototype.setDefaults=function(t){this.setServiceProp(t),r.prototype.setDefaults.call(this,t);var n={fontSize:14,lineHeight:14,textAlign:"center",textVerticalAlign:"center",fontStyle:"normal",fontWeight:"500",fontColor:"#4C4C4C",iconColor:"#808080",editable:!0,fill:"#EEF1F6"};return t.subHeaderRows&&(t.subHeaderRows=b(b({height:40,enable:!0,position:"left"},n),t.subHeaderRows),Array.isArray(t.subHeaderRows.headers)||(t.subHeaderRows.headers=[])),t.subHeaderCols&&(t.subHeaderCols=b(b({height:40,enable:!0,position:"top"},n),t.subHeaderCols),Array.isArray(t.subHeaderCols.headers)||(t.subHeaderCols.headers=[])),t},s.prototype.setExtraDefaults=function(t,n){var i,e,a,c,v,m,k,I,P=t.layout,T=t.height,H=t.width,$=t.header,L=t.x,j=t.y,M=t.subHeaderCols,F=t.subHeaderRows,S=t.style,R=S.stroke,B=S.strokeWidth,Y={},q=0,U=0,V=this.getHeaderStates(t),A=V.isHeaderBottom,N=V.isHeaderLeft,W=V.isHeaderRight,Q=V.isHeaderTop,X=V.isSubHeaderBottom,K=V.isSubHeaderLeft,ne=V.isSubHeaderRight,ie=V.isSubHeaderTop,oe=parseFloat($==null?void 0:$.height)||0,re=parseFloat(F==null?void 0:F.height)||0,le=parseFloat(M==null?void 0:M.height)||0;if(T){var ue=0;(Q||A)&&(ue+=oe),(ie||X)&&(ue+=le),q=(T-ue)/P.length}if(H){ue=0,(W||N)&&(ue+=oe),(ne||K)&&(ue+=re);for(var de=0,ge=0;ge<P.length;ge++){var ce=P[ge].length;ce>de&&(de=ce)}U=(H-ue)/de}this.subHeaderNearCells={rows:[],cols:[]},this.children={};for(var he=0;he<n.length;he++)this.children[n[he].id]=n[he];for(he=0;he<P.length;he++)for(var ve=P[he],be=0;be<ve.length;be++){var xe=ve[be],ye=Y[xe],z=be!==0&&Y[ve[be-1]],ae=he!==0&&Y[P[he-1][be]];if(!ye&&this.children[xe]){Y[xe]=this.children[xe],Y[xe].height=q,Y[xe].width=U,Y[xe].$rowCount=1,Y[xe].$colCount=1,be===0?(ue=0,N&&(ue+=oe),K&&(ue+=re),Y[xe].x=L+ue,this.subHeaderNearCells.rows.push(Y[xe])):Y[xe].x=z.x+z.width,he===0?(ue=0,Q&&(ue+=oe),ie&&(ue+=le),Y[xe].y=j+ue,this.subHeaderNearCells.cols.push(Y[xe])):Y[xe].y=ae.y+ae.height;var Ce=this.subHeaderNearCells.rows.length-1;!((i=t==null?void 0:t.subHeaderRows)===null||i===void 0)&&i.enable&&(!((e=t.subHeaderRows)===null||e===void 0)&&e.headers[Ce]||(t.subHeaderRows.headers[Ce]={text:_.default.shapebar.untitled,id:(0,d.uid)()}),!((c=(a=t.subHeaderRows)===null||a===void 0?void 0:a.headers[Ce])===null||c===void 0)&&c.id||(t.subHeaderRows.headers[Ce].id=(0,d.uid)()));var Ee=this.subHeaderNearCells.cols.length-1;!((v=t==null?void 0:t.subHeaderCols)===null||v===void 0)&&v.enable&&(!((m=t.subHeaderCols)===null||m===void 0)&&m.headers[Ee]||(t.subHeaderCols.headers[Ee]={text:_.default.shapebar.untitled,id:(0,d.uid)()}),!((I=(k=t.subHeaderCols)===null||k===void 0?void 0:k.headers[Ee])===null||I===void 0)&&I.id||(t.subHeaderCols.headers[Ee].id=(0,d.uid)())),Y[xe].style.stroke=R,Y[xe].style.strokeWidth=B}else ye&&(z===ye&&ae!==ye&&(Y[xe].width+=U,Y[xe].$colCount++),ae===ye&&z!==ye&&(Y[xe].height+=q,Y[xe].$rowCount++));z&&z!==ye&&(Y[xe].$borderPosition.left=!0),ae&&ae!==ye&&(Y[xe].$borderPosition.top=!0)}Y=null},s.prototype.removeExtraDefaults=function(t){for(var n=0;n<t.length;n++)t[n].$borderPosition={left:!1,top:!1}},s.prototype.getSubHeaderNode=function(t,n){var i,e,a=t.header,c=t.subHeaderCols,v=t.subHeaderRows,m=t.height,k=t.width,I=t.id,P=this.getHeaderStates(t),T=P.isHeaderBottom,H=P.isHeaderLeft,$=P.isHeaderRight,L=P.isHeaderTop,j=P.isSubHeaderBottom,M=P.isSubHeaderLeft,F=P.isSubHeaderRight,S=P.isSubHeaderTop,R=parseFloat(a==null?void 0:a.height)||0,B=parseFloat(v==null?void 0:v.height)||0,Y=parseFloat(c==null?void 0:c.height)||0,q=0,U=0,V=0,A=0;n==="cols"&&(U=Y,q=k,S&&L&&(A=R),j&&(A=m-Y,T&&(A=m-R-Y)),H&&(V=R,q=k-R),$&&(q=k-R)),n==="rows"&&(U=m,q=B,M&&H&&(V=R),F&&(V=k-B,$&&(V=k-B-R)),L&&(A=R,U=m-R),T&&(U=m-R),S&&(A+=Y,U-=Y),j&&(U-=Y));for(var N={height:U,width:q,top:A,left:V},W=this.subHeaderNearCells[n].length,Q=n==="cols"?c.headers:v.headers,X=[],K=0;K<W;K++){var ne=Q[K],ie=n==="rows"?(i=this.subHeaderNearCells.rows[K])===null||i===void 0?void 0:i.height:"100%",oe="100%";if(ne.$subMenu={enable:!0,data:[]},ne.$subMenu.enable){var re="".concat(I,"/").concat(ne.id,"/");n==="cols"&&(ne.$subMenu.data=[{id:re+"add_column_left",value:_.default.menuAddColumnLeft,icon:"dxi dxi-table-column-plus-before",add:"left"},{id:re+"add_column_right",value:_.default.menuAddColumnRight,icon:"dxi dxi-table-column-plus-after",add:"right"},{id:re+"move_column_left",value:_.default.menuMoveColumnLeft,icon:"dxi dxi-arrow-left",disabled:K===0,move:"left"},{id:re+"move_column_right",value:_.default.menuMoveColumnRight,icon:"dxi dxi-arrow-right",disabled:K===W-1,move:"right"},{type:"separator"},{id:re+"remove",value:_.default.menuDeleteCol,icon:"dxi dxi-delete-outline",disabled:W===1,remove:"col"}]),n==="rows"&&(ne.$subMenu.data=[{id:re+"add_row_up",value:_.default.menuAddRowUp,icon:"dxi dxi-table-row-plus-before",add:"up"},{id:re+"add_row_down",value:_.default.menuAddRowDown,icon:"dxi dxi-table-row-plus-after",add:"down"},{id:re+"move_row_up",value:_.default.menuMoveRowUp,icon:"dxi dxi-arrow-up",disabled:K===0,move:"up"},{id:re+"move_row_down",value:_.default.menuMoveRowDown,icon:"dxi dxi-arrow-down",disabled:K===W-1,move:"down"},{type:"separator"},{id:re+"remove",value:_.default.menuDeleteRow,icon:"dxi dxi-delete-outline",disabled:W===1,remove:"row"}])}n==="cols"&&(oe=(e=this.subHeaderNearCells.cols[K])===null||e===void 0?void 0:e.width,(M&&K===0||F&&K===W-1)&&(oe+=B)),X.push(this.getSubHeaderCellNode(b(b({},ne),{type:n,index:K,width:oe,height:ie}),this.config,this.getEditorNode()))}return(0,g.el)("div.dhx_diagram_swimlane__subheader.dhx_diagram_swimlane__subheader--position_".concat(n),{style:N},y([],X,!0))},s.prototype.getSubHeaderCellNode=function(t,n,i){var e=this.getHeaderStates(n),a=e.isSubHeaderLeft,c=e.isSubHeaderTop,v=n.style,m=v.strokeWidth,k=v.stroke,I=t.width,P=t.height,T=t.id,H=t.text,$=t.type,L=t.index,j=$==="cols"?n.subHeaderCols:n.subHeaderRows,M=j.lineHeight,F=j.textAlign,S=j.textVerticalAlign,R=j.fontSize,B=j.fontColor,Y=j.fontStyle,q=j.fontWeight,U=j.fill,V=j.iconColor,A={lineHeight:t.lineHeight||M,textAlign:t.textAlign||F,textVerticalAlign:t.textVerticalAlign||S,fontSize:t.fontSize||R,fontColor:t.fontColor||B,fontStyle:t.fontStyle||Y,fontWeight:t.fontWeight||q},N={width:I,height:P};if($==="cols"){var W=L!==0?", ".concat(m,"px 0px 0px ").concat(k," inset"):"";N.boxShadow="0px ".concat(c?"-":"").concat(m,"px 0px ").concat(k," inset ").concat(W)}if($==="rows"){var Q=L!==0?", 0px ".concat(m,"px 0px ").concat(k," inset"):"";N.boxShadow="".concat(a?"-":"").concat(m,"px 0px 0px ").concat(k," inset ").concat(Q)}return(0,g.el)("div.dhx_diagram_swimlane__subheader_container",{_key:T,subheader_id:T,style:N},[(0,g.el)("div.dhx_diagram_swimlane__subheader_text",{style:b({},(0,l.getTextStyle)(b(b({},A),{container:{width:I,height:P}})))},n.$editable&&this.editableProperty.editableId===T?[i]:H),t.$subMenu.enable&&(0,l.getMenuIcon)({dir:$,color:t.iconColor||V}),(0,g.el)("div",{style:{position:"absolute",width:I,height:P,background:t.fill||U,zIndex:-1}})])},s.prototype.getHeaderStates=function(t){var n=t.header,i=t.subHeaderRows,e=t.subHeaderCols;return{isHeaderTop:(n==null?void 0:n.enable)&&(n==null?void 0:n.position)==="top",isHeaderBottom:(n==null?void 0:n.enable)&&(n==null?void 0:n.position)==="bottom",isHeaderRight:(n==null?void 0:n.enable)&&(n==null?void 0:n.position)==="right",isHeaderLeft:(n==null?void 0:n.enable)&&(n==null?void 0:n.position)==="left",isSubHeaderTop:(e==null?void 0:e.enable)&&(e==null?void 0:e.position)==="top",isSubHeaderBottom:(e==null?void 0:e.enable)&&(e==null?void 0:e.position)==="bottom",isSubHeaderRight:(i==null?void 0:i.enable)&&(i==null?void 0:i.position)==="right",isSubHeaderLeft:(i==null?void 0:i.enable)&&(i==null?void 0:i.position)==="left"}},s.prototype.getSubHeaderType=function(t){var n,i,e=this.config,a=e.subHeaderCols,c=e.subHeaderRows,v=(c==null?void 0:c.enable)&&((n=c==null?void 0:c.headers)===null||n===void 0?void 0:n.length),m=(a==null?void 0:a.enable)&&(a==null?void 0:a.headers.length),k=-1,I=-1;return v&&(k=c.headers.findIndex(function(P){var T=P.id;return t===T}),k!==-1&&(i="row")),m&&(I=a.headers.findIndex(function(P){var T=P.id;return t===T}),I!==-1&&(i="col")),i},s}(f.BaseGroup);p.Swimlane=u},function(O,p,x){var w,C=this&&this.__extends||(w=function(_,f){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(l[r]=u[r])},w(_,f)},function(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function l(){this.constructor=_}w(_,f),_.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}),b=this&&this.__spreadArray||function(_,f,l){if(l||arguments.length===2)for(var u,r=0,s=f.length;r<s;r++)!u&&r in f||(u||(u=Array.prototype.slice.call(f,0,r)),u[r]=f[r]);return _.concat(u||Array.prototype.slice.call(f))};Object.defineProperty(p,"__esModule",{value:!0}),p.Group=void 0;var y=x(0),g=x(19),d=function(_){function f(l,u){return _.call(this,l,u)||this}return C(f,_),f.prototype.setDefaults=function(l){return l.width=l.width||300,l.height=l.height||200,this.setServiceProp(l),_.prototype.setDefaults.call(this,l),l},f.prototype.render=function(){this.setServiceProp(this.config);var l=this.config,u=l.id,r=l.header,s=l.$width,t=l.$height,n="dhx_diagram_item dhx_diagram_group ";r!=null&&r.enable&&(n+="dhx_diagram_group--position_".concat(r.position));var i=this.getChildHtmlNodes(this.config,this.data),e=this.getChildSvgNodes(this.config,this.data);return(0,y.el)("div",{_key:u,"data-dhx-id":u,class:"".concat(n," ").concat(this.getCss()),style:(0,g.getGroupContainerStyle)(this.config,this.getCoords(this.config))},[(0,y.el)("div.dhx_diagram_group__children",b([(0,y.sv)("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:s,height:t},e)],i,!0)),(r==null?void 0:r.enable)&&this.getGroupHeader(this.config,this.getEditorNode())])},f}(x(58).BaseGroup);p.Group=d},function(O,p,x){var w,C=this&&this.__extends||(w=function(_,f){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(l[r]=u[r])},w(_,f)},function(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function l(){this.constructor=_}w(_,f),_.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}),b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var f,l=1,u=arguments.length;l<u;l++)for(var r in f=arguments[l])Object.prototype.hasOwnProperty.call(f,r)&&(_[r]=f[r]);return _},b.apply(this,arguments)},y=this&&this.__spreadArray||function(_,f,l){if(l||arguments.length===2)for(var u,r=0,s=f.length;r<s;r++)!u&&r in f||(u||(u=Array.prototype.slice.call(f,0,r)),u[r]=f[r]);return _.concat(u||Array.prototype.slice.call(f))};Object.defineProperty(p,"__esModule",{value:!0}),p.GroupSwimlane=void 0;var g=x(0),d=function(_){function f(l,u){var r=_.call(this,l,u)||this;return r.setServiceProp(l),r}return C(f,_),f.prototype.setServiceProp=function(l){var u=l.height,r=l.width,s=l.$borderPosition;l.$captureArea=l.$captureArea||"out",l.$borderPosition=b({left:!1,top:!1},s),l.entryArea.catchArea=25,l.$width=r,l.$height=u},f.prototype.setDefaults=function(l){return _.prototype.setDefaults.call(this,l),delete l.header,l},f.prototype.render=function(){this.setServiceProp(this.config);var l=this.config,u=l.id,r=l.header,s=l.$width,t=l.$height,n="dhx_diagram_item dhx_diagram_group ";r!=null&&r.enable&&(n+="dhx_diagram_group--position_".concat(r.position," "));var i=this.getChildHtmlNodes(this.config,this.data),e=this.getChildSvgNodes(this.config,this.data);return(0,g.el)("div.dhx_diagram_group_swimlane",{_key:u},[(0,g.el)("div",{"data-dhx-id":u,class:"".concat(n," ").concat(this.getCss()),style:function(a,c){var v,m=a.$width,k=a.$height,I=a.$captureArea,P=a.$borderPosition,T=a.style,H=T.overFill,$=T.partiallyFill,L=T.fill,j=T.strokeWidth,M=T.stroke;switch(I){case"over":v=H;break;case"partially":v=$;break;default:v=L}var F=P!=null&&P.left?j:0,S=P!=null&&P.top?j:0,R="".concat(F,"px ").concat(S,"px 0px ").concat(M," inset");return{position:"absolute",background:v,width:m,height:k,top:c.y,left:c.x,boxShadow:R}}(this.config,this.getCoords(this.config))},[(0,g.el)("div.dhx_diagram_group__children",y([(0,g.sv)("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:s,height:t},e)],i,!0))])])},f}(x(58).BaseGroup);p.GroupSwimlane=d},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.drag=void 0;var w=function(){function C(){var b=this;this._moveHandler=function(y){var g=y.clientX,d=y.clientY;if(y.pointerType==="touch"&&y.preventDefault(),b._handler.onMove&&(Math.abs(g-b._start.x)>5||Math.abs(d-b._start.y)>5)){b._isMove=!0;var _={x:g-b._start.x,y:d-b._start.y};b._handler.onMove(y,_,b._context),b._start.x+=_.x*b._scale,b._start.y+=_.y*b._scale}},this._upHandler=function(y){y.pointerType==="touch"&&y.preventDefault(),document.removeEventListener("pointermove",b._moveHandler),document.removeEventListener("pointerup",b._upHandler),document.body.classList.remove("dhx_noselect"),b._isMove?b._handler.onUp(y):typeof b._handler.connectOnUp=="function"&&b._handler.connectOnUp(y),b._isMove=b._handler=b._start=null}}return C.prototype.start=function(b,y,g,d){this._handler=y,this._context=g,this._scale=d||1,this._start={x:b.clientX,y:b.clientY},document.addEventListener("pointermove",this._moveHandler),document.addEventListener("pointerup",this._upHandler),document.body.classList.add("dhx_noselect")},C}();p.drag=new w},function(O,p,x){var w,C=this&&this.__extends||(w=function(a,c){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var k in m)Object.prototype.hasOwnProperty.call(m,k)&&(v[k]=m[k])},w(a,c)},function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function v(){this.constructor=a}w(a,c),a.prototype=c===null?Object.create(c):(v.prototype=c.prototype,new v)}),b=this&&this.__assign||function(){return b=Object.assign||function(a){for(var c,v=1,m=arguments.length;v<m;v++)for(var k in c=arguments[v])Object.prototype.hasOwnProperty.call(c,k)&&(a[k]=c[k]);return a},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.BaseDiagramEditor=void 0;var y=x(1),g=x(0),d=x(3),_=x(14),f=x(5),l=x(29),u=x(97),r=x(99),s=x(209),t=x(210),n=x(211),i=x(37),e=function(a){function c(v,m){var k=a.call(this,v,(0,y.extend)({scale:1,grid:!0,gridStep:10,shapeToolbar:!0,defaults:{},resizePoints:!0},m))||this;return k._touch={duration:350},k.version="6.0.1",k.events=new d.EventSystem(k),k._initDiagram(),k._initUI(v),k.history=new r.HistoryManager(k.diagram.data),k.model=new t.CopyManager(k),k._keyManager=new _.KeyManager(function(I,P){return P===k.diagram._uid}),k._setHandlers(),k}return C(c,a),c.prototype.paint=function(){this.view.paint()},c.prototype.parse=function(v){this.diagram.data.parse(v)},c.prototype.serialize=function(){return this.diagram.data.serialize()},c.prototype.zoomIn=function(v){v===void 0&&(v=.05),this.config.scale=this.diagram.config.scale+=v,this.events.fire(i.DiagramEditorEvents.zoomIn,[v]),this.paint()},c.prototype.zoomOut=function(v){v===void 0&&(v=.05),this.config.scale=this.diagram.config.scale=this.config.scale<=v?v:this.config.scale-v,this.events.fire(i.DiagramEditorEvents.zoomOut,[v]),this.paint()},c.prototype.import=function(v){this.diagram.data.parse(v.data.serialize())},c.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.view&&this.view.destructor(),this.diagram&&this.diagram.destructor(),this.events&&this.events.clear(),this.history.reset(),this.view=this.diagram=this.events=this.history=this.model=this._resizer=this._selectionBox=null,this.unmount()},c.prototype._setHandlers=function(){var v=this;this._initHotkeys(),this.diagram.events.on(l.SelectionEvents.afterUnSelect,function(m){var k=m.id,I=v.diagram.data.getItem(k);I!=null&&I.$connectMode&&(I.$connectMode=!1),v.paint()}),[l.DataEvents.change,l.DataEvents.filter,l.SelectionEvents.afterSelect].forEach(function(m){return v.diagram.events.on(m,function(){return v.paint()})}),[i.DiagramEditorEvents.zoomIn,i.DiagramEditorEvents.zoomOut].forEach(function(m){v.events.on(m,function(){var k=document.getElementById("scaleValue");k&&(k.innerText=(100*v.diagram.config.scale).toFixed(0)+"%")})}),this.diagram.events.on(l.DiagramEvents.emptyAreaMouseDown,function(m){if(v._resizer.connect.removeNearShape(),m.button===0){var k=v.diagram.getRootView().node.el,I=v.getBlockSelectedCoords(m,k);m.pointerType==="mouse"?(v._dragStart(m,k,I),v.paint()):(document.addEventListener("contextmenu",function(P){return P.preventDefault()},{once:!0}),v._touch.timer=setTimeout(function(){v._dragStart(m,k,I)},v._touch.duration),document.addEventListener("pointerup",function(P){P.timeStamp-m.timeStamp<v._touch.duration&&v._clearTouchTimer()},{once:!0}),document.addEventListener("pointermove",function(P){P.timeStamp-m.timeStamp<v._touch.duration&&v._clearTouchTimer()},{once:!0}),v.paint())}}),(0,g.awaitRedraw)().then(function(){v.view.getRootView().node.el.addEventListener("wheel",function(m){(m.ctrlKey||m.metaKey)&&((m.deltaY||m.detail||m.wheelDelta)>0?v.zoomOut():v.zoomIn(),m.preventDefault?m.preventDefault():m.returnValue=!1)})}),this.diagram.events.on(l.DiagramEvents.beforeRender,function(m){return v._diagramSize=m})},c.prototype._initHotkeys=function(){var v=this;this._keyManager.addHotKey("ctrl+a",function(m){if(!v.editbar.isFocused()){m.preventDefault();var k=[];v.diagram.data.forEach(function(H){v.config.type!=="default"&&H.$item.getBaseType()==="line"||k.push(H.id)});for(var I=0,P=k;I<P.length;I++){var T=P[I];v.diagram.selection.add({id:T,join:!0,batch:k})}v.paint()}}),this._keyManager.addHotKey("ctrl+shift+a",function(m){v.editbar.isFocused()||(m.preventDefault(),v.diagram.selection.remove())}),this._keyManager.addHotKey("delete",function(){v.editbar.isFocused()||v._removeSelected()}),this._keyManager.addHotKey("backspace",function(){v.editbar.isFocused()||v.diagram.editor.isEditable()||v._removeSelected()}),this._keyManager.addHotKey("ctrl+z",function(){v.editbar.isFocused()||v.history.undo()}),this._keyManager.addHotKey("ctrl+shift+z",function(){v.editbar.isFocused()||v.history.redo()}),this._keyManager.addHotKey("arrowLeft",function(){v.editbar.isFocused()||v.diagram.selection.getIds().forEach(function(m){var k=v.diagram.data.getItem(m);k.$group||v._moveItem(k,v.config.gridStep,"left")})}),this._keyManager.addHotKey("arrowRight",function(){v.editbar.isFocused()||v.diagram.selection.getIds().forEach(function(m){var k=v.diagram.data.getItem(m);k.$group||v._moveItem(k,v.config.gridStep,"right")})}),this._keyManager.addHotKey("arrowUp",function(){v.editbar.isFocused()||v.diagram.selection.getIds().forEach(function(m){var k=v.diagram.data.getItem(m);k.$group||v._moveItem(k,v.config.gridStep,"up")})}),this._keyManager.addHotKey("arrowDown",function(){v.editbar.isFocused()||v.diagram.selection.getIds().forEach(function(m){var k=v.diagram.data.getItem(m);k.$group||v._moveItem(k,v.config.gridStep,"down")})}),this._keyManager.addHotKey("alt+ctrl+c",function(m){m.preventDefault(),v.editbar.isFocused()||v.model.copyStyles()}),this._keyManager.addHotKey("alt+ctrl+v",function(){v.editbar.isFocused()||v.model.pasteStyles()}),this._keyManager.addHotKey("alt+1",function(){v.view.isVisible("shapebar")?v.view.hide("shapebar"):v.view.show("shapebar")}),this._keyManager.addHotKey("alt+2",function(){v.view.isVisible("editbar")?v.view.hide("editbar"):v.view.show("editbar")}),this._keyManager.addHotKey("alt+3",function(){v.config.grid=!v.config.grid,v.paint()})},c.prototype._getDefaults=function(){var v={};return Object.keys(l.flowShapes).forEach(function(m){return v[m]={}}),v=b(b({},v),{text:{text:"Text"}}),b(b({},v),this.config.defaults)},c.prototype._removeItem=function(v){var m=this.diagram.data.getItem(v);!m||(m==null?void 0:m.$level)===0&&this.config.type!=="default"||(this.diagram.data.remove(v),this._resizer.onUp())},c.prototype._getToolbarConfig=function(v){var m=v.type,k=v.shapeToolbar,I=[];switch(m){case"mindmap":I.push.apply(I,(0,n.getMindmapShapeToolbar)(l.locale));break;case"org":I.push.apply(I,(0,n.getOrgShapeToolbar)(l.locale));break;default:I.push.apply(I,(0,n.getDefaultShapeToolbar)(l.locale,this.config))}if(typeof k=="boolean"&&k)return I;if(Array.isArray(k)&&k.length){var P=[];return k.forEach(function(T){typeof T=="boolean"&&T&&P.push.apply(P,I);var H=I.find(function($){return $.id===T});typeof T=="string"&&H&&P.push(H),(0,y.isObject)(T)&&typeof(T==null?void 0:T.id)=="string"&&typeof(T==null?void 0:T.content)=="string"&&P.push(T)}),P}return[]},c.prototype._moveItem=function(v,m,k){var I=this;if(!(arguments.length<3)&&v){var P=v.$item,T=v.id,H=v.x,$=v.y,L=v.dx,j=L===void 0?0:L,M=v.dy,F=M===void 0?0:M,S=P.getBaseType();S!=="group"&&S!=="swimlane"||this.diagram.data.eachChild(T,function(B){switch(k){case"left":if(I.config.type==="default")B.x=B.x%m==0?B.x-m:Math.ceil((B.x-m)/m)*m;else{var Y=B.dx||0,q=B.x;B.dx=(q+Y)%m==0?j-m:Math.ceil((q+Y-m)/m)*m-q}break;case"right":I.config.type==="default"?B.x=B.x%m==0?B.x+m:Math.floor((B.x+m)/m)*m:(Y=B.dx||0,q=B.x,B.dx=(q+Y)%m==0?Y+m:Math.floor((q+Y+m)/m)*m-q);break;case"up":if(I.config.type==="default")B.y=B.y%m==0?B.x-m:Math.ceil((B.y-m)/m)*m;else{var U=B.dy||0,V=B.dy||0;B.dy=(V+U)%m==0?U-m:Math.ceil((V+U-m)/m)*m-V}break;case"down":I.config.type==="default"?B.y=B.y%m==0?B.x+m:Math.floor((B.y+m)/m)*m:(U=B.dy||0,V=B.dy||0,B.dy=(V+U)%m==0?U+m:Math.floor((V+U+m)/m)*m-V)}});var R={};switch(k){case"left":R=this.config.type==="default"?{x:H%m==0?H-m:Math.ceil((H-m)/m)*m}:{dx:(H+j)%m==0?j-m:Math.ceil((H+j-m)/m)*m-H};break;case"right":R=this.config.type==="default"?{x:H%m==0?H+m:Math.floor((H+m)/m)*m}:{dx:(H+j)%m==0?j+m:Math.floor((H+j+m)/m)*m-H};break;case"up":R=this.config.type==="default"?{y:$%m==0?$-m:Math.ceil(($-m)/m)*m}:{dy:($+F)%m==0?F-m:Math.ceil(($+F-m)/m)*m-$};break;case"down":R=this.config.type==="default"?{y:$%m==0?$+m:Math.floor(($+m)/m)*m}:{dy:($+F)%m==0?F+m:Math.floor(($+F+m)/m)*m-$}}this.diagram.data.update(T,R)}},c.prototype._removeSelected=function(){var v=this,m=this.diagram.selection.getIds();if(m.length)if(m.length===1){var k=this.diagram.selection.getItem();this._removeItem(k.id)}else m.forEach(function(I){return v._removeItem(I)}),this.diagram.selection.remove()},c.prototype._dragStart=function(v,m,k){var I=this;this._selectionBox=new s.SelectionBox(k,this.diagram),u.drag.start(v,{onMove:function(P){I._selectionBox.end=I.getBlockSelectedCoords(P,m),I.paint()},onUp:function(){v.pointerType==="touch"&&I._clearTouchTimer(),I._selectionBox.isValid()&&I._selectionBox.addSelected(),I._selectionBox=null,I.paint()}},null)},c.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null),document.body.classList.remove("dhx_notouch")},c.prototype.getBlockSelectedCoords=function(v,m){var k=m.getBoundingClientRect(),I=this.diagram.config.margin,P=this._diagramSize||{left:-I.x,top:-I.y},T=this.diagram.config.scale,H=m.scrollLeft,$=m.scrollTop;return{x:(v.clientX-k.left+H)/T-I.x+(P.left+I.x),y:(v.clientY-k.top+$)/T-I.y+(P.top+I.y),$rx:v.clientX-k.left+H,$ry:v.clientY-k.top+$}},c}(f.View);p.BaseDiagramEditor=e},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.HistoryManager=void 0;var w=x(8),C=function(){function b(y){var g=this;this.saveDelay=500,this.disabled=!1,this._data=y,this.reset(),this._data.events.on(w.DataEvents.change,function(d,_){g._inProgress||!_||g.disabled||g.add(g._data.serialize())})}return b.prototype.enable=function(){this.reset(),this.disabled=!1},b.prototype.disable=function(){this.disabled=!0},b.prototype.add=function(y){if(!this.disabled){this._position!==this._state.length-1&&(this._state=this._state.slice(0,this._position+1));var g=this._state.length-1,d=new Date,_={time:d,state:y};d.valueOf()-this._state[g].time.valueOf()>this.saveDelay?(this._state.push(_),this._position++):this._state[g]=_}},b.prototype.reset=function(){this._inProgress||(this._state=[{time:new Date,state:this._data.serialize()}],this._position=0)},b.prototype.undo=function(y){this.isUndo()&&!this.disabled&&(y?(this._position=0,this._state=this._state.slice(0,1)):this._position--,this._apply(this._state[this._position]))},b.prototype.redo=function(){this.isRedo()&&!this.disabled&&(this._position++,this._apply(this._state[this._position]))},b.prototype.isUndo=function(){return this._position>0},b.prototype.isRedo=function(){return this._position+1<=this._state.length-1},b.prototype._apply=function(y){this._inProgress=!0,this._data.parse(JSON.parse(JSON.stringify(y.state))),this._inProgress=!1},b}();p.HistoryManager=C},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(l){for(var u,r=1,s=arguments.length;r<s;r++)for(var t in u=arguments[r])Object.prototype.hasOwnProperty.call(u,t)&&(l[t]=u[t]);return l},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.View=void 0;var C=x(101),b=x(16),y=x(212),g=x(214),d=x(215),_=x(216),f=function(){function l(u,r){var s,t,n,i,e,a;this._views={},this._editor=r,this._diagram=r.diagram,this._config=r.config.view,this._isDefault=this._diagram.config.type==="default";var c=this._isDefault?" dhx_editor-default":" dhx_editor-org",v=[{id:"area",css:"dhx_editor_area"},{id:"editbar",width:(s=this._config.editbar.width)!==null&&s!==void 0?s:d.base.editbar.width,css:"dhx_editor_editbar "+(((t=this._config.editbar)===null||t===void 0?void 0:t.css)||""),hidden:!this.isViewEnable("editbar")}];this._isDefault&&v.unshift({id:"shapebar",width:(n=this._config.shapebar.width)!==null&&n!==void 0?n:d.base.shapebar.width,css:"dhx_editor_shapebar "+(((i=this._config.shapebar)===null||i===void 0?void 0:i.css)||""),hidden:!this.isViewEnable("shapebar")}),this._layout=new b.Layout(u,{height:"100%",css:"dhx_editor"+c,rows:[{id:"toolbar",height:"content",css:"dhx_editor_toolbar "+(((e=this._config.toolbar)===null||e===void 0?void 0:e.css)||""),hidden:!this.isViewEnable("toolbar")},{id:"main",css:"dhx_editor__wrapper",cols:v}]}),this.events=this._layout.events,this._toolbar=new y.Toolbar(w({items:this._isDefault?C.defaultToolbarItems:C.orgToolbarItems},this._config.toolbar||{}),this._editor),this._editbar=new _.Editbar(this._layout.getCell("editbar"),this._config.editbar,this._editor),this._views.toolbar=this._toolbar,this._views.editbar=this._editbar,this._isDefault&&(this._shapebar=new g.Shapebar(w(w({},this._config.shapebar||{}),{preview:w({gap:d.base.shapebar.gap,scale:d.base.shapebar.scale},((a=this._config.shapebar)===null||a===void 0?void 0:a.preview)||{})}),this._editor),this._layout.getCell("shapebar").attach(this._shapebar),this._views.shapebar=this._shapebar),this._layout.getCell("toolbar").attach(this._toolbar),this._layout.getCell("area").attach(this._diagram)}return l.prototype.hide=function(u){var r=this;u&&(u=u.toLocaleLowerCase(),this._views[u])?this._layout.getCell(u).hide():this._layout.forEach(function(s){return r._views[s.id]&&s.hide()})},l.prototype.show=function(u){var r=this;u&&(u=u.toLocaleLowerCase(),this._views[u])?this._layout.getCell(u).show():this._layout.forEach(function(s){return r._views[s.id]&&s.show()})},l.prototype.isVisible=function(u){var r;return(r=this._layout.getCell(u==null?void 0:u.toLocaleLowerCase()))===null||r===void 0?void 0:r.isVisible()},l.prototype.getViews=function(){return this._views},l.prototype.paint=function(){this._layout.paint(),this._diagram.paint()},l.prototype.destructor=function(){this._layout.destructor()},l.prototype.getRootView=function(){return this._layout.getRootView()},l.prototype.isViewEnable=function(u){var r,s;return!!((s=(r=this._config[u])===null||r===void 0?void 0:r.show)!==null&&s!==void 0?s:this._config[u])},l}();p.View=f},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.meta=p.orgToolbarItems=p.defaultToolbarItems=void 0;var w=x(1),C=x(0);function b(d,_){var f,l;_.config.type==="default"&&_.diagram.autoPlace({root:_.diagram.selection.getIds()[0],placeMode:d,mode:(f=_.config.autoplacement)===null||f===void 0?void 0:f.mode,graphPadding:(l=_.config.autoplacement)===null||l===void 0?void 0:l.graphPadding})}function y(d,_){return!!_&&(!_.dataset.dhxTheme&&d==="light"||_.dataset.dhxTheme===d)}function g(d){(0,C.awaitRedraw)().then(function(){var _=document.getElementById("scaleValue");_&&(_.innerText=(100*d.config.scale).toFixed(0)+"%")})}p.defaultToolbarItems=["file","edit","view","arrange","spacer","scale"],p.orgToolbarItems=["file","edit","view","spacer","scale"],p.meta=function(d,_){return{separator:{type:"separator"},spacer:{type:"spacer"},file:{id:"$file",type:"menuItem",value:d.toolbar.file,items:["importJson","export"]},importJson:{id:"$importJson",value:d.toolbar.importJson,handler:function(f){var l=document.createElement("input");l.type="file",l.setAttribute("accept","application/JSON"),l.onchange=function(u){var r,s=new FileReader;s.onload=function(){f.parse(s.result)},s.readAsText((r=u.target.files)===null||r===void 0?void 0:r[0])},l.click()}},export:{id:"$export",value:d.toolbar.export,items:["exportJson","exportPdf","exportPng"]},exportJson:{id:"$exportJson",value:d.toolbar.exportJson,handler:function(f){var l=JSON.stringify(f.serialize());(0,w.downloadFile)(l,"data.json","text/json")}},exportPdf:{id:"$exportPdf",value:d.toolbar.exportPdf,handler:function(f){return f.diagram.export.pdf()}},exportPng:{id:"$exportPng",value:d.toolbar.exportPng,handler:function(f){return f.diagram.export.png()}},edit:{id:"$edit",type:"menuItem",value:d.toolbar.edit,items:_==="default"?["undo","redo","separator","duplicate","copy","paste","separator","copyStyle","pasteStyle","separator","selectAll","selectNone"]:["undo","redo","separator","copyStyle","pasteStyle","separator","selectAll","selectNone"]},undo:{id:"$undo",value:d.toolbar.undo,hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+Z"]:d.hotkey["Ctrl+Z"],handler:function(f){return f.history.undo()}},redo:{id:"$redo",value:d.toolbar.redo,hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+Shift+Z"]:d.hotkey["Ctrl+Shift+Z"],handler:function(f){return f.history.redo()}},duplicate:{id:"duplicate",value:d.toolbar.duplicate,hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+D"]:d.hotkey["Ctrl+D"],handler:function(f){f.model.copy(),f.model.paste()}},copy:{id:"$copy",value:d.toolbar.copy,hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+C"]:d.hotkey["Ctrl+C"],handler:function(f){return f.model.copy()}},paste:{id:"$paste",value:d.toolbar.paste,hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+V"]:d.hotkey["Ctrl+V"],handler:function(f){return f.model.paste()}},copyStyle:{id:"$copyStyle",value:d.toolbar.copyStyle,hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+Alt+C"]:d.hotkey["Ctrl+Alt+C"],handler:function(f){return f.model.copyStyles()}},pasteStyle:{id:"$pasteStyle",value:d.toolbar.pasteStyle,hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+Alt+V"]:d.hotkey["Ctrl+Alt+V"],handler:function(f){return f.model.pasteStyles()}},selectAll:{id:"$selectAll",value:d.toolbar.selectAll,hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+A"]:d.hotkey["Ctrl+A"],handler:function(f){var l=[];f.diagram.data.forEach(function(t){f.config.type!=="default"&&t.$item.getBaseType()==="line"||l.push(t.id)});for(var u=0,r=l;u<r.length;u++){var s=r[u];f.diagram.selection.add({id:s,join:!0,batch:l})}f.paint()}},selectNone:{id:"$selectNone",value:d.toolbar.selectNone,hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+Shift+A"]:d.hotkey["Ctrl+Shift+A"],handler:function(f){f.diagram.selection.remove(),f.paint()}},view:{id:"$view",value:d.toolbar.view,type:"menuItem",items:_==="default"?["theme","separator","shapebar","editbar","grid","separator","connectionPoints","resizePoints","magnetic","separator","zoomIn","zoomOut"]:["theme","separator","editbar","separator","grid","separator","resizePoints","itemsDraggable","separator","zoomIn","zoomOut"]},theme:{id:"$theme",value:d.toolbar.theme,items:["themeLight","themeDark","themeLightContrast","themeDarkContrast"]},themeLight:{id:"$themeLight",value:d.toolbar.themeLight,checkIcon:function(f){var l;return y("light",(l=f.view)===null||l===void 0?void 0:l._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){var l,u=(l=f.view)===null||l===void 0?void 0:l._layout.getRootNode();(0,C.setTheme)("light",u)}},themeDark:{id:"$themeDark",value:d.toolbar.themeDark,checkIcon:function(f){var l;return y("dark",(l=f.view)===null||l===void 0?void 0:l._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){var l,u=(l=f.view)===null||l===void 0?void 0:l._layout.getRootNode();(0,C.setTheme)("dark",u)}},themeLightContrast:{id:"$themeLightContrast",value:d.toolbar.themeLightContrast,checkIcon:function(f){var l;return y("contrast-light",(l=f.view)===null||l===void 0?void 0:l._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){var l,u=(l=f.view)===null||l===void 0?void 0:l._layout.getRootNode();(0,C.setTheme)("contrast-light",u)}},themeDarkContrast:{id:"$themeDarkContrast",value:d.toolbar.themeDarkContrast,checkIcon:function(f){var l;return y("contrast-dark",(l=f.view)===null||l===void 0?void 0:l._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){var l,u=(l=f.view)===null||l===void 0?void 0:l._layout.getRootNode();(0,C.setTheme)("contrast-dark",u)}},shapebar:{id:"$shapebar",value:d.toolbar.shapebar,hotkey:d.hotkey["Alt+1"],checkIcon:function(f){var l;return!((l=f.view)===null||l===void 0)&&l.isVisible("shapebar")?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){f.view.isVisible("shapebar")?f.view.hide("shapebar"):f.view.show("shapebar")}},editbar:{id:"$editbar",value:d.toolbar.editbar,hotkey:d.hotkey["Alt+2"],checkIcon:function(f){var l;return!((l=f.view)===null||l===void 0)&&l.isVisible("editbar")?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){f.view.isVisible("editbar")?f.view.hide("editbar"):f.view.show("editbar")}},grid:{id:"$grid",value:d.toolbar.grid,hotkey:d.hotkey["Alt+3"],checkIcon:function(f){return f.config.grid?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){f.config.grid=!f.config.grid,f.paint()}},magnetic:{id:"$magnetic",value:d.toolbar.magnetic,checkIcon:function(f){var l,u;return((u=(l=f.config.magnetic)===null||l===void 0?void 0:l.show)!==null&&u!==void 0?u:f.config.magnetic)?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){typeof f.config.magnetic=="boolean"&&(f.config.magnetic=!f.config.magnetic),typeof f.config.magnetic=="object"&&(f.config.magnetic.show=!f.config.magnetic.show),f._resizer.setConfig({magnetic:f.config.magnetic}),f.paint()}},connectionPoints:{id:"$connectionPoints",value:d.toolbar.connectionPoints,checkIcon:function(f){return f.config.connectionPoints?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){f.config.connectionPoints=!f.config.connectionPoints,f.diagram.data.forEach(function(l){return l.$connectMode=!1}),f._resizer.setConfig({connectionPoints:f.config.connectionPoints}),f.paint()}},resizePoints:{id:"$resizePoints",value:d.toolbar.resizePoints,checkIcon:function(f){return f.config.resizePoints?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){f.config.resizePoints=!f.config.resizePoints,f._resizer.setConfig({resizePoints:f.config.resizePoints}),f.paint()}},itemsDraggable:{id:"$itemsDraggable",value:d.toolbar.itemsDraggable,checkIcon:function(f){return f.config.itemsDraggable?"dxi dxi-check":"dxi dxi-empty"},handler:function(f){f.config.itemsDraggable=!f.config.itemsDraggable,f.paint()}},zoomIn:{id:"$zoomIn",value:d.toolbar.zoomIn,icon:"dxi dxi-plus",handler:function(f){f.zoomIn(),g(f)},hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+Mousewheel"]:d.hotkey["Ctrl+Mousewheel"]},zoomOut:{id:"$zoomOut",value:d.toolbar.zoomOut,icon:"dxi dxi-minus",handler:function(f){f.zoomOut(),g(f)},hotkey:(0,w.isMacintosh)()?d.hotkey["CMD+Mousewheel"]:d.hotkey["Ctrl+Mousewheel"]},arrange:{id:"$arrange",value:d.toolbar.arrange,type:"menuItem",items:["layout","separator","align","distribute"]},layout:{id:"$layout",value:d.toolbar.layout,items:["layoutMode","separator","layoutOrthogonal","layoutRadial"]},layoutMode:{id:"$layoutMode",value:d.toolbar.layoutMode,items:["layoutModeDirect","layoutModeEdges"]},layoutModeDirect:{id:"$layoutModeDirect",value:d.toolbar.layoutModeDirect,handler:function(f){f.config.autoplacement.mode="direct"},checkIcon:function(f){var l;return((l=f.config.autoplacement)===null||l===void 0?void 0:l.mode)==="direct"?"dxi dxi-check":"dxi dxi-empty"}},layoutModeEdges:{id:"$layoutModeEdges",value:d.toolbar.layoutModeEdges,handler:function(f){f.config.autoplacement.mode="edges"},checkIcon:function(f){var l;return((l=f.config.autoplacement)===null||l===void 0?void 0:l.mode)==="edges"?"dxi dxi-check":"dxi dxi-empty"}},layoutOrthogonal:{id:"$layoutOrthogonal",value:d.toolbar.layoutOrthogonal,handler:function(f){return b("orthogonal",f)}},layoutRadial:{id:"$layoutRadial",value:d.toolbar.layoutRadial,handler:function(f){return b("radial",f)}},align:{id:"$align",value:d.toolbar.align,items:["alignHorizontalLeft","alignHorizontalCenter","alignHorizontalRight","separator","alignVerticalTop","alignVerticalCenter","alignVerticalBottom"]},alignHorizontalLeft:{id:"$alignHorizontalLeft",value:d.toolbar.alignHorizontalLeft,handler:function(f){var l=f.diagram.selection.getIds().map(function(u){return f.diagram.data.getItem(u)});f.alignItems(l,-1,"x")}},alignHorizontalCenter:{id:"$alignHorizontalCenter",value:d.toolbar.alignHorizontalCenter,handler:function(f){var l=f.diagram.selection.getIds().map(function(u){return f.diagram.data.getItem(u)});f.alignItems(l,0,"x")}},alignHorizontalRight:{id:"$alignHorizontalRight",value:d.toolbar.alignHorizontalRight,handler:function(f){var l=f.diagram.selection.getIds().map(function(u){return f.diagram.data.getItem(u)});f.alignItems(l,1,"x")}},alignVerticalTop:{id:"$alignVerticalTop",value:d.toolbar.alignVerticalTop,handler:function(f){var l=f.diagram.selection.getIds().map(function(u){return f.diagram.data.getItem(u)});f.alignItems(l,-1,"y")}},alignVerticalCenter:{id:"$alignVerticalCenter",value:d.toolbar.alignVerticalCenter,handler:function(f){var l=f.diagram.selection.getIds().map(function(u){return f.diagram.data.getItem(u)});f.alignItems(l,0,"y")}},alignVerticalBottom:{id:"$alignVerticalBottom",value:d.toolbar.alignVerticalBottom,handler:function(f){var l=f.diagram.selection.getIds().map(function(u){return f.diagram.data.getItem(u)});f.alignItems(l,1,"y")}},distribute:{id:"$distribute",value:d.toolbar.distribute,items:["distributeVertical","distributeHorizontal"]},distributeVertical:{id:"$distributeVertical",value:d.toolbar.distributeVertical,handler:function(f){var l=f.diagram.selection.getIds().map(function(u){return f.diagram.data.getItem(u)});f.distributeItems(l,"y")}},distributeHorizontal:{id:"$distributeHorizontal",value:d.toolbar.distributeHorizontal,handler:function(f){var l=f.diagram.selection.getIds().map(function(u){return f.diagram.data.getItem(u)});f.distributeItems(l,"x")}},scale:{id:"$scale",type:"customHTML",html:`
			<div class="dhx_toolbar_item-scale">
				<button class="dhx_toolbar_item-scale__button">
					<i class="dxi dxi-minus dhx_toolbar_item-scale__button--zoom-out"></i>
				</button>
				<span id="scaleValue" class="dhx_toolbar_item-scale__text"></span>
				<button class="dhx_toolbar_item-scale__button">
					<i class="dxi dxi-plus dhx_toolbar_item-scale__button--zoom-in"></i>
				</button>
			</div>
		`,handler:function(f,l){l.target.classList.contains("dhx_toolbar_item-scale__button--zoom-in")&&f.zoomIn(),l.target.classList.contains("dhx_toolbar_item-scale__button--zoom-out")&&f.zoomOut()},checkIcon:function(f){return g(f)}}}}},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(103),p),C(x(213),p)},function(O,p,x){var w,C=this&&this.__extends||(w=function(u,r){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,t){s.__proto__=t}||function(s,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])},w(u,r)},function(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=u}w(u,r),u.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}),b=this&&this.__assign||function(){return b=Object.assign||function(u){for(var r,s=1,t=arguments.length;s<t;s++)for(var n in r=arguments[s])Object.prototype.hasOwnProperty.call(r,n)&&(u[n]=r[n]);return u},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Toolbar=void 0;var y=x(1),g=x(0),d=x(2),_=x(21),f=x(30),l=function(u){function r(s,t){var n=u.call(this,s,(0,y.extend)({navigationType:"click",$name:"toolbar"},t))||this;return n._currentRoot=null,n.mount(s,(0,g.create)({render:function(){return n._draw(s)}})),n}return C(r,u),r.prototype.getState=function(s){if(!(0,y.isDefined)(s)||this.data.getItem(s)){var t={};for(var n in this.data.eachChild(this.data.getRoot(),function(i){i.twoState&&!i.group?t[i.id]=i.active:i.type!=="input"&&i.type!=="selectButton"&&i.type!=="datePicker"||(t[i.id]=i.value)},!1),this._groups)this._groups[n].active&&(t[n]=this._groups[n].active);return(0,y.isId)(s)?t[s]:t}},r.prototype.setState=function(s){var t,n=function(a){if(i._groups&&i._groups[a])i._groups[a].active&&(i.data.update(i._groups[a].active,{active:!1}),i._groups[a].active=s[a],i.data.update(s[a],{active:!0}));else{var c=i.data.getItem(a);switch(c.type){case"input":i.data.update(a,{value:s[a]});break;case"selectButton":var v=(t=c.items)===null||t===void 0?void 0:t.find(function(m){return m.value===s[a]});i.data.update(a,{value:s[a],icon:v==null?void 0:v.icon});break;case"datePicker":c.$calendar?s[a]?c.$calendar.setValue(s[a]):c.$calendar.clear():i.data.update(a,{value:s[a]});break;default:i.data.update(a,{active:s[a]})}}},i=this;for(var e in s)n(e)},r.prototype.setFocus=function(s){if(this.data.getItem(s)&&this.data.getItem(s).type==="input"){var t=this.getRootNode().querySelector('[data-dhx-id="'.concat(s,'"]'));t&&t.focus()}},r.prototype._customHandlers=function(){var s=this;return{input:function(t){var n=(0,d.locate)(t),i=s.data.getItem(n);if(i){var e=t.target.value;s.data.update(n,{value:e}),i.type==="input"&&s.events.fire(f.NavigationBarEvents.input,[n,e])}},tooltip:function(t){var n=(0,d.locateNode)(t);if(n){var i=n.getAttribute("data-dhx-id"),e=s.data.getItem(i);e!=null&&e.tooltip&&(0,_.tooltip)(e.tooltip,{node:n,position:_.Position.bottom})}}}},r.prototype._getFactory=function(){return(0,f.createFactory)({widget:this,defaultType:"navItem",allowedTypes:["button","imageButton","selectButton","navItem","menuItem","separator","spacer","title","input","customHTML","datePicker","customHTMLButton"],widgetName:"toolbar"})},r.prototype._draw=function(s){var t=this,n=this.data.getLength()?this.data.reduce(function(i,e){switch(e.type){case"title":return i||20;case"button":return e.size==="small"&&(!i||i<=28)?28:i||32;default:return 32}},0)+24:null;return(0,g.el)("nav.dhx_widget.dhx_toolbar",{style:{height:n},class:this.config.css?this.config.css:""},[(0,g.el)("ul.dhx_navbar.dhx_navbar--horizontal",b(b({"data-dhx-widget-id":this._uid,tabindex:0},function(i){return{role:"toolbar","aria-label":i||""}}(s)),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,onkeydown:this._handlers.onkeydown,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,_hooks:{didInsert:function(i){i.el.addEventListener("keyup",function(e){if(e.which===9){var a=(0,d.locateNode)(document.activeElement);if(a){var c=a.getAttribute("data-dhx-id"),v=t.data.getItem(c);v!=null&&v.tooltip&&(0,_.tooltip)(v.tooltip,{node:a,position:_.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(i){return t._factory(i)},this.data.getRoot(),!1))])},r.prototype._getMode=function(s,t){return s.id===t?"bottom":"right"},r.prototype._close=function(s){this._activePosition=null,this._currentRoot=null,u.prototype._close.call(this,s)},r.prototype._setRoot=function(s){this.data.getParent(s)===this.data.getRoot()&&(this._currentRoot=s)},r}(f.Navbar);p.Toolbar=l},function(O,p,x){(function(w){var C,b=this&&this.__extends||(C=function(Y,q){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,V){U.__proto__=V}||function(U,V){for(var A in V)Object.prototype.hasOwnProperty.call(V,A)&&(U[A]=V[A])},C(Y,q)},function(Y,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function U(){this.constructor=Y}C(Y,q),Y.prototype=q===null?Object.create(q):(U.prototype=q.prototype,new U)}),y=this&&this.__assign||function(){return y=Object.assign||function(Y){for(var q,U=1,V=arguments.length;U<V;U++)for(var A in q=arguments[U])Object.prototype.hasOwnProperty.call(q,A)&&(Y[A]=q[A]);return Y},y.apply(this,arguments)},g=this&&this.__rest||function(Y,q){var U={};for(var V in Y)Object.prototype.hasOwnProperty.call(Y,V)&&q.indexOf(V)<0&&(U[V]=Y[V]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function"){var A=0;for(V=Object.getOwnPropertySymbols(Y);A<V.length;A++)q.indexOf(V[A])<0&&Object.prototype.propertyIsEnumerable.call(Y,V[A])&&(U[V[A]]=Y[V[A]])}return U},d=this&&this.__spreadArray||function(Y,q,U){if(U||arguments.length===2)for(var V,A=0,N=q.length;A<N;A++)!V&&A in q||(V||(V=Array.prototype.slice.call(q,0,A)),V[A]=q[A]);return Y.concat(V||Array.prototype.slice.call(q))};Object.defineProperty(p,"__esModule",{value:!0}),p.Form=void 0;var _=x(3),f=x(5),l=x(16),u=x(1),r=x(218),s=x(219),t=x(105),n=x(220),i=x(41),e=x(221),a=x(223),c=x(224),v=x(225),m=x(226),k=x(227),I=x(6),P=x(106),T=x(235),H=x(236),$=x(241),L=x(242),j=x(243),M=x(110),F=x(244),S=x(4),R=x(0),B=function(Y){function q(U,V){var A=Y.call(this,null,(0,u.extend)({disabled:!1,hidden:!1,css:""},V))||this;return A._isValid=!0,A._state={},A.events=new _.EventSystem(A),A.container=U,A._initUI(U),A.config.hidden&&A.hide(!0),A.config.disabled&&A.disable(),A.events.on(S.FormEvents.afterShow,function(){A._formContainerShow()}),A.events.on(S.FormEvents.afterHide,function(){Object.values(A._attachments).some(function(N){return!N.config.hidden})||A._formContainerHide()}),(0,R.awaitRedraw)().then(function(){var N=A.layout.getRootNode();N&&(N.setAttribute("role","form"),A.config.title&&N.setAttribute("aria-label",A.config.title))}),A}return b(q,Y),q.prototype.paint=function(){Y.prototype.paint.call(this),this.layout.paint()},q.prototype.send=function(U,V,A){var N=this;if(V===void 0&&(V="POST"),this.events.fire(S.FormEvents.beforeSend))return new w(function(W,Q){var X=new XMLHttpRequest;switch(X.onload=function(){X.status>=200&&X.status<300?W(X.response||X.responseText):Q({status:X.status,statusText:X.statusText})},X.onloadend=function(){X.readyState===XMLHttpRequest.DONE&&X.status===200&&N.events.fire(S.FormEvents.afterSend)},X.onerror=function(){Q({status:X.status,statusText:X.statusText})},V==="GET"&&(U+="?"+encodeURIComponent(JSON.stringify(N.getValue()))),X.open(V,U),A||X.setRequestHeader("Content-Type","application/json"),V){case"POST":N._send(),X.send(A?N.getValue(!0):JSON.stringify(N.getValue()));break;case"DELETE":case"PUT":X.send(A?N.getValue(!0):JSON.stringify(N.getValue()));break;default:X.send()}})},q.prototype.clear=function(U){switch(U){case S.ClearMethod.value:this._clear();break;case S.ClearMethod.validation:this._clearValidate();break;default:this._clear(),this._clearValidate()}this.paint()},q.prototype.setValue=function(U){for(var V in U)for(var A in this._attachments)typeof this._attachments[A].setValue=="function"&&this._attachments[A].config.name===V&&this._attachments[A].setValue(U[V])},q.prototype.getValue=function(U){if(U){var V=new FormData,A=function(Q){Array.isArray(N._state[Q])?N._state[Q].forEach(function(X,K){return V.append(Q+"[".concat(K,"]"),X)}):V.append(Q,N._state[Q])},N=this;for(var W in this._state)A(W);return V}return y({},this._state)},q.prototype.getItem=function(U){for(var V in this._attachments)if(V==U)return this._attachments[V]},q.prototype.validate=function(U){for(var V in U===void 0&&(U=!1),this._isValid=!0,this._attachments)typeof this._attachments[V].validate=="function"&&(0,I.isVerify)(this._attachments[V].config)&&!this._attachments[V].validate(U)&&(this._isValid=!1,!U&&this.events.fire(S.FormEvents.validationFail,[V,this._attachments[V]]));return this._isValid},q.prototype.setProperties=function(U,V){if(typeof U=="string"&&V&&!(0,u.isEmptyObj)(V))for(var A in this._attachments)typeof this._attachments[A].setProperties=="function"&&A===U&&this._attachments[A].setProperties(V);if(typeof U=="object"&&!(0,u.isEmptyObj)(U))for(var A in this._attachments)typeof this._attachments[A].setProperties!="function"||(0,u.isEmptyObj)(U[A])||this._attachments[A].setProperties(U[A])},q.prototype.getProperties=function(U){if(U){for(var V in this._attachments)if(typeof this._attachments[V].getProperties=="function"&&V===U)return this._attachments[V].getProperties()}var A={};for(var V in this._attachments)typeof this._attachments[V].getProperties=="function"&&(A[V]=this._attachments[V].getProperties());return A},q.prototype.show=function(){if(this.config.hidden||Object.values(this._attachments).some(function(V){return!V.config.hidden}))for(var U in this._formContainerShow(),this._attachments)typeof this._attachments[U].show=="function"&&this._attachments[U].show()},q.prototype.hide=function(U){if(!this.config.hidden||U)for(var V in this._formContainerHide(),this._attachments)typeof this._attachments[V].hide=="function"&&this._attachments[V].hide(U)},q.prototype.setFocus=function(U){for(var V in this._attachments){var A=this._attachments[V];A.config.type!=="radiogroup"&&A.config.type!=="checkboxgroup"||A.focus(U),A.config.name===U&&A.focus()}},q.prototype.blur=function(U){for(var V in U||this.forEach(function(N){typeof N.blur=="function"&&N.blur()}),this._attachments){var A=this._attachments[V];A.config.type!=="radiogroup"&&A.config.type!=="checkboxgroup"||A.blur(U),A.config.name===U&&A.blur()}},q.prototype.isVisible=function(U){if(!U)return!this.config.hidden;for(var V in this._attachments)if(V===U)return!this._attachments[V].config.hidden},q.prototype.disable=function(){for(var U in this.config.disabled=!0,this._attachments)typeof this._attachments[U].disable=="function"&&this._attachments[U].disable()},q.prototype.enable=function(){for(var U in this.config.disabled=!1,this._attachments)typeof this._attachments[U].enable=="function"&&this._attachments[U].enable()},q.prototype.isDisabled=function(U){if(!U)return this.config.disabled;for(var V in this._attachments)if(V===U)return this._attachments[V].config.disabled},q.prototype.forEach=function(U){for(var V=Object.values(this._attachments),A=0;A<V.length;A++)U.call(this,V[A],A,V)},q.prototype.destructor=function(){for(var U in this.unmount(),this._attachments)typeof this._attachments[U].destructor=="function"&&this._attachments[U].destructor();this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this._attachments=this._state=this._uid=this.container=this.events=this._isValid=null},q.prototype.getRootView=function(){return this.layout.getRootView()},q.prototype._addLayoutItem=function(U){var V=U.id=U.id||(0,u.uid)(),A=U.name=U.name||V.toString();U.type=U.type&&U.type.toLowerCase();var N=U.padding,W=g(U,["padding"]),Q=U.width,X=U.height;switch(U.type!=="spacer"&&!X&&(X="content"),W.type){case"button":case"togglegroup":Q=W.width||!W.full&&"content";break;case"simplevault":W.$vaultHeight=X}this._initItemHandlers(U,A);var K={id:A,width:Q,height:X,padding:N,hidden:W.hidden,css:this.getCellCSS(W)};return U.type==="fieldset"&&(K.$fieldset=!0,K.label=U.label,K.labelAlignment=U.labelAlignment,this._createLayoutConfig(U,K)),K},q.prototype._initItemHandlers=function(U,V){var A=this;switch(U.type){case"avatar":var N=this._attachments[V]=new L.Avatar(null,U);this._state[V]=N.getValue(),N.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),N.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),N.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),N.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),N.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),N.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),N.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),N.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),N.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),N.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,N.config),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),N.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),N.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),N.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"toggle":var W=this._attachments[V]=new M.ToggleButton(null,U);this._state[V]=W.getValue(),W.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),W.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),W.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),W.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),W.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),W.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),W.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),W.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,W.config),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),W.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),W.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),W.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"togglegroup":var Q=this._attachments[V]=new F.ToggleGroup(null,U);this._state[V]=Q.getValue(),Q.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),Q.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),Q.events.on(S.ItemEvent.beforeHide,function(z,ae,Ce){if(!Ce)return A.events.fire(S.FormEvents.beforeHide,[V,z,ae])}),Q.events.on(S.ItemEvent.beforeShow,function(z,ae){return A.events.fire(S.FormEvents.beforeShow,[V,z,ae])}),Q.events.on(S.ItemEvent.afterHide,function(z,ae,Ce){!Q.isVisible()&&A.layout.getCell(V).hide(),!Ce&&A.events.fire(S.FormEvents.afterHide,[V,z,ae])}),Q.events.on(S.ItemEvent.afterShow,function(z,ae){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z,ae])}),Q.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),Q.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,Q.config),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),Q.events.on(S.ItemEvent.focus,function(z,ae){A.events.fire(S.FormEvents.focus,[V,z,ae])}),Q.events.on(S.ItemEvent.blur,function(z,ae){A.events.fire(S.FormEvents.blur,[V,z,ae])}),Q.events.on(S.ItemEvent.keydown,function(z,ae){A.events.fire(S.FormEvents.keydown,[z,V,ae])});break;case"button":var X=this._attachments[V]=new s.Button(null,U);X.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),X.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,X.config),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),X.events.on(S.ItemEvent.click,function(z){z.preventDefault(),A.events.fire(S.FormEvents.click,[V,z]),A.events.fire(S.FormEvents.buttonClick,[V,z]),X.config.submit&&A.validate()&&X.config.url&&A.send(X.config.url)}),X.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),X.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),X.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),X.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),X.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),X.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),X.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"datepicker":var K=this._attachments[V]=new r.DatePicker(null,U);this._state[V]=K.getValue(U.valueFormat==="Date"),K.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),K.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,K.config),A._state[V]=K.getValue(U.valueFormat==="Date"),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),K.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),K.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),K.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),K.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),K.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),K.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),K.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),K.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),K.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),K.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),K.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"checkbox":var ne=this._attachments[V]=new t.Checkbox(null,U);this._state[V]=ne.getValue(),ne.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),ne.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,ne.config),A._state[V]=ne.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),ne.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),ne.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),ne.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),ne.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),ne.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),ne.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),ne.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),ne.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),ne.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),ne.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),ne.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"checkboxgroup":var ie=this._attachments[V]=new n.CheckboxGroup(null,U);this._state[V]=ie.getValue(),ie.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),ie.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,ie.config),A._state[V]=ie.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),ie.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),ie.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),ie.events.on(S.ItemEvent.beforeHide,function(z,ae,Ce){if(!Ce)return A.events.fire(S.FormEvents.beforeHide,[V,z,ae])}),ie.events.on(S.ItemEvent.beforeShow,function(z,ae){return A.events.fire(S.FormEvents.beforeShow,[V,z,ae])}),ie.events.on(S.ItemEvent.afterHide,function(z,ae,Ce){!ie.isVisible()&&A.layout.getCell(V).hide(),!Ce&&A.events.fire(S.FormEvents.afterHide,[V,z,ae])}),ie.events.on(S.ItemEvent.afterShow,function(z,ae){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z,ae])}),ie.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),ie.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),ie.events.on(S.ItemEvent.focus,function(z,ae){A.events.fire(S.FormEvents.focus,[V,z,ae])}),ie.events.on(S.ItemEvent.blur,function(z,ae){A.events.fire(S.FormEvents.blur,[V,z,ae])}),ie.events.on(S.ItemEvent.keydown,function(z,ae){A.events.fire(S.FormEvents.keydown,[z,V,ae])});break;case"combo":var oe=this._attachments[V]=new m.Combo(null,U);this._state[V]=oe.getValue(),oe.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),oe.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,oe.config),A._state[V]=oe.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),oe.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),oe.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),oe.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),oe.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),oe.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),oe.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),oe.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),oe.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),oe.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),oe.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),oe.events.on(S.ItemEvent.keydown,function(z,ae){A.events.fire(S.FormEvents.keydown,[z,V,ae])});break;case"input":var re=this._attachments[V]=new i.Input(null,U);this._state[V]=re.getValue(),re.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),re.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,re.config),A._state[V]=re.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),re.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),re.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),re.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),re.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),re.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),re.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),re.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),re.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),re.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),re.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),re.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"radiogroup":var le=this._attachments[V]=new e.RadioGroup(null,U);this._state[V]=le.getValue(),le.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),le.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,le.config),A._state[V]=le.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),le.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),le.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),le.events.on(S.ItemEvent.beforeHide,function(z,ae,Ce){if(!Ce)return A.events.fire(S.FormEvents.beforeHide,[V,z,ae])}),le.events.on(S.ItemEvent.beforeShow,function(z,ae){return A.events.fire(S.FormEvents.beforeShow,[V,z,ae])}),le.events.on(S.ItemEvent.afterHide,function(z,ae,Ce){!le.isVisible()&&A.layout.getCell(V).hide(),!Ce&&A.events.fire(S.FormEvents.afterHide,[V,z,ae])}),le.events.on(S.ItemEvent.afterShow,function(z,ae){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z,ae])}),le.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),le.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),le.events.on(S.ItemEvent.focus,function(z,ae){A.events.fire(S.FormEvents.focus,[V,z,ae])}),le.events.on(S.ItemEvent.blur,function(z,ae){A.events.fire(S.FormEvents.blur,[V,z,ae])}),le.events.on(S.ItemEvent.keydown,function(z,ae){A.events.fire(S.FormEvents.keydown,[z,V,ae])});break;case"select":var ue=this._attachments[V]=new a.Select(null,U);this._state[V]=ue.getValue(),ue.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),ue.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,ue.config),A._state[V]=ue.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),ue.events.on(S.ItemEvent.changeOptions,function(z){A.layout.getCell(V).config.options=d([],z,!0)}),ue.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),ue.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),ue.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),ue.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),ue.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),ue.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),ue.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),ue.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),ue.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),ue.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),ue.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"simplevault":var de=this._attachments[V]=new P.SimpleVault(null,U);this._state[V]=de.getValue(),de.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),de.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,de.config),A._state[V]=de.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),de.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),de.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),de.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),de.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),de.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),de.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),de.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),de.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])});break;case"slider":var ge=this._attachments[V]=new k.SliderForm(null,U);this._state[V]=ge.getValue(),ge.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),ge.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),ge.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),ge.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),ge.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),ge.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),ge.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),ge.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),ge.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"textarea":var ce=this._attachments[V]=new c.Textarea(null,U);this._state[V]=ce.getValue(),ce.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),ce.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,ce.config),A._state[V]=ce.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),ce.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),ce.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),ce.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),ce.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),ce.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),ce.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),ce.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),ce.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),ce.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),ce.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),ce.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"text":var he=this._attachments[V]=new v.Text(null,U);this._state[V]=he.getValue(),he.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),he.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,he.config),A._state[V]=he.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),he.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),he.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),he.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),he.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),he.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),he.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),he.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),he.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])});break;case"timepicker":var ve=this._attachments[V]=new T.TimePicker(null,U);this._state[V]=U.value&&ve.getValue(U.valueFormat==="timeObject")||"",ve.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),ve.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,ve.config),A._state[V]=ve.getValue(U.valueFormat==="timeObject"),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),ve.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),ve.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),ve.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),ve.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),ve.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),ve.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),ve.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),ve.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),ve.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),ve.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),ve.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"colorpicker":var be=this._attachments[V]=new H.ColorPicker(null,U);this._state[V]=be.getValue(),be.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),be.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,be.config),A._state[V]=be.getValue(),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),be.events.on(S.ItemEvent.beforeChange,function(z){return A.events.fire(S.FormEvents.beforeChange,[V,z])}),be.events.on(S.ItemEvent.change,function(z){A._state[V]=z,A.events.fire(S.FormEvents.change,[V,z])}),be.events.on(S.ItemEvent.beforeHide,function(z,ae){if(!ae)return A.events.fire(S.FormEvents.beforeHide,[V,z])}),be.events.on(S.ItemEvent.beforeShow,function(z){return A.events.fire(S.FormEvents.beforeShow,[V,z])}),be.events.on(S.ItemEvent.afterHide,function(z,ae){A.layout.getCell(V).hide(),!ae&&A.events.fire(S.FormEvents.afterHide,[V,z])}),be.events.on(S.ItemEvent.afterShow,function(z){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V,z])}),be.events.on(S.ItemEvent.beforeValidate,function(z){return A.events.fire(S.FormEvents.beforeValidate,[V,z])}),be.events.on(S.ItemEvent.afterValidate,function(z,ae){A.events.fire(S.FormEvents.afterValidate,[V,z,ae])}),be.events.on(S.ItemEvent.focus,function(z){A.events.fire(S.FormEvents.focus,[V,z])}),be.events.on(S.ItemEvent.blur,function(z){A.events.fire(S.FormEvents.blur,[V,z])}),be.events.on(S.ItemEvent.keydown,function(z){A.events.fire(S.FormEvents.keydown,[z,V])});break;case"fieldset":var xe=this._attachments[V]=new j.Fieldset(U);xe.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),xe.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,xe.config),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()});break;default:var ye=this._attachments[V]=new $.Spacer(null,U);ye.events.on(S.ItemEvent.beforeChangeProperties,function(z){return A.events.fire(S.FormEvents.beforeChangeProperties,[V,z])}),ye.events.on(S.ItemEvent.afterChangeProperties,function(z){A._changeProps(V,z,ye.config),A.events.fire(S.FormEvents.afterChangeProperties,[V,z]),A.paint()}),ye.events.on(S.ItemEvent.beforeHide,function(z){if(!z)return A.events.fire(S.FormEvents.beforeHide,[V])}),ye.events.on(S.ItemEvent.beforeShow,function(){return A.events.fire(S.FormEvents.beforeShow,[V])}),ye.events.on(S.ItemEvent.afterHide,function(z){A.layout.getCell(V).hide(),!z&&A.events.fire(S.FormEvents.afterHide,[V])}),ye.events.on(S.ItemEvent.afterShow,function(){A.layout.getCell(V).show(),A.events.fire(S.FormEvents.afterShow,[V])})}},q.prototype._changeProps=function(U,V,A){var N=["width","height","css","padding","label","labelAlignment","align"];for(var W in V)N.includes(W)&&(0,u.isDefined)(V[W])&&(this.layout.getCell(U).config[W]=W==="css"?this.getCellCSS(A):V[W])},q.prototype.getCellCSS=function(U){var V=U.css?U.css+" dhx_form-element":"dhx_form-element";switch(U.type){case"button":case"togglegroup":U.full&&!U.width&&(V+=" dhx_button--full-gravity");break;case"text":U.width==="content"&&(V+=" dhx_form-element--fit-content")}return V},q.prototype._addLayoutItems=function(U){var V=this;return U.map(function(A){if((0,I.isBlock)(A)){var N={width:"content",height:"content"};return V._createLayoutConfig(A,N),N}return V._addLayoutItem(A)})},q.prototype._checkLayoutConfig=function(U,V){return(0,u.isDefined)(U.css)&&(V.css=U.css),(0,u.isDefined)(U.title)&&(V.header=U.title),(0,u.isDefined)(U.padding)&&(V.padding=U.padding),(0,u.isDefined)(U.width)&&(V.width=U.width),(0,u.isDefined)(U.height)&&(V.height=U.height),(0,u.isDefined)(U.align)&&(V.align=U.align),V},q.prototype._createLayoutConfig=function(U,V){V=this._checkLayoutConfig(U,V),(0,u.isDefined)(U.rows)?V.rows=this._addLayoutItems(U.rows):(0,u.isDefined)(U.cols)&&(V.cols=this._addLayoutItems(U.cols))},q.prototype._initUI=function(U){this._attachments={};var V={padding:"8px"};this.config.css+=" dhx_form",this._createLayoutConfig(this.config,V),this.layout=new l.Layout(U,V),(0,I.setAttacments)(this._attachments,this.layout)},q.prototype._clear=function(){for(var U in this._state={},this._attachments){var V=this._attachments[U].config.name;typeof this._attachments[U].clear=="function"&&(this._attachments[U].clear(),V?this._state[V]=this._attachments[U].getValue():this._state[U]=this._attachments[U].getValue())}},q.prototype._clearValidate=function(){for(var U in this._attachments)typeof this._attachments[U].clearValidate=="function"&&this._attachments[U].clearValidate()},q.prototype._formContainerShow=function(){this.config.hidden=!1,this.getRootView().node&&(this.getRootView().node.el.style.display="flex")},q.prototype._formContainerHide=function(){this.config.hidden=!0,this.getRootView().node&&(this.getRootView().node.el.style.display="none")},q.prototype._send=function(){for(var U in this._attachments)typeof this._attachments[U].send=="function"&&this._attachments[U].send()},q}(f.View);p.Form=B}).call(this,x(17))},function(O,p,x){var w,C=this&&this.__extends||(w=function(s,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])},w(s,t)},function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=s}w(s,t),s.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__spreadArray||function(s,t,n){if(n||arguments.length===2)for(var i,e=0,a=t.length;e<a;e++)!i&&e in t||(i||(i=Array.prototype.slice.call(t,0,e)),i[e]=t[e]);return s.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0}),p.Checkbox=void 0;var y=x(0),g=x(3),d=x(6),_=x(11),f=x(4),l=x(9),u=x(1),r=function(s){function t(n,i){i===void 0&&(i={});var e=s.call(this,n,i)||this;return e.events=new g.EventSystem,e._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","text"],e._props=b(b([],d.baseProps,!0),e._propsItem,!0),e._initView(i),e._initHandlers(),e.mount(n,(0,y.create)({render:function(){return e._draw()}})),e}return C(t,s),t.prototype.setProperties=function(n,i){if(i===void 0&&(i=!1),n&&!(0,u.isEmptyObj)(n)&&(i||this.events.fire(f.ItemEvent.beforeChangeProperties,[this.getProperties()]))){for(var e in n)this._props.includes(e)&&(this.config[e]=n[e]);!i&&this.events.fire(f.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},t.prototype.getProperties=function(){for(var n={},i=0,e=this._props;i<e.length;i++){var a=e[i];n[a]=this.config[a]}return n},t.prototype.show=function(){this.config.hidden&&this.events.fire(f.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(f.ItemEvent.afterShow,[this.getValue()]))},t.prototype.hide=function(n){this.config.hidden&&!n||!this.events.fire(f.ItemEvent.beforeHide,[this.getValue(),n])||(this.config.hidden=!0,this.events.fire(f.ItemEvent.afterHide,[this.getValue(),n]))},t.prototype.isVisible=function(){return!this.config.hidden},t.prototype.disable=function(){this.config.disabled=!0,this.paint()},t.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},t.prototype.isDisabled=function(){return!!this.config.disabled},t.prototype.validate=function(n){n===void 0&&(n=!1);var i=this.getValue();if(!n&&!this.events.fire(f.ItemEvent.beforeValidate,[i]))return!1;var e=!0;return(this.config.required||this.config.$required)&&(e=!!this.config.checked),n||(this.setValidationStatus(e?"success":"error"),this.events.fire(f.ItemEvent.afterValidate,[i,e]),this.paint()),e},t.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},t.prototype.setValue=function(n,i){i===void 0&&(i=!1),n!==void 0&&n!==this.config.checked&&(i||this.events.fire(f.ItemEvent.beforeChange,[this._getValue(n)]))&&(this.config.checked=!!n,i||(this.events.fire(f.ItemEvent.change,[this.getValue()]),(0,d.isVerify)(this.config)&&this.validate()))},t.prototype.getValue=function(){return this._getValue(this.config.checked)},t.prototype.clear=function(n){this.config.checked&&(n||this.events.fire(f.ItemEvent.beforeChange,[this._getValue(!1)]))&&(this.config.checked=!1,n||this.events.fire(f.ItemEvent.change,[this.getValue()]),(0,d.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"))},t.prototype.destructor=function(){this.events&&this.events.clear(),this._inGroup=this._propsItem=this._props=this._uid=this.events=null,s.prototype._destructor.call(this),this.unmount()},t.prototype.focus=function(){var n=this;(0,y.awaitRedraw)().then(function(){n.getRootView().refs.input.el.focus()})},t.prototype.blur=function(){var n=this;(0,y.awaitRedraw)().then(function(){n.getRootView().refs.input.el.blur()})},t.prototype.isChecked=function(){return!!this.config.checked},t.prototype._getValue=function(n){return typeof this.config.value=="string"?n&&this.config.value||"":!!n},t.prototype._initView=function(n){var i=this;if(this._inGroup=this.config.$group,this._inGroup){for(var e in this.config={type:n.type,id:n.id,text:"",width:"content",height:"content",padding:0},n)e!=="id"&&e!=="type"&&e!=="name"&&(this.config[e]=n[e]);this._handlers={onchange:function(a){var c=a.target.checked;i.events.fire(f.ItemEvent.beforeChange,[i._getValue(c)])?(i.config.checked=c,i.events.fire(f.ItemEvent.change,[i.getValue()]),(0,d.isVerify)(i.config)&&i.validate()):i.getRootView().refs.input.el.checked=!c},onfocus:function(){return i.events.fire(f.ItemEvent.focus,[i.getValue(),i.config.id])},onblur:function(){return i.events.fire(f.ItemEvent.blur,[i.getValue(),i.config.id])},onkeydown:function(a){i.events.fire(f.ItemEvent.keydown,[a,i.config.id])}}}else{for(var e in this.config={type:n.type,id:n.id,name:n.name,checked:!1,disabled:!1,required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},n)e!=="id"&&e!=="type"&&e!=="name"&&(this.config[e]=n[e]);this.config.helpMessage&&(this._helper=new _.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(a){a.preventDefault(),a.stopPropagation(),i._helper.show(a.target,{mode:i.config.labelPosition==="left"?"bottom":"right",theme:i.getRootNode()})},hideHelper:function(a){a.preventDefault(),a.stopPropagation(),i._helper.hide()},onchange:function(a){var c=a.target.checked;i.events.fire(f.ItemEvent.beforeChange,[i._getValue(c)])?(i.config.checked=c,i.events.fire(f.ItemEvent.change,[i.getValue()]),(0,d.isVerify)(i.config)&&i.validate()):i.getRootView().refs.input.el.checked=!c},onfocus:function(){return i.events.fire(f.ItemEvent.focus,[i.getValue()])},onblur:function(){var a;return(a=i.events)===null||a===void 0?void 0:a.fire(f.ItemEvent.blur,[i.getValue()])},onkeydown:function(a){i.events.fire(f.ItemEvent.keydown,[a])}}}},t.prototype._initHandlers=function(){var n=this;this.events.on(f.ItemEvent.change,function(){return n.paint()})},t.prototype._draw=function(){var n=this.config,i=n.id,e=n.value,a=n.checked,c=n.disabled,v=n.name,m=n.required,k=n.$required,I=n.text,P=n.label,T=n.labelWidth,H=n.helpMessage;return(0,y.el)("label.dhx_checkbox.dhx_form-group.dhx_form-group--checkbox",{class:(0,d.getFormItemCss)(this.config,(0,d.isVerify)(this.config)||!!k)},this._inGroup?[(0,y.el)(".dhx_checkbox__holder",[(0,y.el)("input.dhx_checkbox__input",{type:"checkbox",id:i,value:e||"",name:v||"",disabled:c,checked:a,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:m,_ref:"input"}),(0,y.el)("span.dhx_checkbox__visual-input"),(0,y.el)("span.dhx_text",[I])])]:[P||T||H||m?this._drawLabel():null,(0,y.el)(".dhx_checkbox__container",[(0,y.el)(".dhx_checkbox__holder",[(0,y.el)("input.dhx_checkbox__input",{type:"checkbox","data-dhx-id":v||i,id:i,_key:i||this._uid,value:e,name:v,disabled:c,checked:a,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:m,_ref:"input","aria-label":P||"checkbox ".concat(I||""),"aria-describedby":H?"dhx_label__help_".concat(i||this._uid):null}),(0,y.el)("span.dhx_checkbox__visual-input"),(0,y.el)("span.dhx_text",[I])]),m&&(0,d.getValidationMessage)(this.config)&&(0,y.el)("span.dhx_input__caption",(0,d.getValidationMessage)(this.config))])])},t}(l.Label);p.Checkbox=r},function(O,p,x){var w,C=this&&this.__extends||(w=function(c,v){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,k){m.__proto__=k}||function(m,k){for(var I in k)Object.prototype.hasOwnProperty.call(k,I)&&(m[I]=k[I])},w(c,v)},function(c,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=c}w(c,v),c.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}),b=this&&this.__assign||function(){return b=Object.assign||function(c){for(var v,m=1,k=arguments.length;m<k;m++)for(var I in v=arguments[m])Object.prototype.hasOwnProperty.call(v,I)&&(c[I]=v[I]);return c},b.apply(this,arguments)},y=this&&this.__spreadArray||function(c,v,m){if(m||arguments.length===2)for(var k,I=0,P=v.length;I<P;I++)!k&&I in v||(k||(k=Array.prototype.slice.call(v,0,I)),k[I]=v[I]);return c.concat(k||Array.prototype.slice.call(v))};Object.defineProperty(p,"__esModule",{value:!0}),p.SimpleVault=p.FileStatus=void 0;var g,d=x(0),_=x(3),f=x(2),l=x(1),u=x(8),r=x(228),s=x(11),t=x(6),n=x(234),i=x(4),e=x(9);(function(c){c.queue="queue",c.uploaded="uploaded",c.failed="failed",c.inprogress="inprogress"})(g||(p.FileStatus=g={}));var a=function(c){function v(m,k){var I=c.call(this,m,k)||this;return I._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],I._propsSimpleVault=["params","headerParams","target","fieldName","singleRequest","updateFromResponse","autosend","accept","validation"],I._props=y(y(y([],t.baseProps,!0),I._propsItem,!0),I._propsSimpleVault,!0),I.events=new _.EventSystem(I),I.data=new u.DataCollection,I._uploader=new r.Uploader(b({target:"",accept:"",fieldName:"file",singleRequest:!1,updateFromResponse:!0,autosend:!1},k),I.data,I.data.events),I._initView(b(b({},I._uploader.config),k)),I._initHandlers(),I.mount(m,(0,d.create)({render:function(){return I._draw()}})),I}return C(v,c),v.prototype.send=function(m){this._uploader.send(m)},v.prototype.selectFile=function(){this._uploader.selectFile()},v.prototype.setValue=function(m){m.length&&(this.data.parse(m),(0,t.isVerify)(this.config)&&this.validate())},v.prototype.getValue=function(){return this.data.serialize()},v.prototype.clear=function(){this.getValue().length!==0&&this.events.fire(i.ItemEvent.beforeChange,[[]])&&(this.data.removeAll(),this.events.fire(i.ItemEvent.change,[this.getValue()]),(0,t.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"),this.paint())},v.prototype.disable=function(){this.config.disabled=!0,this.paint()},v.prototype.enable=function(){var m;this.config.disabled=!1,!((m=this.parent)===null||m===void 0)&&m.isDisabled()&&this.parent.enable(),this.paint()},v.prototype.isDisabled=function(){return this.config.disabled},v.prototype.show=function(){var m=this.config,k=m.value;m.hidden&&this.events.fire(i.ItemEvent.beforeShow,[k])&&(this.config.hidden=!1,this.events.fire(i.ItemEvent.afterShow,[k]))},v.prototype.hide=function(m){var k=this.config,I=k.value;k.hidden&&!m||!this.events.fire(i.ItemEvent.beforeHide,[I,m])||(this.config.hidden=!0,this.events.fire(i.ItemEvent.afterHide,[I,m]))},v.prototype.isVisible=function(){return!this.config.hidden},v.prototype.validate=function(m){m===void 0&&(m=!1);for(var k=[],I=1;I<arguments.length;I++)k[I-1]=arguments[I];var P=k.length?k[0]:this.getValue();if(!m&&!this.events.fire(i.ItemEvent.beforeValidate,[P]))return!1;var T=!0;return this.config.required&&(T=!!P.length),typeof this.config.validation=="function"&&(T=this.config.validation(P)),m||(this.setValidationStatus(T?"success":"error"),this.events.fire(i.ItemEvent.afterValidate,[P,T]),this.paint()),T},v.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},v.prototype.setProperties=function(m){if(m&&!(0,l.isEmptyObj)(m)&&this.events.fire(i.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var k in m)this._props.includes(k)&&(this.config[k]=m[k],this._propsSimpleVault.includes(k)&&(this._uploader.config[k]=m[k]));this.events.fire(i.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},v.prototype.getProperties=function(){for(var m={},k=0,I=this._props;k<I.length;k++){var P=I[k];m[P]=this.config[P]}return m},v.prototype.focus=function(){var m,k,I;(I=(k=(m=this.getRootView())===null||m===void 0?void 0:m.refs)===null||k===void 0?void 0:k.input)===null||I===void 0||I.el.focus(),this.paint()},v.prototype.blur=function(){var m,k,I;(I=(k=(m=this.getRootView())===null||m===void 0?void 0:m.refs)===null||k===void 0?void 0:k.input)===null||I===void 0||I.el.blur(),this.paint()},v.prototype.destructor=function(){this.events&&this.events.clear(),this._helper&&this._helper.destructor(),this.config=this.events=this._uid=this._helper=this._handlers=this._uploader=this.data=null,this._propsItem=this._propsSimpleVault=this._props=this._dragover=this._dragoverTimeout=null,this.unmount()},v.prototype._initView=function(m){var k;this.config=b({type:m.type,id:m.id,name:m.name,value:[],disabled:!1,hidden:!1,css:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},m),!((k=m.value)===null||k===void 0)&&k.length&&this.data.parse(m.value),this.paint()},v.prototype._initHandlers=function(){var m=this;this._handlers={add:function(k){m.config.disabled||(k.preventDefault(),m._uploader.selectFile())},remove:function(k){if(!m.config.disabled){var I=(0,f.locate)(k);I&&m.data.remove(I)}},ondragover:function(k){for(var I=0,P=k.dataTransfer.types;I<P.length;I++){var T=P[I];if(T!=="Files"&&T!=="application/x-moz-file")return}m._dragoverTimeout?clearTimeout(m._dragoverTimeout):m.paint(),m._dragover=!0,m._dragoverTimeout=setTimeout(function(){m._dragover=!1,m._dragoverTimeout=null,m.paint()},150)},showHelper:function(k){k.stopPropagation(),k.preventDefault(),m._helper.show(k.target,{mode:m.config.labelPosition==="left"?"bottom":"right",theme:k.target})},hideHelper:function(k){k.preventDefault(),k.stopPropagation(),m._helper.hide()}},this._uploader.events.on("beforeUploadFile",function(k){return!(m.config.autosend&&!m.validate(!0))&&m.events.fire(i.ItemEvent.beforeUploadFile,[k,m.config.value])}),this._uploader.events.on("uploadBegin",function(k){m.events.fire(i.ItemEvent.uploadBegin,[k,m.config.value])}),this._uploader.events.on("uploadComplete",function(k){m.events.fire(i.ItemEvent.uploadComplete,[k,m.config.value])}),this._uploader.events.on("uploadFail",function(k){m.events.fire(i.ItemEvent.uploadFail,[k,m.config.value])}),this._uploader.events.on("uploadFile",function(k,I){m.events.fire(i.ItemEvent.uploadFile,[k,m.config.value,I])}),this._uploader.events.on("uploadProgress",function(k){m.events.fire(i.ItemEvent.uploadProgress,[k,m.config.value])}),this.data.events.on(u.DataEvents.beforeAdd,function(k){return m.events.fire(i.ItemEvent.beforeChange,[y(y([],m.config.value,!0),[k],!1),k])}),this.data.events.on(u.DataEvents.beforeRemove,function(k){var I=m.config.value.filter(function(P){return P.id!==k.id});return m.events.fire(i.ItemEvent.beforeChange,[I,k])}),this.data.events.on(i.ItemEvent.change,function(k,I,P){if(I){var T=m.config.value=m.getValue();m._uploader.isActive&&I==="update"||(m.events.fire(i.ItemEvent.change,[T,P]),(0,t.isVerify)(m.config)&&m.validate()),m.paint()}})},v.prototype._draw=function(){var m=this;this.config.helpMessage&&(this._helper||(this._helper=new s.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"})),this._helper.attachHTML(this.config.helpMessage));var k=this.data.getLength()?(0,d.el)("ul.dhx_simplevault__files.dhx_simplevault-files",{class:this.config.$vaultHeight?"":"dhx_simplevault-files__fixed"},this.data.map(function(R){return(0,d.el)("li.dhx_simplevault-files__item",[(0,d.el)("span.dhx_simplevault-files__item-name",R.file&&R.file.name||R.name),(0,d.el)(".dhx_button.dhx_simplevault-files__delete.dhx_button--icon.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"data-dhx-id":R.id,onclick:m._handlers.remove},[(0,d.el)("span.dxi.dxi-delete-forever")])])})):null,I=this.config,P=I.id,T=I.helpMessage,H=I.disabled,$=I.required,L=I.label,j=I.hidden,M=I.accept,F=(0,f.getLabelStyle)(this.config),S=j?" dhx_form-group--hidden":"";return(0,d.el)(".dhx_form-group.dhx_form-group--simplevault",{class:(0,t.getFormItemCss)(this.config,(0,t.isVerify)(this.config))+S},[F&&(0,d.el)("legend.dhx_label",{class:T?"dhx_label--with-help":"",style:F.style,onclick:this._handlers.add,"aria-label":L||"select files"},T?[(F.label||$)&&(0,d.el)("span.dhx_label__holder",F.label),(0,d.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,onfocus:this._handlers.showHelper,onblur:this._handlers.hideHelper})]:F.label),(0,d.el)(".dhx_input__wrapper",{id:this._uid},[(0,d.el)("div",{_hooks:{didInsert:function(R){m._uploader.linkDropArea(R.el)}},ondragover:this._handlers.ondragover,class:"dhx_simplevault"+(this._dragover?" dhx_simplevault--on-drag":"")},[(0,d.el)("div.dhx_simplevault-loader",[(0,d.el)("span.dhx_simplevault__icon.dxi.dxi-vault")]),(0,d.el)(".dhx_simplevault__drop-area",[(0,d.el)("input.dhx_simplevault__input",{_ref:"input",type:"file",id:P,disabled:H,accept:M}),(0,d.el)("span.dhx_simplevault__icon.dxi.dxi-vault"),(0,d.el)("span.dhx_simplevault__title",[(0,d.el)("span",n.default.simpleVaultText),(0,d.el)("br"),(0,d.el)("label.dhx_simplevault__label",{onclick:this._handlers.add,for:P}," "+n.default.simpleVaultLabel)])]),k]),(0,t.getValidationMessage)(this.config)&&(0,d.el)("span.dhx_input__caption",{},(0,t.getValidationMessage)(this.config))])])},v}(e.Label);p.SimpleVault=a},function(O,p,x){(function(w){Object.defineProperty(p,"__esModule",{value:!0}),p.Uploader=void 0;var C=x(1),b=x(2),y=x(8),g=x(42),d=function(){function _(f,l,u){f===void 0&&(f={}),this.config=(0,C.extend)({autosend:!0,updateFromResponse:!0,fieldName:"file",accept:""},f),this.data=l||new y.DataCollection,this.events=u||this.data.events,this.isActive=!1,this._fileInput=document.createElement("input"),this._fileInput.type="file",this._fileInput.accept=this.config.accept,this._fileInput.multiple=!0,this._initEvents(),this._dropAreas=new Map}return _.prototype.selectFile=function(){this._fileInput.click()},_.prototype.linkDropArea=function(f){var l=this,u=(0,b.toNode)(f),r=function(t){return t.preventDefault()},s=function(t){t.preventDefault(),l.parseFiles(t.dataTransfer)};u.addEventListener("dragover",r),u.addEventListener("drop",s),this._dropAreas.set(u,{dragover:r,drop:s})},_.prototype.unlinkDropArea=function(f){var l=this;if(f){var u=(0,b.toNode)(f);this._unlinkDropArea(u),this._dropAreas.delete(u)}else this._dropAreas.forEach(function(r,s){l._unlinkDropArea(s)}),this._dropAreas.clear()},_.prototype.parseFiles=function(f){if(f.items&&f.items[0]&&f.items[0].webkitGetAsEntry)this._parseAsWebkitEntry(f.items);else{for(var l=f.files,u=0;u<l.length;u++)this._addFile(l[u]);this.config.autosend&&this.send()}},_.prototype.send=function(f){var l=this;if(!this._uploadInfo||!this.isActive){var u=this.data.findAll(function(n){return n.status===g.FileStatus.queue||n.status===g.FileStatus.failed}).filter(function(n){return l.events.fire(g.UploaderEvents.beforeUploadFile,[n])});if(u.length)if(this.isActive=!0,this._uploadInfo={files:u,count:u.length,size:u.reduce(function(n,i){return n+i.file.size},0)},this.events.fire(g.UploaderEvents.uploadBegin,[u]),this.events.fire(g.UploaderEvents.uploadProgress,[0,0,this._uploadInfo.size]),this.config.singleRequest)this._xhrSend(u,f);else for(var r=0,s=u;r<s.length;r++){var t=s[r];this._xhrSend([t],f)}}},_.prototype.abort=function(f){if(f){var l=this.data.getItem(f);l&&l.request&&l.request.readyState!==4&&l.request.abort()}else{if(!this._uploadInfo||!this._uploadInfo.files)return;for(var u=0,r=this._uploadInfo.files;u<r.length;u++){var s=r[u];this.abort(s.id)}}},_.prototype._unlinkDropArea=function(f){var l=this._dropAreas.get(f);if(l){var u=l.dragover,r=l.drop;f.removeEventListener("dragover",u),f.removeEventListener("drop",r)}},_.prototype._initEvents=function(){var f=this;this._fileInput.addEventListener("change",function(){for(var l=f._fileInput.files,u=0;u<l.length;u++)f._addFile(l[u]);f.config.autosend&&f.send(),f._fileInput.value=null})},_.prototype._xhrSend=function(f,l){for(var u=this,r=this._createFormData(f,l),s=new XMLHttpRequest,t=this.config.headerParams,n=0,i=f;n<i.length;n++){var e=i[n];this.data.update(e.id,{request:s,status:g.FileStatus.inprogress,progress:0})}if(s.open("POST",this.config.target),t)for(var a in t)s.setRequestHeader(a,t[a]);s.upload.onprogress=function(c){for(var v=0,m=f;v<m.length;v++){var k=m[v];u.data.update(k.id,{progress:c.loaded/c.total,status:g.FileStatus.inprogress})}var I=u._uploadInfo.files.reduce(function(H,$){return H+$.size*$.progress},0)||0,P=u._uploadInfo.size,T=I/u._uploadInfo.size*100||0;u.events.fire(g.UploaderEvents.uploadProgress,[T,I,P])},s.onloadend=function(){u._uploadInfo.count=u.config.singleRequest?0:u._uploadInfo.count-1;for(var c=s.status===200?g.FileStatus.uploaded:g.FileStatus.failed,v=s.status===200&&s.response?JSON.parse(s.response):null,m=0,k=f;m<k.length;m++){var I=k[m];u.data.update(I.id,{status:c}),c===g.FileStatus.uploaded?(u.config.updateFromResponse&&v&&(u.config.singleRequest&&v[I.id]?u.data.update(I.id,v[I.id]):u.config.singleRequest||u.data.update(I.id,v)),u.events.fire(g.UploaderEvents.uploadFile,[I,v])):u.events.fire(g.UploaderEvents.uploadFail,[I])}u._uploadInfo.count===0&&(u.isActive=!1,u.events.fire(g.UploaderEvents.uploadComplete,[u._uploadInfo.files]))},s.send(r)},_.prototype._parseAsWebkitEntry=function(f){for(var l=this,u=[],r=0;r<f.length;r++){var s=f[r].webkitGetAsEntry();u.push(this._traverseFileTree(s))}w.all(u).then(function(){l.config.autosend&&l.send()})},_.prototype._createFormData=function(f,l){var u=this.config.fieldName,r=new FormData,s=this.config.params;if(l)for(var t in l)r.append(t,l[t]);if(s)for(var t in s)r.append(t,s[t]);for(var n=f.length>1?"[]":"",i=0,e=f;i<e.length;i++){var a=e[i];r.append(u+n,a.file,a.file.name),r.append(u+"_fullname"+n,a.path+a.file.name);var c=typeof a.id=="object"?a.id:a.id.toString();r.append(u+"_id"+n,c)}return r},_.prototype._addFile=function(f,l){l===void 0&&(l="");var u={id:(0,C.uid)(),file:f,progress:0,status:g.FileStatus.queue,src:null,path:l};this.data.add(u)},_.prototype._traverseFileTree=function(f){var l=this;return new w(function(u){var r=0,s=function(t,n){t.isFile?(r++,t.file(function(i){r--,l._addFile(i,n),r===0&&u()})):t.isDirectory&&function(i,e){r++,i.readEntries(function(a){r--;for(var c=0,v=a;c<v.length;c++){var m=v[c];s(m,e)}r===0&&u()})}(t.createReader(),n+t.name+"/")};s(f,"")})},_}();p.Uploader=d}).call(this,x(17))},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.palette=p.grayShades=void 0,p.grayShades=["#000000","#4C4C4C","#666666","#808080","#999999","#B3B3B3","#CCCCCC","#E6E6E6","#F2F2F2","#FFFFFF"],p.palette=[["#D4DAE4","#B0B8CD","#949DB1","#727A8C","#5E6677","#3F4757","#1D2534"],["#FFCDD2","#FE9998","#F35C4E","#E94633","#D73C2D","#CA3626","#BB2B1A"],["#F9E6AD","#F4D679","#EDB90F","#EAA100","#EA8F00","#EA7E00","#EA5D00"],["#BCE4CE","#90D2AF","#33B579","#36955F","#247346","#1D5B38","#17492D"],["#BDF0E9","#92E7DC","#02D7C5","#11B3A5","#018B80","#026B60","#024F43"],["#B3E5FC","#81D4FA","#29B6F6","#039BE5","#0288D1","#0277BD","#01579B"],["#AEC1FF","#88A3F9","#5874CD","#2349AE","#163FA2","#083596","#002381"],["#C5C0DA","#9F97C1","#7E6BAD","#584A8F","#4F4083","#473776","#3A265F"],["#D6BDCC","#C492AC","#A9537C","#963A64","#81355A","#6E3051","#4C2640"],["#D2C5C1","#B4A09A","#826358","#624339","#5D4037","#4E342E","#3E2723"]]},function(O,p,x){var w;Object.defineProperty(p,"__esModule",{value:!0}),p.ColorpickerEvents=void 0,function(C){C.beforeChange="beforeChange",C.change="change",C.apply="apply",C.cancelClick="cancelClick",C.modeChange="modeChange",C.selectClick="selectClick",C.colorChange="colorChange",C.viewChange="viewChange"}(w||(p.ColorpickerEvents=w={}))},function(O,p,x){var w,C=this&&this.__extends||(w=function(s,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])},w(s,t)},function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=s}w(s,t),s.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__assign||function(){return b=Object.assign||function(s){for(var t,n=1,i=arguments.length;n<i;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e]);return s},b.apply(this,arguments)},y=this&&this.__spreadArray||function(s,t,n){if(n||arguments.length===2)for(var i,e=0,a=t.length;e<a;e++)!i&&e in t||(i||(i=Array.prototype.slice.call(t,0,e)),i[e]=t[e]);return s.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0}),p.ToggleButton=void 0;var g=x(4),d=x(5),_=x(0),f=x(3),l=x(6),u=x(1),r=function(s){function t(n,i){var e=s.call(this,n,b({full:!1,selected:!1,disabled:!1,hidden:!1,width:"content",height:"content",text:"",icon:"",offIcon:"",offText:"",css:"",padding:""},i))||this;return e.events=new f.EventSystem,e.props=y(y([],e.config.$group?[]:l.baseProps,!0),["value","offIcon","offText","icon","text","full"],!1),e.initHandlers(),e.mount(n,(0,_.create)({render:function(){return e.draw()}})),e}return C(t,s),t.prototype.setValue=function(n,i){n===void 0&&(n=!1),i===void 0&&(i=!1),typeof n=="boolean"&&n!==this.config.selected&&(i||this.events.fire(g.ItemEvent.beforeChange,[n]))&&(this.config.selected=n,!i&&this.events.fire(g.ItemEvent.change,[this.getValue()]),this.paint())},t.prototype.getValue=function(){var n=this.config,i=n.value,e=n.selected;return typeof i=="string"?e?i:"":typeof i=="number"?e?i:0:!!e},t.prototype.isSelected=function(){return!!this.config.selected},t.prototype.show=function(){this.config.hidden&&this.events.fire(g.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(g.ItemEvent.afterShow,[this.getValue()]))},t.prototype.hide=function(n){n===void 0&&(n=!1),this.config.hidden&&!n||!this.events.fire(g.ItemEvent.beforeHide,[this.getValue(),n])||(this.config.hidden=!0,this.events.fire(g.ItemEvent.afterHide,[this.getValue(),n]))},t.prototype.isVisible=function(){return!this.config.hidden},t.prototype.focus=function(){var n=this;(0,_.awaitRedraw)().then(function(){n.getRootView().refs.button.el.focus(),n.paint()})},t.prototype.blur=function(){var n=this;(0,_.awaitRedraw)().then(function(){n.getRootView().refs.button.el.blur(),n.paint()})},t.prototype.disable=function(){this.config.disabled=!0,this.paint()},t.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},t.prototype.isDisabled=function(){return!!this.config.disabled},t.prototype.setProperties=function(n){if(n&&!(0,u.isEmptyObj)(n)&&this.events.fire(g.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var i in n)this.props.includes(i)&&(this.config[i]=n[i]);this.events.fire(g.ItemEvent.afterChangeProperties,[this.getProperties()])}},t.prototype.getProperties=function(){for(var n={},i=0,e=this.props;i<e.length;i++){var a=e[i];n[a]=this.config[a]}return n},t.prototype.destructor=function(){this.events.clear(),this.unmount()},t.prototype.draw=function(){var n=this.config,i=n.id,e=n.name,a=n.selected,c=n.disabled,v=n.hidden,m=n.text,k=n.offText,I=n.icon,P=n.offIcon,T=n.full,H=n.$group,$=n.$gap,L=n.$extraCss,j=n.css;return(0,_.el)("button.dhx_toggle",{"data-dhx-id":e||i,role:"button",type:"button","aria-pressed":a,"aria-label":m||e,disabled:c,class:(H?"":"dhx_form-group dhx_form-group--toggle ")+(a?"dhx_toggle--selected ":"")+(c?"dhx_toggle--disabled ":"")+(v?"dhx_toggle--hidden ":"")+(T?"dhx_toggle--full ":"")+(H&&L||"")+(H&&j||""),style:{marginLeft:$},onclick:this.handlers.onclick,onfocus:this.handlers.onfocus,onblur:this.handlers.onblur,onkeydown:this.handlers.onkeydown,_ref:"button"},[I&&(0,_.el)("i.dhx_toggle__icon",{class:a?I:P||I}),m&&(0,_.el)("span.dhx_toggle__text",{},a?m:k||m)])},t.prototype.initHandlers=function(){var n=this;this.handlers={onclick:function(){return n.setValue(!n.config.selected)},onfocus:function(){return n.events.fire(g.ItemEvent.focus,[n.getValue()])},onblur:function(){return n.events.fire(g.ItemEvent.blur,[n.getValue()])},onkeydown:function(i){return n.events.fire(g.ItemEvent.keydown,[i])}}},t}(d.View);p.ToggleButton=r},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(43),b=x(10);p.default=w(w({},b.default),{type:"toggle",$handler:function(y){var g=y.id,d=y.value,_=y.editor,f=y.key;_.diagram.data.update(g,(0,C.getModifiedObject)(f,d,Array.isArray(f)&&_.diagram.data.getItem(g)||{}))},$setValue:function(y){var g=y.control,d=y.value;typeof d!="boolean"?g.setValue(d===this.value):g.setValue(!!d)},$layout:function(y){return w(w({},y),{type:"toggle"})}})},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.setValueFromCssVariable=p.getHeaderColor=void 0;var w=x(1);p.getHeaderColor=function(C,b){b===void 0&&(b="child");var y=["#FF9800","#607D8B","#00C7B5","#03A9F4","#9575CD","#F06292"];return y[(C.$level+{child:1,partner:0,assistant:3}[b])%y.length]},p.setValueFromCssVariable=function C(b,y){for(var g in b){var d=b[g];(0,w.isObject)(d)&&C(d,y),typeof d=="string"&&d.startsWith("var(--")&&(b[g]=getComputedStyle(y).getPropertyValue(d.substring(4,d.length-1)))}}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.cssManager=p.CssManager=void 0;var w=x(1),C=function(){function b(){this._classes={};var y=document.createElement("style");y.id="dhx_generated_styles",this._styleCont=document.head.appendChild(y)}return b.prototype.update=function(){this._styleCont.innerHTML!==this._generateCss()&&(document.head.appendChild(this._styleCont),this._styleCont.innerHTML=this._generateCss())},b.prototype.remove=function(y){delete this._classes[y],this.update()},b.prototype.add=function(y,g,d){d===void 0&&(d=!1);var _=this._toCssString(y),f=this._findSameClassId(_);return f&&g&&g!==f?(this._classes[g]=this._classes[f],g):f||this._addNewClass(_,g,d)},b.prototype.get=function(y){if(this._classes[y]){for(var g={},d=0,_=this._classes[y].split(";");d<_.length;d++){var f=_[d];if(f){var l=f.split(":");g[l[0]]=l[1]}}return g}return null},b.prototype.destructor=function(){this._classes=this._styleCont=null},b.prototype._findSameClassId=function(y){for(var g in this._classes)if(y===this._classes[g])return g;return null},b.prototype._addNewClass=function(y,g,d){var _=g||"dhx_generated_class_".concat((0,w.uid)());return this._classes[_]=y,d||this.update(),_},b.prototype._toCssString=function(y){var g="";for(var d in y){var _=y[d],f=d.replace(/[A-Z]{1}/g,function(l){return"-".concat(l.toLowerCase())});g+="".concat(f,":").concat(_,";")}return g},b.prototype._generateCss=function(){var y="";for(var g in this._classes){var d=this._classes[g];y+=".".concat(g,"{").concat(d,`}
`)}return y},b}();p.CssManager=C,p.cssManager=new C},function(O,p,x){x(115),x(116),x(117),x(118),x(119),x(278),O.exports=x(45)},function(O,p){Object.values=Object.values?Object.values:function(x){var w=Object.prototype.toString.call(x);if(x==null)throw new TypeError("Cannot convert undefined or null to object");if(~["[object String]","[object Object]","[object Array]","[object Function]"].indexOf(w)){if(Object.keys)return Object.keys(x).map(function(y){return x[y]});var C=[];for(var b in x)x.hasOwnProperty(b)&&C.push(x[b]);return C}return[]},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(x){for(var w=[],C=1;C<arguments.length;C++)w[C-1]=arguments[C];if(x==null)throw new TypeError("Cannot convert first argument to object");for(var b=Object(x),y=0;y<w.length;y++){var g=w[y];if(g!=null)for(var d=Object.keys(Object(g)),_=0,f=d.length;_<f;_++){var l=d[_],u=Object.getOwnPropertyDescriptor(g,l);u!==void 0&&u.enumerable&&(b[l]=g[l])}}return b}})},function(O,p){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(x,w){if(this==null)throw new TypeError('"this" is null or not defined');var C=Object(this),b=C.length>>>0;if(b===0)return!1;for(var y,g,d=0|w,_=Math.max(d>=0?d:b-Math.abs(d),0);_<b;){if((y=C[_])===(g=x)||typeof y=="number"&&typeof g=="number"&&isNaN(y)&&isNaN(g))return!0;_++}return!1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(x){if(this==null)throw new TypeError('"this" is null or not defined');var w=Object(this),C=w.length>>>0;if(typeof x!="function")throw new TypeError("predicate must be a function");for(var b=arguments[1],y=0;y<C;){var g=w[y];if(x.call(b,g,y,w))return g;y++}},configurable:!0,writable:!0}),Array.prototype.findIndex||(Array.prototype.findIndex=function(x){if(this==null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof x!="function")throw new TypeError("predicate must be a function");for(var w,C=Object(this),b=C.length>>>0,y=arguments[1],g=0;g<b;g++)if(w=C[g],x.call(y,w,g,C))return g;return-1})},function(O,p){String.prototype.includes||(String.prototype.includes=function(x,w){return typeof w!="number"&&(w=0),!(w+x.length>this.length)&&this.indexOf(x,w)!==-1}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:function(x,w){return w=w||0,this.indexOf(x,w)===w}}),String.prototype.padStart||(String.prototype.padStart=function(x,w){return x>>=0,w=String(w||" "),this.length>x?String(this):((x-=this.length)>w.length&&(w+=w.repeat(x/w.length)),w.slice(0,x)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(x,w){return x>>=0,w=String(w||" "),this.length>x?String(this):((x-=this.length)>w.length&&(w+=w.repeat(x/w.length)),String(this)+w.slice(0,x))})},function(O,p){if(Element&&!Element.prototype.matches){var x=Element.prototype;x.matches=x.matchesSelector||x.mozMatchesSelector||x.msMatchesSelector||x.oMatchesSelector||x.webkitMatchesSelector}if("classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var y=this;return{contains:function(g){return y.className.baseVal.split(" ").indexOf(g)!==-1},add:function(g){return y.setAttribute("class",y.getAttribute("class")+" "+g)},remove:function(g){var d=y.getAttribute("class").replace(new RegExp("(\\s|^)".concat(g,"(\\s|$)"),"g"),"$2");y.classList.contains(g)&&y.setAttribute("class",d)},toggle:function(g){this.contains(g)?this.remove(g):this.add(g)}}},configurable:!0}),!Object.entries){var w=Function.bind.call(Function.call,Array.prototype.reduce),C=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),b=Function.bind.call(Function.call,Array.prototype.concat);Object.entries=function(y){return w(Object.keys(y),function(g,d){return b(g,typeof d=="string"&&C(y,d)?[[d,y[d]]]:[])},[])}}Event.prototype.composedPath||(Event.prototype.composedPath=function(){if(this.path)return this.path;var y=this.target;for(this.path=[];y.parentNode!==null;)this.path.push(y),y=y.parentNode;return this.path.push(document,window),this.path})},function(O,p){Math.sign=Math.sign||function(x){return(x=+x)==0||isNaN(x)?x:x>0?1:-1}},function(O,p,x){(function(w){var C=w!==void 0&&w||typeof self<"u"&&self||window,b=Function.prototype.apply;function y(g,d){this._id=g,this._clearFn=d}p.setTimeout=function(){return new y(b.call(setTimeout,C,arguments),clearTimeout)},p.setInterval=function(){return new y(b.call(setInterval,C,arguments),clearInterval)},p.clearTimeout=p.clearInterval=function(g){g&&g.close()},y.prototype.unref=y.prototype.ref=function(){},y.prototype.close=function(){this._clearFn.call(C,this._id)},p.enroll=function(g,d){clearTimeout(g._idleTimeoutId),g._idleTimeout=d},p.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},p._unrefActive=p.active=function(g){clearTimeout(g._idleTimeoutId);var d=g._idleTimeout;d>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},d))},x(121),p.setImmediate=typeof self<"u"&&self.setImmediate||w!==void 0&&w.setImmediate||this&&this.setImmediate,p.clearImmediate=typeof self<"u"&&self.clearImmediate||w!==void 0&&w.clearImmediate||this&&this.clearImmediate}).call(this,x(44))},function(O,p,x){(function(w,C){(function(b,y){if(!b.setImmediate){var g,d,_,f,l,u=1,r={},s=!1,t=b.document,n=Object.getPrototypeOf&&Object.getPrototypeOf(b);n=n&&n.setTimeout?n:b,{}.toString.call(b.process)==="[object process]"?g=function(a){C.nextTick(function(){e(a)})}:function(){if(b.postMessage&&!b.importScripts){var a=!0,c=b.onmessage;return b.onmessage=function(){a=!1},b.postMessage("","*"),b.onmessage=c,a}}()?(f="setImmediate$"+Math.random()+"$",l=function(a){a.source===b&&typeof a.data=="string"&&a.data.indexOf(f)===0&&e(+a.data.slice(f.length))},b.addEventListener?b.addEventListener("message",l,!1):b.attachEvent("onmessage",l),g=function(a){b.postMessage(f+a,"*")}):b.MessageChannel?((_=new MessageChannel).port1.onmessage=function(a){e(a.data)},g=function(a){_.port2.postMessage(a)}):t&&"onreadystatechange"in t.createElement("script")?(d=t.documentElement,g=function(a){var c=t.createElement("script");c.onreadystatechange=function(){e(a),c.onreadystatechange=null,d.removeChild(c),c=null},d.appendChild(c)}):g=function(a){setTimeout(e,0,a)},n.setImmediate=function(a){typeof a!="function"&&(a=new Function(""+a));for(var c=new Array(arguments.length-1),v=0;v<c.length;v++)c[v]=arguments[v+1];var m={callback:a,args:c};return r[u]=m,g(u),u++},n.clearImmediate=i}function i(a){delete r[a]}function e(a){if(s)setTimeout(e,0,a);else{var c=r[a];if(c){s=!0;try{(function(v){var m=v.callback,k=v.args;switch(k.length){case 0:m();break;case 1:m(k[0]);break;case 2:m(k[0],k[1]);break;case 3:m(k[0],k[1],k[2]);break;default:m.apply(y,k)}})(c)}finally{i(a),s=!1}}}}})(typeof self>"u"?w===void 0?this:w:self)}).call(this,x(44),x(122))},function(O,p){var x,w,C=O.exports={};function b(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function g(n){if(x===setTimeout)return setTimeout(n,0);if((x===b||!x)&&setTimeout)return x=setTimeout,setTimeout(n,0);try{return x(n,0)}catch{try{return x.call(null,n,0)}catch{return x.call(this,n,0)}}}(function(){try{x=typeof setTimeout=="function"?setTimeout:b}catch{x=b}try{w=typeof clearTimeout=="function"?clearTimeout:y}catch{w=y}})();var d,_=[],f=!1,l=-1;function u(){f&&d&&(f=!1,d.length?_=d.concat(_):l=-1,_.length&&r())}function r(){if(!f){var n=g(u);f=!0;for(var i=_.length;i;){for(d=_,_=[];++l<i;)d&&d[l].run();l=-1,i=_.length}d=null,f=!1,function(e){if(w===clearTimeout)return clearTimeout(e);if((w===y||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(e);try{return w(e)}catch{try{return w.call(null,e)}catch{return w.call(this,e)}}}(n)}}function s(n,i){this.fun=n,this.array=i}function t(){}C.nextTick=function(n){var i=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)i[e-1]=arguments[e];_.push(new s(n,i)),_.length!==1||f||g(r)},s.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=t,C.addListener=t,C.once=t,C.off=t,C.removeListener=t,C.removeAllListeners=t,C.emit=t,C.prependListener=t,C.prependOnceListener=t,C.listeners=function(n){return[]},C.binding=function(n){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(n){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},function(O,p,x){x.r(p)},function(O,p,x){x.r(p)},function(O,p,x){/**
* Copyright (c) 2017, Leon Sorokin
* All rights reserved. (MIT Licensed)
*
* domvm.js (DOM ViewModel)
* A thin, fast, dependency-free vdom view layer
* @preserve https://github.com/leeoniya/domvm (v3.2.6, micro build)
*/O.exports=function(){var w=1,C=2,b=3,y=4,g=5,d=typeof window<"u",_=(d?window:{}).requestAnimationFrame,f={};function l(){}var u=Array.isArray;function r(G){return G!=null}function s(G){return G!=null&&G.constructor===Object}function t(G,J,Z,ee){G.splice.apply(G,[Z,ee].concat(J))}function n(G){var J=typeof G;return J==="string"||J==="number"}function i(G){return typeof G=="function"}function e(G){return typeof G=="object"&&i(G.then)}function a(G){for(var J=arguments,Z=1;Z<J.length;Z++)for(var ee in J[Z])G[ee]=J[Z][ee];return G}function c(G,J,Z){for(var ee;ee=J.shift();)J.length===0?G[ee]=Z:G[ee]=G=G[ee]||{}}function v(G,J){for(var Z=[],ee=J;ee<G.length;ee++)Z.push(G[ee]);return Z}function m(G,J){for(var Z in G)if(G[Z]!==J[Z])return!1;return!0}function k(G,J){var Z=G.length;if(J.length!==Z)return!1;for(var ee=0;ee<Z;ee++)if(G[ee]!==J[ee])return!1;return!0}function I(G){if(!_)return G;var J,Z,ee;function te(){J=0,G.apply(Z,ee)}return function(){Z=this,ee=arguments,J||(J=_(te))}}function P(G,J,Z){return function(){return G.apply(Z,J)}}function T(G){var J,Z,ee=G.slice(),te=[];te.push(0);for(var se=0,pe=G.length;se<pe;++se){var we=te[te.length-1];if(G[we]<G[se])ee[se]=we,te.push(se);else{for(J=0,Z=te.length-1;J<Z;){var _e=(J+Z)/2|0;G[te[_e]]<G[se]?J=_e+1:Z=_e}G[se]<G[te[J]]&&(J>0&&(ee[se]=te[J-1]),te[J]=se)}}for(Z=te[(J=te.length)-1];J-- >0;)te[J]=Z,Z=ee[Z];return te}function H(G,J){var Z,ee=0,te=J.length-1;if(te<=2147483647)for(;ee<=te;){if(J[Z=ee+te>>1]===G)return Z;J[Z]<G?ee=Z+1:te=Z-1}else for(;ee<=te;){if(J[Z=Math.floor((ee+te)/2)]===G)return Z;J[Z]<G?ee=Z+1:te=Z-1}return ee==J.length?null:ee}function $(G){return G[0]==="o"&&G[1]==="n"}function L(G){return G[0]==="_"}function j(G){return G==="style"}function M(G){G&&G.el&&G.el.offsetHeight}function F(G){return G.node!=null&&G.node.el!=null}function S(G,J){switch(J){case"value":case"checked":case"selected":return!0}return!1}function R(G){for(G=G||f;G.vm==null&&G.parent;)G=G.parent;return G.vm}function B(){}var Y=B.prototype={constructor:B,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_class:null,_diff:null,_dead:!1,_lis:!1,idx:null,parent:null};function q(G){var J=new B;return J.type=C,J.body=G,J}var U={},V=/\[(\w+)(?:=(\w+))?\]/g;function A(G){var J,Z,ee,te,se=U[G];if(se==null)for(U[G]=se={tag:(J=G.match(/^[-\w]+/))?J[0]:"div",id:(Z=G.match(/#([-\w]+)/))?Z[1]:null,class:(ee=G.match(/\.([-\w.]+)/))?ee[1].replace(/\./g," "):null,attrs:null};te=V.exec(G);)se.attrs==null&&(se.attrs={}),se.attrs[te[1]]=te[2]||"";return se}var N=1,W=2,Q=4,X=8;function K(G,J,Z,ee){var te=new B;te.type=w,r(ee)&&(te.flags=ee),te.attrs=J;var se=A(G);if(te.tag=se.tag,se.id||se.class||se.attrs){var pe=te.attrs||{};if(se.id&&!r(pe.id)&&(pe.id=se.id),se.class&&(te._class=se.class,pe.class=se.class+(r(pe.class)?" "+pe.class:"")),se.attrs)for(var we in se.attrs)r(pe[we])||(pe[we]=se.attrs[we]);te.attrs=pe}var _e=te.attrs;return r(_e)&&(r(_e._key)&&(te.key=_e._key),r(_e._ref)&&(te.ref=_e._ref),r(_e._hooks)&&(te.hooks=_e._hooks),r(_e._data)&&(te.data=_e._data),r(_e._flags)&&(te.flags=_e._flags),r(te.key)||(r(te.ref)?te.key=te.ref:r(_e.id)?te.key=_e.id:r(_e.name)&&(te.key=_e.name+(_e.type==="radio"||_e.type==="checkbox"?_e.value:"")))),Z!=null&&(te.body=Z),te}function ne(G,J,Z){c(G,["refs"].concat(J.split(".")),Z)}function ie(G){for(;G=G.parent;)G.flags|=N}function oe(G,J,Z,ee){if(G.type!==g&&G.type!==y){G.parent=J,G.idx=Z,G.vm=ee,G.ref!=null&&ne(R(G),G.ref,G);var te=G.hooks,se=ee&&ee.hooks;(te&&(te.willRemove||te.didRemove)||se&&(se.willUnmount||se.didUnmount))&&ie(G),u(G.body)&&re(G)}}function re(G){for(var J=G.body,Z=0;Z<J.length;Z++){var ee=J[Z];ee===!1||ee==null?J.splice(Z--,1):u(ee)?t(J,ee,Z--,1):(ee.type==null&&(J[Z]=ee=q(""+ee)),ee.type===C?ee.body==null||ee.body===""?J.splice(Z--,1):Z>0&&J[Z-1].type===C?(J[Z-1].body+=ee.body,J.splice(Z--,1)):oe(ee,G,Z,null):oe(ee,G,Z,null))}}var le={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,order:!0,lineClamp:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function ue(G,J){return isNaN(J)||le[G]?J:J+"px"}function de(G,J){var Z=(G.attrs||f).style,ee=J?(J.attrs||f).style:null;if(Z==null||n(Z))G.el.style.cssText=Z;else{for(var te in Z){var se=Z[te];(ee==null||se!=null&&se!==ee[te])&&(G.el.style[te]=ue(te,se))}if(ee)for(var pe in ee)Z[pe]==null&&(G.el.style[pe]="")}}var ge=[];function ce(G,J,Z,ee,te){if(G!=null){var se=Z.hooks[J];if(se){if(J[0]!=="d"||J[1]!=="i"||J[2]!=="d")return se(Z,ee);te?M(Z.parent)&&se(Z,ee):ge.push([se,Z,ee])}}}function he(G){var J;if(ge.length)for(M(G.node);J=ge.shift();)J[0](J[1],J[2])}var ve=d?document:null;function be(G){for(;G._node==null;)G=G.parentNode;return G._node}function xe(G,J){return J!=null?ve.createElementNS(J,G):ve.createElement(G)}function ye(G){return ve.createTextNode(G)}function z(G){return ve.createComment(G)}function ae(G){return G.nextSibling}function Ce(G){return G.previousSibling}function Ee(G){var J=G.vm,Z=J!=null&&ce(J.hooks,"willUnmount",J,J.data),ee=ce(G.hooks,"willRemove",G);if((G.flags&N)===N&&u(G.body))for(var te=0;te<G.body.length;te++)Ee(G.body[te]);return Z||ee}function Fe(G,J,Z){var ee=J._node,te=ee.vm;if(u(ee.body))if((ee.flags&N)===N)for(var se=0;se<ee.body.length;se++)Fe(J,ee.body[se].el);else ke(ee);delete J._node,G.removeChild(J),ce(ee.hooks,"didRemove",ee,null,Z),te!=null&&(ce(te.hooks,"didUnmount",te,te.data,Z),te.node=null)}function He(G,J){var Z=J._node;if(!Z._dead){var ee=Ee(Z);ee!=null&&e(ee)?(Z._dead=!0,ee.then(P(Fe,[G,J,!0]))):Fe(G,J)}}function ke(G){for(var J=G.body,Z=0;Z<J.length;Z++){var ee=J[Z];delete ee.el._node,ee.vm!=null&&(ee.vm.node=null),u(ee.body)&&ke(ee)}}function Pe(G){var J=G.el;if(!(G.flags&N))u(G.body)&&ke(G),J.textContent=null;else{var Z=J.firstChild;do{var ee=ae(Z);He(J,Z)}while(Z=ee)}}function Se(G,J,Z){var ee=J._node,te=J.parentNode!=null,se=J!==Z&&te?null:ee.vm;se!=null&&ce(se.hooks,"willMount",se,se.data),ce(ee.hooks,te?"willReinsert":"willInsert",ee),G.insertBefore(J,Z),ce(ee.hooks,te?"didReinsert":"didInsert",ee),se!=null&&ce(se.hooks,"didMount",se,se.data)}function Lt(G,J,Z){Se(G,J,Z?ae(Z):null)}var Ze={};function Nt(G){a(Ze,G)}function Xt(G){var J=this,Z=J,ee=v(arguments,1).concat(Z,Z.data);do{var te=J.onemit,se=te?te[G]:null;if(se){se.apply(J,ee);break}}while(J=J.parent());Ze[G]&&Ze[G].apply(J,ee)}var cn=l;function Ae(G){cn=G.onevent||cn,G.onemit&&Nt(G.onemit)}function Ct(G,J,Z){G[J]=Z}function ko(G,J,Z,ee,te){var se=G.apply(te,J.concat([Z,ee,te,te.data]));te.onevent(Z,ee,te,te.data,J),cn.call(null,Z,ee,te,te.data,J),se===!1&&(Z.preventDefault(),Z.stopPropagation())}function Di(G){var J,Z,ee=be(G.target),te=R(ee),se=G.currentTarget._node.attrs["on"+G.type];if(u(se))ko(J=se[0],Z=se.slice(1),G,ee,te);else for(var pe in se)if(G.target.matches(pe)){var we=se[pe];u(we)?(J=we[0],Z=we.slice(1)):(J=we,Z=[]),ko(J,Z,G,ee,te)}}function zt(G,J,Z,ee){if(Z!==ee){var te=G.el;Z==null||i(Z)?Ct(te,J,Z):ee==null&&Ct(te,J,Di)}}function Kt(G,J,Z){J[0]==="."&&(J=J.substr(1),Z=!0),Z?G.el[J]="":G.el.removeAttribute(J)}function dn(G,J,Z,ee,te){var se=G.el;Z==null?!te&&Kt(G,J,!1):G.ns!=null?se.setAttribute(J,Z):J==="class"?se.className=Z:J==="id"||typeof Z=="boolean"||ee?se[J]=Z:J[0]==="."?se[J.substr(1)]=Z:se.setAttribute(J,Z)}function Mi(G,J,Z){var ee=G.attrs||f,te=J.attrs||f;if(ee!==te){for(var se in ee){var pe=ee[se],we=S(G.tag,se),_e=we?G.el[se]:te[se];pe===_e||(j(se)?de(G,J):L(se)||($(se)?zt(G,se,pe,_e):dn(G,se,pe,we,Z)))}for(var se in te)!(se in ee)&&!L(se)&&Kt(G,se,S(G.tag,se)||$(se))}}function Qt(G,J,Z,ee){return G.type===y&&(J=G.data,Z=G.key,ee=G.opts,G=G.view),new Do(G,J,Z,ee)}function Vn(G){for(var J=0;J<G.body.length;J++){var Z=G.body[J],ee=Z.type;if(ee<=b)Se(G.el,Bt(Z));else if(ee===y)ee=(te=Qt(Z.view,Z.data,Z.key,Z.opts)._redraw(G,J,!1)).node.type,Se(G.el,Bt(te.node));else if(ee===g){var te;(te=Z.vm)._redraw(G,J),ee=te.node.type,Se(G.el,te.node.el)}}}function Bt(G,J){return G.el==null&&(G.type===w?(G.el=J||xe(G.tag,G.ns),G.attrs!=null&&Mi(G,f,!0),(G.flags&X)===X&&G.body.body(G),u(G.body)?Vn(G):G.body!=null&&G.body!==""&&(G.el.textContent=G.body)):G.type===C?G.el=J||ye(G.body):G.type===b&&(G.el=J||z(G.body))),G.el._node=G,G.el}function So(G,J){return J[G.idx+1]}function Io(G,J){return J[G.idx-1]}function Ti(G){return G.parent}window.lisMove=fn;var Qn=1,Jt=2;function hn(G,J,Z,ee,te,se,pe,we){return function(_e,Xe,Me,Oe,ei,Ge){var We,Tt;if(Oe[ee]!=null){if((We=Oe[ee]._node)==null)return void(Oe[ee]=G(Oe[ee]));if(Ti(We)!==_e)return Tt=G(Oe[ee]),We.vm!=null?We.vm.unmount(!0):He(Xe,Oe[ee]),void(Oe[ee]=Tt)}if(Oe[te]==ei)return Jt;if(Oe[te].el==null)Z(Xe,Bt(Oe[te]),Oe[ee]),Oe[te]=J(Oe[te],Me);else if(Oe[te].el===Oe[ee])Oe[te]=J(Oe[te],Me),Oe[ee]=G(Oe[ee]);else{if(Ge||We!==Oe[pe])return Ge&&Oe[ee]!=null?fn(G,J,Z,ee,te,Xe,Me,We,Oe):Qn;Tt=Oe[ee],Oe[ee]=G(Tt),we(Xe,Tt,Oe[se]),Oe[se]=Tt}}}function fn(G,J,Z,ee,te,se,pe,we,_e){if(we._lis)Z(se,_e[te].el,_e[ee]),_e[te]=J(_e[te],pe);else{var Xe=H(we.idx,_e.tombs);we._lis=!0;var Me=G(_e[ee]);Z(se,_e[ee],Xe!=null?pe[_e.tombs[Xe]].el:Xe),Xe==null?_e.tombs.push(we.idx):_e.tombs.splice(Xe,0,we.idx),_e[ee]=Me}}var Mt=hn(ae,So,Se,"lftSib","lftNode","rgtSib","rgtNode",Lt),Po=hn(Ce,Io,Lt,"rgtSib","rgtNode","lftSib","lftNode",Se);function Hi(G,J){var Z=J.body,ee=G.el,te=G.body,se={lftNode:te[0],rgtNode:te[te.length-1],lftSib:(Z[0]||f).el,rgtSib:(Z[Z.length-1]||f).el};e:for(;;){for(;;){var pe=Mt(G,ee,te,se,null,!1);if(pe===Qn)break;if(pe===Jt)break e}for(;;){var we=Po(G,ee,te,se,se.lftNode,!1);if(we===Qn)break;if(we===Jt)break e}Jn(G,ee,te,se);break}}function Jn(G,J,Z,ee){for(var te=Array.prototype.slice.call(J.childNodes),se=[],pe=0;pe<te.length;pe++){var we=te[pe]._node;we.parent===G&&se.push(we.idx)}for(var _e=T(se).map(function(Me){return se[Me]}),Xe=0;Xe<_e.length;Xe++)Z[_e[Xe]]._lis=!0;for(ee.tombs=_e;Mt(G,J,Z,ee,null,!0)!==Jt;);}function Zn(G){return G.el._node.parent!==G.parent}function Le(G,J,Z){return J[Z]}function fl(G,J,Z){for(;Z<J.length;Z++){var ee=J[Z];if(ee.vm!=null){if(G.type===y&&ee.vm.view===G.view&&ee.vm.key===G.key||G.type===g&&ee.vm===G.vm)return ee}else if(!Zn(ee)&&G.tag===ee.tag&&G.type===ee.type&&G.key===ee.key&&(G.flags&~N)==(ee.flags&~N))return ee}return null}function pl(G,J,Z){return J[J._keys[G.key]]}function Oo(G,J){ce(J.hooks,"willRecycle",J,G);var Z=G.el=J.el,ee=J.body,te=G.body;if(Z._node=G,G.type!==C||te===ee){G.attrs==null&&J.attrs==null||Mi(G,J,!1);var se=u(ee),pe=u(te),we=(G.flags&X)===X;se?pe||we?Ud(G,J):te!==ee&&(te!=null?Z.textContent=te:Pe(J)):pe?(Pe(J),Vn(G)):te!==ee&&(Z.firstChild?Z.firstChild.nodeValue=te:Z.textContent=te),ce(J.hooks,"didRecycle",J,G)}else Z.nodeValue=te}function Ud(G,J){var Z=G.body,ee=Z.length,te=J.body,se=te.length,pe=(G.flags&X)===X,we=(G.flags&W)===W,_e=(G.flags&Q)===Q,Xe=!we&&G.type===w,Me=!0,Oe=_e?pl:we||pe?Le:fl;if(_e){for(var ei={},Ge=0;Ge<te.length;Ge++)ei[te[Ge].key]=Ge;te._keys=ei}if(Xe&&ee===0)return Pe(J),void(pe&&(G.body=[]));var We,Tt,rh=0,bl=!1,pn=0;if(pe)var xl={key:null},wl=Array(ee);for(Ge=0;Ge<ee;Ge++){if(pe){var Qr=!1,Jr=null;Me&&(_e&&(xl.key=Z.key(Ge)),We=Oe(xl,te,pn)),We!=null?(Tt=We.idx,(Jr=Z.diff(Ge,We))===!0?((Ke=We).parent=G,Ke.idx=Ge,Ke._lis=!1):Qr=!0):Qr=!0,Qr&&(oe(Ke=Z.tpl(Ge),G,Ge),Ke._diff=Jr??Z.diff(Ge),We!=null&&Oo(Ke,We)),wl[Ge]=Ke}else{var Ke,Ai=(Ke=Z[Ge]).type;if(Ai<=b)(We=Me&&Oe(Ke,te,pn))&&(Oo(Ke,We),Tt=We.idx);else if(Ai===y){if(We=Me&&Oe(Ke,te,pn)){Tt=We.idx;var Zr=We.vm._update(Ke.data,G,Ge)}else Zr=Qt(Ke.view,Ke.data,Ke.key,Ke.opts)._redraw(G,Ge,!1);Ai=Zr.node.type}else if(Ai===g){var ah=F(Ke.vm);Ai=(Zr=Ke.vm._update(Ke.data,G,Ge,ah)).node.type}}if(!_e&&We!=null&&(Tt===pn?++pn===se&&ee>se&&(We=null,Me=!1):bl=!0,se>100&&bl&&++rh%10==0))for(;pn<se&&Zn(te[pn]);)pn++}pe&&(G.body=wl),Xe&&Hi(G,J)}function Do(G,J,Z,ee){var te=this;te.view=G,te.data=J,te.key=Z,ee&&(te.opts=ee,te.config(ee));var se=s(G)?G:G.call(te,te,J,Z,ee);i(se)?te.render=se:(te.render=se.render,te.config(se)),te._redrawAsync=I(function(pe){return te.redraw(!0)}),te._updateAsync=I(function(pe){return te.update(pe,!0)}),te.init&&te.init.call(te,te,te.data,te.key,ee)}var Yr=Do.prototype={constructor:Do,_diff:null,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,onevent:l,refs:null,render:null,mount:Gd,unmount:Yd,config:function(G){var J=this;G.init&&(J.init=G.init),G.diff&&(J.diff=G.diff),G.onevent&&(J.onevent=G.onevent),G.hooks&&(J.hooks=a(J.hooks||{},G.hooks)),G.onemit&&(J.onemit=a(J.onemit||{},G.onemit))},parent:function(){return R(this.node.parent)},root:function(){for(var G=this.node;G.parent;)G=G.parent;return G.vm},redraw:function(G){var J=this;return G?J._redraw(null,null,F(J)):J._redrawAsync(),J},update:function(G,J){var Z=this;return J?Z._update(G,null,null,F(Z)):Z._updateAsync(G),Z},_update:Xd,_redraw:qd,_redrawAsync:null,_updateAsync:null};function Gd(G,J){var Z=this;return J?(Pe({el:G,flags:0}),Z._redraw(null,null,!1),G.nodeName.toLowerCase()!==Z.node.tag?(Bt(Z.node),Se(G.parentNode,Z.node.el,G),G.parentNode.removeChild(G)):Se(G.parentNode,Bt(Z.node,G),G)):(Z._redraw(null,null),G&&Se(G,Z.node.el)),G&&he(Z),Z}function Yd(G){var J=this,Z=J.node;He(Z.el.parentNode,Z.el),G||he(J)}function gl(G,J,Z,ee){return Z!=null&&(Z.body[ee]=J,J.idx=ee,J.parent=Z,J._lis=!1),G}function qd(G,J,Z){var ee,te,se=G==null,pe=this,we=pe.node&&pe.node.el&&pe.node.el.parentNode,_e=pe.node;if(pe.diff!=null&&(ee=pe._diff,pe._diff=te=pe.diff(pe,pe.data),_e!=null)){var Xe=u(ee)?k:m;if(ee===te||Xe(ee,te))return gl(pe,_e,G,J)}we&&ce(pe.hooks,"willRedraw",pe,pe.data);var Me=pe.render.call(pe,pe,pe.data,ee,te);if(Me===_e)return gl(pe,_e,G,J);if(pe.refs=null,pe.key!=null&&Me.key!==pe.key&&(Me.key=pe.key),pe.node=Me,G?(oe(Me,G,J,pe),G.body[J]=Me):_e&&_e.parent?(oe(Me,_e.parent,_e.idx,pe),_e.parent.body[_e.idx]=Me):oe(Me,null,null,pe),Z!==!1)if(_e)if(_e.tag!==Me.tag||_e.key!==Me.key){_e.vm=Me.vm=null;var Oe=_e.el.parentNode,ei=ae(_e.el);He(Oe,_e.el),Se(Oe,Bt(Me),ei),_e.el=Me.el,Me.vm=pe}else Oo(Me,_e);else Bt(Me);return we&&ce(pe.hooks,"didRedraw",pe,pe.data),se&&we&&he(pe),pe}function Xd(G,J,Z,ee){var te=this;return G!=null&&te.data!==G&&(ce(te.hooks,"willUpdate",te,G),te.data=G),te._redraw(J,Z,ee)}function vl(G,J,Z,ee){var te,se;return Z==null?s(J)?te=J:se=J:(te=J,se=Z),K(G,te,se,ee)}var _l="http://www.w3.org/2000/svg";function Kd(G,J,Z,ee){var te=vl(G,J,Z,ee);return te.ns=_l,te}function Qd(G){var J=new B;return J.type=b,J.body=G,J}function qr(G,J,Z,ee){this.view=G,this.data=J,this.key=Z,this.opts=ee}function Jd(G,J,Z,ee){return new qr(G,J,Z,ee)}function Xr(G){this.vm=G}function Zd(G){return new Xr(G)}function eh(G){var J=new B;return J.type=w,J.el=J.key=G,J}function th(G,J){var Z=G.length,ee={items:G,length:Z,key:function(te){return J.key(G[te],te)},diff:function(te,se){var pe=J.diff(G[te],te);if(se==null)return pe;var we=se._diff;return(pe===we||u(we)?k(pe,we):m(pe,we))||pe},tpl:function(te){return J.tpl(G[te],te)},map:function(te){return J.tpl=te,ee},body:function(te){for(var se=Array(Z),pe=0;pe<Z;pe++){var we=ee.tpl(pe);we._diff=ee.diff(pe),se[pe]=we,oe(we,te,pe)}te.body=se}};return ee}qr.prototype={constructor:qr,type:y,view:null,data:null,key:null,opts:null},Xr.prototype={constructor:Xr,type:g,vm:null};var Kr={config:Ae,ViewModel:Do,VNode:B,createView:Qt,defineElement:vl,defineSvgElement:Kd,defineText:q,defineComment:Qd,defineView:Jd,injectView:Zd,injectElement:eh,lazyList:th,FIXED_BODY:W,DEEP_REMOVE:N,KEYED_LIST:Q,LAZY_LIST:X};function nh(G,J){ih(this,G,J)}function ih(G,J,Z){if(J.type!=null){if(G.vm!=null)return;oe(J,G.parent,G.idx,null),G.parent.body[G.idx]=J,Oo(J,G),Z&&M(J),he(R(J))}else{var ee=Object.create(G);ee.attrs=a({},G.attrs);var te=a(G.attrs,J);if(G._class!=null){var se=te.class;te.class=se!=null&&se!==""?G._class+" "+se:G._class}Mi(G,ee),Z&&M(G)}}function ml(G,J){var Z=G.body;if(u(Z))for(var ee=0;ee<Z.length;ee++){var te=Z[ee];te.vm!=null?J.push(te.vm):ml(te,J)}return J}function yl(G){var J,Z,ee=arguments,te=ee.length;if(te>1){var se=1;s(ee[1])&&(Z=ee[1],se=2),J=te===se+1&&(n(ee[se])||u(ee[se])||Z&&(Z._flags&X)===X)?ee[se]:v(ee,se)}return K(G,Z,J)}function oh(){var G=yl.apply(null,arguments);return G.ns=_l,G}return Y.patch=nh,Yr.emit=Xt,Yr.onemit=null,Yr.body=function(){return ml(this.node,[])},Kr.defineElementSpread=yl,Kr.defineSvgElementSpread=oh,Kr}()},function(O,p,x){var w,C=this&&this.__extends||(w=function(f,l){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u[s]=r[s])},w(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=f}w(f,l),f.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)});Object.defineProperty(p,"__esModule",{value:!0}),p.ContextMenu=void 0;var b=x(1),y=x(2),g=x(21),d=x(30),_=function(f){function l(u,r){var s=f.call(this,u,(0,b.extend)({$name:"context-menu"},r))||this;return s._isContextMenu=!0,s}return C(l,f),l.prototype.showAt=function(u,r){if(r===void 0&&(r="bottom"),u instanceof MouseEvent)this._close(u),this._changeActivePosition({left:window.pageXOffset+u.x+1,right:window.pageXOffset+u.x+1,top:window.pageYOffset+u.y,bottom:window.pageYOffset+u.y,zIndex:(0,g.getZIndex)(u.target)},r);else if(window.TouchEvent&&u instanceof TouchEvent)this._close(u),this._changeActivePosition({left:window.pageXOffset+u.touches[0].clientX,right:window.pageXOffset+u.touches[0].clientX,top:window.pageYOffset+u.touches[0].clientY,bottom:window.pageYOffset+u.touches[0].clientY,zIndex:(0,g.getZIndex)(u.target)},r);else if(u instanceof HTMLElement||typeof u=="string"){var s=(0,y.toNode)(u);this._changeActivePosition((0,y.getRealPosition)(s),r)}},l.prototype._getFactory=function(){return(0,d.createFactory)({widget:this,defaultType:"menuItem",allowedTypes:["menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"context-menu"})},l.prototype._close=function(u){var r=this;this.events.on(d.NavigationBarEvents.afterHide,function(){r._activeMenu=null,r._changeActivePosition(null,null)}),f.prototype._close.call(this,u)},l.prototype._getMode=function(u,r,s){return s?this._mode:"right"},l.prototype._changeActivePosition=function(u,r){this._activePosition=u,this._mode=r,this._listenOuterClick(),this.paint()},l}(d.Navbar);p.ContextMenu=_},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.message=void 0;var w=x(1),C=x(2),b=x(46),y=new WeakMap,g=new Map;function d(_,f){var l=document.createElement("div");return l.setAttribute("data-position",f),l.className="dhx_message-container dhx_message-container--"+f+(_===document.body?" dhx_message-container--in-body":""),l}p.message=function(_){var f;typeof _=="string"&&(_={text:_}),_.position=_.position||b.MessageContainerPosition.topRight;var l=document.createElement("div");l.className="dhx_widget dhx_message "+(_.css||""),l.setAttribute("role","alert");var u=_.text&&(0,w.uid)();u&&l.setAttribute("aria-describedby",u),_.html?l.innerHTML=_.html:(l.innerHTML='<span class="dhx_message__text" id='.concat(u,`></span>
		`).concat(_.icon?'<span class="dhx_message__icon dxi '.concat(_.icon,'"></span>'):""),l.querySelector("#".concat(u)).textContent=_.text);var r=_.node?(0,C.toNode)(_.node):document.body;getComputedStyle(r).position==="static"&&(r.style.position="relative");var s=g.get(r);s?s[_.position]||(s[_.position]={stack:[],container:d(r,_.position)}):g.set(r,((f={})[_.position]={stack:[],container:d(r,_.position)},f));var t=g.get(r)[_.position],n=t.stack,i=t.container;function e(c){c===void 0&&(c=!0),l&&(function(v,m){m&&clearTimeout(y.get(v));var k=v.parentNode,I=k.getAttribute("data-position"),P=k.parentNode,T=g.get(P);if(T){var H=T[I];if(H){var $=H.stack,L=$.indexOf(v);L!==-1&&(k.removeChild(v),$.splice(L,1),$.length===0&&P.removeChild(k))}}}(l,c),l=null)}if(n.length===0&&r.appendChild(i),n.push(l),i.appendChild(l),_.expire){var a=setTimeout(function(){return e(!1)},_.expire);y.set(l,a)}return l.onclick=function(){return e()},{close:function(){return e()}}}},function(O,p,x){(function(w){Object.defineProperty(p,"__esModule",{value:!0}),p.alert=void 0;var C=x(65),b=x(66),y=x(1);p.alert=function(g){var d=g.buttons&&g.buttons[0]?g.buttons[0]:C.default.apply,_=(0,b.blockScreen)(g.blockerCss);return new w(function(f){var l="dhx_alert__".concat((0,y.uid)(),"_content"),u="dhx_alert__".concat((0,y.uid)(),"_header"),r=document.createElement("div");r.setAttribute("role","alert"),r.setAttribute("aria-modal","true"),g.text&&r.setAttribute("aria-describedby",l),g.header&&r.setAttribute("aria-labelledby",u),r.className="dhx_widget dhx_alert "+(g.css||"");var s=function(n){n.key!=="Escape"&&n.key!=="Esc"||(t(n),f(!1))};function t(n){n.preventDefault(),_(),document.body.removeChild(r),document.removeEventListener("keydown",s)}r.innerHTML=`
			`.concat(g.header?"<div id=".concat(u,' class="dhx_alert__header"> ').concat(g.htmlEnable!==!1?g.header:""," </div>"):"",`
			`).concat(g.text?"<div id=".concat(l,' class="dhx_alert__content">').concat(g.htmlEnable!==!1?g.text:"","</div>"):"",`
			<div class="dhx_alert__footer `).concat(g.buttonsAlignment?"dhx_alert__footer--"+g.buttonsAlignment:"",`">
				<button type="button" aria-label="confirm" class="dhx_alert__apply-button dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">`).concat(d,`</button>
			</div>`),g.htmlEnable===!1&&(g.header&&(r.querySelector("#".concat(u)).textContent=g.header),g.text&&(r.querySelector("#".concat(l)).textContent=g.text)),document.body.appendChild(r),r.querySelector(".dhx_alert__apply-button").focus(),r.querySelector("button").addEventListener("click",function(n){t(n),f(!0)}),document.addEventListener("keydown",s)})}}).call(this,x(17))},function(O,p,x){(function(w){Object.defineProperty(p,"__esModule",{value:!0}),p.confirm=void 0;var C=x(65),b=x(66),y=x(1);p.confirm=function(g){g.buttonsAlignment=g.buttonsAlignment||"right";var d=g.buttons&&g.buttons[1]?g.buttons[1]:C.default.apply,_=g.buttons&&g.buttons[0]?g.buttons[0]:C.default.reject,f=(0,b.blockScreen)("dhx_alert__overlay-confirm "+(g.blockerCss||""));return new w(function(l){var u=document.createElement("div");u.setAttribute("role","alertdialog"),u.setAttribute("aria-modal","true");var r,s=g.header&&(0,y.uid)(),t=g.header&&(0,y.uid)();t&&u.setAttribute("aria-describedby",t),s&&u.setAttribute("aria-labelledby",s);var n=function(a){f(),u.removeEventListener("click",i),document.removeEventListener("keydown",e),document.body.removeChild(u),l(a)},i=function(a){a.target.tagName==="BUTTON"&&n(a.target.classList.contains("dhx_alert__confirm-aply"))},e=function(a){a.key==="Escape"||a.key==="Esc"?(u.querySelector(".dhx_alert__confirm-aply").focus(),n(a.target.classList.contains("dhx_alert__confirm-reject"))):a.key==="Tab"&&(r==="aply"?(r="reject",u.querySelector(".dhx_alert__confirm-reject").focus()):(r="aply",u.querySelector(".dhx_alert__confirm-aply").focus()),a.preventDefault())};u.className="dhx_widget dhx_alert dhx_alert--confirm"+(g.css?" "+g.css:""),u.innerHTML=`
		`.concat(g.header?'<div class="dhx_alert__header" id='.concat(s,"> ").concat(g.htmlEnable!==!1?g.header:""," </div>"):"",`
		`).concat(g.text?'<div class="dhx_alert__content" id='.concat(t,">").concat(g.htmlEnable!==!1?g.text:"","</div>"):"",`
			<div class="dhx_alert__footer `).concat(g.buttonsAlignment?"dhx_alert__footer--"+g.buttonsAlignment:"",`">
				<button type="button" aria-label="reject" class="dhx_alert__confirm-reject dhx_button dhx_button--view_link dhx_button--color_primary dhx_button--size_medium">`).concat(_,`</button>
				<button type="button"  aria-label="aply"class="dhx_alert__confirm-aply dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">`).concat(d,`</button>
			</div>`),g.htmlEnable===!1&&(g.header&&(u.querySelector("#".concat(s)).textContent=g.header),g.text&&(u.querySelector("#".concat(t)).textContent=g.text)),document.body.appendChild(u),r="aply",u.querySelector(".dhx_alert__confirm-aply").focus(),u.addEventListener("click",i),document.addEventListener("keydown",e)})}}).call(this,x(17))},function(O,p,x){var w,C=this&&this.__extends||(w=function(n,i){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])},w(n,i)},function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=n}w(n,i),n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),b=this&&this.__assign||function(){return b=Object.assign||function(n){for(var i,e=1,a=arguments.length;e<a;e++)for(var c in i=arguments[e])Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c]);return n},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Navbar=void 0;var y=x(1),g=x(0),d=x(3),_=x(21),f=x(2),l=x(14),u=x(5),r=x(8),s=x(38),t=function(n){function i(e,a){var c=n.call(this,e,a)||this;return c._isContextMenu=!1,c._documentHaveListener=!1,c.config=(0,y.extend)({rootId:typeof e=="string"&&e||c._uid},a),c._rootItem={},Array.isArray(c.config.data)?(c.events=new d.EventSystem(c),c.data=new r.TreeCollection({rootId:c.config.rootId},c.events)):c.config.data&&c.config.data.events?(c.data=c.config.data,c.events=c.data.events,c.events.context=c):(c.events=new d.EventSystem(c),c.data=new r.TreeCollection({rootId:c.config.rootId},c.events)),c._documentClick=function(v){if(c._documentHaveListener){var m=(0,f.locateNode)(v),k=c.data.getRoot(),I=m&&m.getAttribute("data-dhx-id"),P=c.data.getParent(I),T="ontouchstart"in window||navigator.msMaxTouchPoints;document.removeEventListener("click",c._documentClick),c._documentHaveListener=!1,((!T||m)&&c._isContextMenu||k!==P&&P&&c.data.getItem(I))&&P&&c.data.getItem(I)&&(!c._isContextMenu||k===(0,f.locate)(v,"data-dhx-widget-id"))||c._close(v)}},c._currentRoot=c.data.getRoot(),c._factory=c._getFactory(),c._initHandlers(),c._keyManager=new l.KeyManager(function(v,m){return m===c._uid}),c._initEvents(),Array.isArray(c.config.data)&&c.data.parse(c.config.data),c}return C(i,n),i.prototype.paint=function(){n.prototype.paint.call(this),this._isContextMenu&&!this._vpopups&&this._init(),this._vpopups&&this._vpopups.redraw()},i.prototype.disable=function(e){var a=this;e!==void 0?this._setProp(e,"disabled",!0):this.data.forEach(function(c){var v=c.id;return a._setProp(v,"disabled",!0)})},i.prototype.enable=function(e){var a=this;e!==void 0?this._setProp(e,"disabled",!1):this.data.forEach(function(c){var v=c.id;return a._setProp(v,"disabled",!1)})},i.prototype.isDisabled=function(e){var a=this.data.getItem(e);if(a)return a.disabled||!1},i.prototype.show=function(e){var a=this;e!==void 0?this._setProp(e,"hidden",!1):this.data.forEach(function(c){var v=c.id;return a._setProp(v,"hidden",!1)})},i.prototype.hide=function(e){var a=this;e!==void 0?this._setProp(e,"hidden",!0):this.data.forEach(function(c){var v=c.id;return a._setProp(v,"hidden",!0)})},i.prototype.destructor=function(){this.events.clear(),this._keyManager&&this._keyManager.destructor(),this._vpopups&&this._vpopups.node&&this._vpopups.unmount(),this.unmount()},i.prototype.select=function(e,a){var c=this;if(a===void 0&&(a=!0),!(0,y.isId)(e))throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com");a&&this.unselect(),this.data.update(e,{active:!0}),this.data.eachParent(e,function(v){c.data.update(v.id,{active:!0})})},i.prototype.unselect=function(e){var a=this;(0,y.isId)(e)?(this.data.update(e,{active:!1}),this.data.eachChild(e,function(c){a.data.update(c.id,{active:!1})})):this.data.forEach(function(c){a.data.update(c.id,{active:!1})})},i.prototype.isSelected=function(e){if((0,y.isId)(e)&&this.data.getItem(e))return!!this.data.getItem(e).active},i.prototype.getSelected=function(){var e=[];return this.data.forEach(function(a){a.active&&e.push(a.id)}),e},i.prototype._customHandlers=function(){return{}},i.prototype._close=function(e){var a=this;this._popupActive&&this.events.fire(s.NavigationBarEvents.beforeHide,[this._activeMenu,e])&&(this._activeParents&&this._activeParents.forEach(function(c){return a.data.exists(c)&&a.data.update(c,{$activeParent:!1})}),this.config.navigationType==="click"&&(this._isActive=!1),clearTimeout(this._currentTimeout),this._popupActive=!1,this._activeMenu=null,this._vpopups.node&&this._vpopups.unmount(),this._vpopups=null,this.events.fire(s.NavigationBarEvents.afterHide,[e]),this.paint())},i.prototype._init=function(){var e,a=this;if(!this._isContextMenu||this._activePosition){var c=this.getRootNode()||document.documentElement,v=(e=c==null?void 0:c.closest("[data-dhx-theme]"))===null||e===void 0?void 0:e.getAttribute("data-dhx-theme");this._vpopups=(0,g.create)({render:function(){var m;return(0,g.el)("div",{"data-dhx-widget-id":a._uid,"data-dhx-theme":v||"light",class:"dhx_".concat((m=a.config)===null||m===void 0?void 0:m.$name,"--popup-menu ").concat(a._isContextMenu?" dhx_context-menu":""," ").concat(a.config.css?a.config.css.split(" ").map(function(k){return a._isContextMenu?k:k+"--popup-menu"}).join(" "):""),onmousemove:a._handlers.onmousemove,onmouseleave:a._handlers.onmouseleave,onclick:a._handlers.onclick,onmousedown:a._handlers.onmousedown,onkeydown:a._handlers.onkeydown},a._drawPopups())}}),this._vpopups.mount(document.body)}},i.prototype._initHandlers=function(){var e=this;this._isActive=this.config.navigationType!=="click",this._handlers=b({onkeydown:function(a){var c=(0,f.locate)(a)||void 0;(0,f.locateNode)(a,"data-dhx-widget-id").contains(document.activeElement)&&e.events.fire(s.NavigationBarEvents.keydown,[a,c])},onmousemove:function(a){if(e._isActive){var c=(0,f.locateNode)(a);if(c){var v=c.getAttribute("data-dhx-id");if(e._activeMenu!==v){if(e.data.haveItems(v)){e._vpopups||e._init(),e._setRoot(v);var m=(0,f.getRealPosition)(c);e.data.update(v,{$position:m},!1)}e._activeItemChange(v,a)}}}},onmouseleave:function(a){if(e.config.navigationType!=="click")if(e._popupActive){var c=(0,f.locateNode)(a,"data-dhx-id","relatedTarget");if(c){var v=c.getAttribute("data-dhx-id");if(e.data.getItem(v)||(e._close(a),e._activeItemChange(null,a)),e.data.haveItems(v)){e._vpopups||e._init();var m=(0,f.getRealPosition)(c);e.data.update(v,{$position:m},!1),e._activeItemChange(v,a)}}else e._close(a),e._activeItemChange(null,a)}else e._activeItemChange(null,a)},onclick:function(a){var c=(0,f.locateNode)(a);if(c){var v=c.getAttribute("data-dhx-id");if(!e.isDisabled(v)){var m=e.data.getItem(v);if(!(m!=null&&m.multiClick))if(e.data.haveItems(v)){if(e._vpopups||e._init(),v===e._currentRoot)return;e._isActive||(e._isActive=!0),e._setRoot(v);var k=(0,f.getRealPosition)(c);e.data.update(v,{$position:k},!1),e._activeItemChange(v,a),e.events.fire(s.NavigationBarEvents.click,[v,a])}else switch(m==null?void 0:m.type){case"input":case"title":break;case"menuItem":case"selectButton":e._onMenuItemClick(v,a);break;case"imageButton":case"button":case"customButton":case"customHTML":case"navItem":m.twoState&&e.data.update(m.id,{active:!m.active}),e.events.fire(s.NavigationBarEvents.click,[v,a]),e._close(a);break;default:e._close(a)}}}},onmousedown:function(a){var c=(0,f.locateNode)(a);if(c){var v=c.getAttribute("data-dhx-id"),m=e.data.getItem(v);if(m!=null&&m.multiClick){var k,I=365,P=function(){e.events.fire(s.NavigationBarEvents.click,[v,a]),I>50&&(I-=55),k=setTimeout(P,I)},T=function(){clearTimeout(k),document.removeEventListener("mouseup",T)};P(),document.addEventListener("mouseup",T)}}}},this._customHandlers())},i.prototype._initEvents=function(){var e=this,a=null;[s.DataEvents.change,s.DataEvents.filter].forEach(function(c){e.events.on(c,function(){return e.paint(),a&&clearTimeout(a),void(a=setTimeout(function(){var v={};e.data.eachChild(e.data.getRoot(),function(m){m.group&&(m.twoState=!0,function(k,I){k[I.group]?(I.active&&(k[I.group].active=I.id),k[I.group].elements.push(I.id)):k[I.group]={active:I.active?I.id:null,elements:[I.id]}}(v,m))},!0),e._groups=v,e._resetHotkeys(),a=null,e.paint()},100))})}),this.events.on(s.NavigationBarEvents.click,function(c){var v=e.data.getItem(c),m=e.data.getItem(v==null?void 0:v.parent);if(m&&m.type==="selectButton"&&e.data.update(v.parent,{value:v.value,icon:v.icon}),v==null?void 0:v.group){var k=e._groups[v.group];k.active&&e.data.update(k.active,{active:!1}),k.active=v.id,e.data.update(v.id,{active:!0})}}),this.events.on(s.NavigationBarEvents.inputChange,function(c,v){e.data.update(c,{value:v})}),this._customInitEvents()},i.prototype._getMode=function(e,a,c){return e.parent===a?"bottom":"right"},i.prototype._drawMenuItems=function(e,a){var c=this;return a===void 0&&(a=!0),this.data.map(function(v){return c._factory(v,a)},e,!1)},i.prototype._setRoot=function(e){},i.prototype._getParents=function(e,a){var c=[],v=!1,m=this.data.getItem(e),k=m&&m.disabled;return this.data.eachParent(e,function(I){I.id===a?(c.push(I.id),v=!0):v||c.push(I.id)},!k),this._isContextMenu&&this._activePosition&&c.push(a),c},i.prototype._listenOuterClick=function(){this._documentHaveListener||(document.addEventListener("click",this._documentClick,!0),this._documentHaveListener=!0)},i.prototype._customInitEvents=function(){},i.prototype._drawPopups=function(){var e=this,a=this._activeMenu;if(!this._isContextMenu&&!a)return null;var c=this.getRootNode(),v=c&&c.offsetParent&&c.offsetParent.offsetParent,m=(0,_.getZIndex)(v),k=this._currentRoot,I=this._getParents(a,k);return this._activeParents=I,I.forEach(function(P){return e.data.exists(P)&&e.data.update(P,{$activeParent:!0},!1)}),I.map(function(P){if(!e.data.haveItems(P))return null;var T=e.data.getItem(P)||e._rootItem;return e._popupActive=!0,(0,g.el)("ul",b({class:"dhx_widget dhx_menu"+(e.config.menuCss?" "+e.config.menuCss:""),_key:P,_hooks:{didInsert:function(H){var $=H.el.getBoundingClientRect(),L=$.width,j=$.height,M=e._isContextMenu&&e._activePosition&&P===k?e._activePosition:T.$position,F=e._getMode(T,k,M===e._activePosition),S=(0,f.calculatePosition)(M,{mode:F,auto:!0,width:L,height:j});T.$style=b(b({},S),{zIndex:e._activePosition&&e._activePosition.zIndex||m}),H.patch({style:T.$style})},didRecycle:function(H,$){if(e._isContextMenu&&e._activePosition&&P===k){var L=$.el.getBoundingClientRect(),j=L.width,M=L.height,F=(0,f.calculatePosition)(e._activePosition,{mode:e._getMode(T,k,!0),width:j,height:M});T.$style=b(b({},F),{zIndex:e._activePosition.zIndex||m}),$.patch({style:T.$style})}}},tabindex:0,style:T.$style||{position:"absolute"}},function(H){return{role:"menu","aria-labeledby":H.id,"aria-live":"polite"}}(T)),e._drawMenuItems(P))}).reverse()},i.prototype._onMenuItemClick=function(e,a){var c=this.data.getItem(e);c.disabled||(c.twoState&&this.data.update(c.id,{active:!c.active}),this.events.fire(s.NavigationBarEvents.click,[e,a]),this._close(a))},i.prototype._activeItemChange=function(e,a){var c=this;if(this._activeParents){var v=this._getParents(e,this._currentRoot);this._activeParents.forEach(function(m){c.data.exists(m)&&!v.includes(m)&&c.data.update(m,{$activeParent:!1},!1)})}(0,y.isId)(e)&&!this._documentHaveListener&&this._listenOuterClick(),(0,y.isId)(e)&&this.data.haveItems(e)?(this._activeMenu===e&&this._popupActive||this.events.fire(s.NavigationBarEvents.openMenu,[e]),clearTimeout(this._currentTimeout),this.paint()):(clearTimeout(this._currentTimeout),this._currentTimeout=setTimeout(function(){return c.paint()},400)),this._activeMenu=e},i.prototype._resetHotkeys=function(){var e=this;this._keyManager.removeHotKey(null,this),this.data.map(function(a){a.hotkey&&e._keyManager.addHotKey(a.hotkey,function(){return e._onMenuItemClick(a.id,null)})})},i.prototype._setProp=function(e,a,c){var v,m=this;Array.isArray(e)?e.forEach(function(k){var I;return m.data.update(k,((I={})[a]=c,I))}):this.data.update(e,((v={})[a]=c,v))},i}(u.View);p.Navbar=t},function(O,p,x){(function(w){var C=this&&this.__assign||function(){return C=Object.assign||function(f){for(var l,u=1,r=arguments.length;u<r;u++)for(var s in l=arguments[u])Object.prototype.hasOwnProperty.call(l,s)&&(f[s]=l[s]);return f},C.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Loader=void 0;var b=x(1),y=x(23),g=x(22),d=x(1),_=function(){function f(l,u){this._parent=l,this._changes=u}return f.prototype.load=function(l,u){var r=this;if(!l.config||this._parent.events.fire(g.DataEvents.beforeLazyLoad,[]))return this._parent.loadData=l.load().then(function(s){return s?r.parse(s,u):[]}).catch(function(s){r._parent.events.fire(g.DataEvents.loadError,[s])})},f.prototype.parse=function(l,u){var r=this;if(u===void 0&&(u=g.DataDriver.json),u!=="json"||(0,y.hasJsonOrArrayStructure)(l)||this._parent.events.fire(g.DataEvents.loadError,["Uncaught SyntaxError: Unexpected end of input"]),!((l=(u=(0,y.toDataDriver)(u)).toJsonArray(l))instanceof Array)){var s=l.total_count-1,t=l.from;if(l=l.data,this._parent.getLength()!==0)return l.forEach(function(a,c){var v=t+c,m=r._parent.getId(v);if((0,b.isId)(m)){var k=r._parent.getItem(m);if(k&&k.$empty){var I=a.id||k.id;(0,d.isDefined)(a.id)&&r._parent.changeId(m,I,!0),r._parent.update(I,C(C({},a),{$empty:void 0}),!0)}}else(0,y.dhxWarning)("item not found")}),this._parent.events.fire(g.DataEvents.afterLazyLoad,[t,l.length]),this._parent.events.fire(g.DataEvents.change),l;for(var n=[],i=0,e=0;i<=s;i++)i>=t&&i<=t+l.length-1?(n.push(l[e]),e++):n.push({$empty:!0});l=n}return this._parent.getInitialData()&&this._parent.removeAll(),this._parent.$parse(l),l},f.prototype.save=function(l){for(var u=this,r=this._getUniqueOrder(),s=function(e){if(e.saving||e.pending)(0,y.dhxWarning)("item is saving");else{var a=t._findPrevState(e.id);if(a&&a.saving){var c=new w(function(v,m){a.promise.then(function(){e.pending=!1,v(u._setPromise(e,l))}).catch(function(k){u._removeFromOrder(a),u._setPromise(e,l),(0,y.dhxWarning)(k),m(k)})});t._addToChain(c),e.pending=!0}else t._setPromise(e,l)}},t=this,n=0,i=r;n<i.length;n++)s(i[n]);r.length&&this._parent.saveData.then(function(){u._saving=!1})},f.prototype.updateChanges=function(l){this._changes=l},f.prototype._setPromise=function(l,u){var r,s=this;switch(l.status){case"remove":r="delete";break;case"add":r="insert";break;default:r=l.status}return l.promise=u.save(l.obj,r),l.promise.then(function(){s._removeFromOrder(l)}).catch(function(t){l.saving=!1,l.error=!0,(0,y.dhxError)(t)}),l.saving=!0,this._saving=!0,this._addToChain(l.promise),l.promise},f.prototype._addToChain=function(l){this._parent.saveData&&this._saving?this._parent.saveData=this._parent.saveData.then(function(){return l}):this._parent.saveData=l},f.prototype._findPrevState=function(l){for(var u=0,r=this._changes.order;u<r.length;u++){var s=r[u];if(s.id===l)return s}return null},f.prototype._removeFromOrder=function(l){this._changes.order=this._changes.order.filter(function(u){return!(0,y.isEqualObj)(u,l)})},f.prototype._getUniqueOrder=function(){return this._changes.order.reduce(function(l,u){var r=l.findIndex(function(t){return t.id===u.id}),s=r>-1?l[r]:null;return s&&s.saving===!1&&s.status==="add"?u.status==="remove"?l.splice(r,1):s.obj=u.obj:s&&s.saving===!1&&s.status==="update"?l.splice(r,1,u):l.push(u),l},[])},f}();p.Loader=_}).call(this,x(17))},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.XMLDriver=void 0;var w=x(133);function C(y,g){g=g||{};var d=y.attributes;if(d&&d.length)for(var _=0;_<d.length;_++)g[d[_].name]=d[_].value;var f=y.childNodes;for(_=0;_<f.length;_++)if(f[_].nodeType===1){var l=f[_].tagName;g[l]?(typeof g[l].push!="function"&&(g[l]=[g[l]]),g[l].push(C(f[_],{}))):g[l]=C(f[_],{})}return g}var b=function(){function y(){}return y.prototype.toJsonArray=function(g){return this.getRows(g)},y.prototype.toJsonObject=function(g){var d;return typeof g=="string"&&(d=this._fromString(g)),C(d)},y.prototype.serialize=function(g){return(0,w.jsonToXML)(g)},y.prototype.getFields=function(g){return g},y.prototype.getRows=function(g){if(typeof g=="string"&&(g=this._fromString(g)),g){var d=g.childNodes&&g.childNodes[0]&&g.childNodes[0].childNodes;return d&&d.length?this._getRows(d):null}return[]},y.prototype._getRows=function(g){for(var d=[],_=0;_<g.length;_++)g[_].tagName==="item"&&d.push(this._nodeToJS(g[_]));return d},y.prototype._fromString=function(g){try{return new DOMParser().parseFromString(g,"text/xml")}catch{return null}},y.prototype._nodeToJS=function(g){var d={};if(this._haveAttrs(g))for(var _=g.attributes,f=0;f<_.length;f++){var l=_[f],u=l.name,r=l.value;d[u]=this._toType(r)}if(g.nodeType===3)return d.value=d.value||this._toType(g.textContent),d;var s=g.childNodes;if(s)for(f=0;f<s.length;f++){var t=s[f],n=t.tagName;n&&(n==="items"&&t.childNodes?d[n]=this._getRows(t.childNodes):this._haveAttrs(t)?d[n]=this._nodeToJS(t):d[n]=this._toType(t.textContent))}return d},y.prototype._toType=function(g){return g==="false"||g==="true"?g==="true":g},y.prototype._haveAttrs=function(g){return g.attributes&&g.attributes.length},y}();p.XMLDriver=b},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.jsonToXML=void 0;var w=4;function C(y){return" ".repeat(y)}function b(y,g){g===void 0&&(g=w);var d=C(g)+`<item>
`;for(var _ in y)Array.isArray(y[_])?(d+=C(g+w)+"<".concat(_,`>
`),d+=y[_].map(function(f){return b(f,g+2*w)}).join(`
`)+`
`,d+=C(g+w)+"</".concat(_,`>
`)):d+=C(g+w)+"<".concat(_,">").concat(y[_],"</").concat(_,`>
`);return d+=C(g)+"</item>"}p.jsonToXML=function(y,g){g===void 0&&(g="root");for(var d=`<?xml version="1.0" encoding="iso-8859-1"?>
<`.concat(g,">"),_=0;_<y.length;_++)d+=`
`+b(y[_]);return d+`
</`.concat(g,">")}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.Sort=void 0;var w=x(23),C=function(){function b(){}return b.prototype.sort=function(y,g,d){this._createSorter(g),d===g&&(g=null),(d||g)&&this._sort(y,d,g)},b.prototype._createSorter=function(y){var g=this;y&&!y.rule&&(y.rule=function(d,_){var f,l,u=(f=g._checkVal(y.as,d[y.by]))!==null&&f!==void 0?f:"",r=(l=g._checkVal(y.as,_[y.by]))!==null&&l!==void 0?l:"";return(0,w.naturalCompare)(u.toString(),r.toString())})},b.prototype._checkVal=function(y,g){return y?y.call(this,g):g},b.prototype._sort=function(y,g,d){var _=this,f={asc:1,desc:-1};return y.sort(function(l,u){var r=0;return g&&(r=g.rule.call(_,l,u)*(f[g.dir]||f.asc)),r===0&&d&&(r=d.rule.call(_,l,u)*(f[d.dir]||f.asc)),r})},b}();p.Sort=C},function(O,p,x){var w,C=this&&this.__extends||(w=function(r,s){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},w(r,s)},function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function t(){this.constructor=r}w(r,s),r.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}),b=this&&this.__spreadArray||function(r,s,t){if(t||arguments.length===2)for(var n,i=0,e=s.length;i<e;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return r.concat(n||Array.prototype.slice.call(s))};Object.defineProperty(p,"__esModule",{value:!0}),p.TreeCollection=void 0;var y=x(1),g=x(68),d=x(32),_=x(23),f=x(22);function l(r,s,t,n){n!==void 0&&n!==-1&&r[t]&&r[t][n]?r[t].splice(n,0,s):(r[t]||(r[t]=[]),r[t].push(s))}var u=function(r){function s(t,n){var i,e=r.call(this,t,n)||this;e._childs={};var a=e._root=t&&t.rootId||"_ROOT_"+(0,y.uid)();return e._childs=((i={})[a]=[],i),e._initChilds=null,e}return C(s,r),s.prototype.add=function(t,n,i){var e,a=this;if(n===void 0&&(n=-1),i===void 0&&(i=this._root),this.events.fire(f.DataEvents.beforeAdd,[t]))return typeof t!="object"&&(t={value:t}),e=Array.isArray(t)?t.map(function(c,v){return a._add(c,n,i,v)}):this._add(t,n,i),this._reapplyFilters(!1),e},s.prototype.getRoot=function(){return this._root},s.prototype.getParent=function(t,n){if(n===void 0&&(n=!1),!this._pull[t])return null;var i=this._pull[t].parent;return n?this._pull[i]:i},s.prototype.getItems=function(t){return this._childs&&this._childs[t]?this._childs[t]:[]},s.prototype.getLength=function(t){return t===void 0&&(t=this._root),this._childs[t]?this._childs[t].length:null},s.prototype.removeAll=function(t){var n;if((0,y.isId)(t)){if(this._childs[t])for(var i=0,e=b([],this._childs[t],!0);i<e.length;i++){var a=e[i];this.remove(a.id)}}else{r.prototype.removeAll.call(this);var c=this._root;this._initChilds=null,this._childs=((n={})[c]=[],n)}},s.prototype.getIndex=function(t){var n=this.getParent(t);return n&&this._childs[n]?this._childs[n].findIndex(function(i){return(i==null?void 0:i.id)==t}):-1},s.prototype.sort=function(t){var n=this;if(t){for(var i in this._childs)this._sort.sort(this._childs[i],t);if(this._initChilds&&Object.keys(this._initChilds).length)for(var i in this._initChilds)this._sort.sort(this._initChilds[i],t)}else this._childs={},this._parse_data(Object.keys(this._pull).map(function(e){return n._pull[e]})),this._reapplyFilters(!1);this.events.fire(f.DataEvents.change,[void 0,"sort",t])},s.prototype.filter=function(t,n,i){if(n!=null&&n.$restore&&(t=this._normalizeFilters(t||this._filters)),!(t&&(n!=null&&n.add)||(this.restoreOrder(),n==null?void 0:n.$restore)))for(var e in this._filters){var a=this._filters[e],c=a.rule,v=a.config;v!=null&&v.permanent?this._applyFilter(c,v):delete this._filters[e]}var m;if(t&&!(n!=null&&n.$restore))m=(n==null?void 0:n.id)||(0,y.uid)(),n||(n={}),n.type=n.type||f.TreeFilterType.all,this._filters[m]={rule:t,config:n},this._applyFilter(t,n);else for(var e in t)this._applyFilter(t[e],this._filters[e].config);if(!i){var k=this._getPureFilters(this._filters);this.events.fire(f.DataEvents.filter,[(0,y.isEmptyObj)(k)?null:k])}return m},s.prototype.restoreOrder=function(){this._initChilds&&(this._childs=this._initChilds,this._initChilds=null)},s.prototype.copy=function(t,n,i,e){var a=this;return i===void 0&&(i=this),e===void 0&&(e=this._root),t instanceof Array?t.map(function(c,v){return a._copy(c,n,i,e,v)}):this._copy(t,n,i,e)},s.prototype.move=function(t,n,i,e){var a=this;return i===void 0&&(i=this),e===void 0&&(e=this._root),t instanceof Array?t.map(function(c,v){return a._move(c,n,i,e,v)}):this._move(t,n,i,e)},s.prototype.forEach=function(t,n,i){if(n===void 0&&(n=this._root),i===void 0&&(i=1/0),this.haveItems(n)&&!(i<1))for(var e=this._childs[n],a=0;a<e.length;a++)t.call(this,e[a],a,e),this.haveItems(e[a].id)&&this.forEach(t,e[a].id,--i)},s.prototype.eachChild=function(t,n,i,e){if(i===void 0&&(i=!0),e===void 0&&(e=function(){return!0}),this.haveItems(t))for(var a=0;a<this._childs[t].length;a++)n.call(this,this._childs[t][a],a),i&&e(this._childs[t][a])&&this.eachChild(this._childs[t][a].id,n,i,e)},s.prototype.getNearId=function(t){return t},s.prototype.loadItems=function(t,n){var i=this;if(n===void 0&&(n=f.DataDriver.json),this.events.fire(f.DataEvents.beforeItemLoad,[t])){var e=this.config.autoload.toString(),a=e+(e.includes("?")?"&id=".concat(t):"?id=".concat(t));new d.DataProxy(a).load().then(function(c){c=(n=(0,_.toDataDriver)(n)).toJsonArray(c),i._parse_data(c,t),i.events.fire(f.DataEvents.change),i.events.fire(f.DataEvents.afterItemLoad,[t])}).catch(function(c){i.events.fire(f.DataEvents.loadError,[c])})}},s.prototype.refreshItems=function(t,n){n===void 0&&(n=f.DataDriver.json),this.removeAll(t),this.loadItems(t,n)},s.prototype.eachParent=function(t,n,i){i===void 0&&(i=!1);var e=this.getItem(t);if(e&&(i&&n.call(this,e),e.parent!==this._root)){var a=this.getItem(e.parent);n.call(this,a),this.eachParent(e.parent,n)}},s.prototype.haveItems=function(t){return t in this._childs},s.prototype.canCopy=function(t,n){if(t===n)return!1;var i=!0;return this.eachParent(n,function(e){return e.id===t?i=!1:null}),i},s.prototype.serialize=function(t,n){t===void 0&&(t=f.DataDriver.json);var i=this._serialize(this._root,n),e=(0,_.toDataDriver)(t);if(e)return e.serialize(i)},s.prototype.getId=function(t,n){if(n===void 0&&(n=this._root),this._childs[n]&&this._childs[n][t])return this._childs[n][t].id},s.prototype.map=function(t,n,i){n===void 0&&(n=this._root),i===void 0&&(i=!0);var e=[];if(!this.haveItems(n))return e;for(var a=0;a<this._childs[n].length;a++)if(e.push(t.call(this,this._childs[n][a],a,this._childs)),i){var c=this.map(t,this._childs[n][a].id,i);e=e.concat(c)}return e},s.prototype.getRawData=function(t,n,i,e,a){var c;return a=a??this._root,this._childs[a]?(c=a===this._root?r.prototype.getRawData.call(this,t,n,this._childs[a]):this._childs[a],e===2?this.flatten(c):c):[]},s.prototype.flatten=function(t){var n=this,i=[];return t.forEach(function(e){i.push(e);var a=n._childs[e.id];a&&e.$opened&&(i=i.concat(n.flatten(a)))}),i},s.prototype._add=function(t,n,i,e){n===void 0&&(n=-1),i===void 0&&(i=this._root),this._setParent(t,i),e>0&&n!==-1&&(n+=1);var a=r.prototype._add.call(this,t,n);if(Array.isArray(t.items))for(var c=0,v=t.items;c<v.length;c++){var m=v[c];this.add(m,-1,t.id)}return a},s.prototype._setParent=function(t,n){t.parent=t.parent?t.parent.toString():n;var i=this._pull[t.parent];i&&!i.items&&(i.items=[])},s.prototype._copy=function(t,n,i,e,a){if(i===void 0&&(i=this),e===void 0&&(e=this._root),!this.exists(t))return null;var c=this._childs[t];if(a&&(n=n===-1?-1:n+a),i===this&&!this.canCopy(t,e))return null;var v=(0,_.copyWithoutInner)(this.getItem(t),{items:!0});if(i.exists(t)&&(v.id=(0,y.uid)()),(0,_.isTreeCollection)(i)){if(this.exists(t)&&(v.parent=e,i!==this&&e===this._root&&(v.parent=i.getRoot()),i.add(v,n),t=v.id),c)for(var m=0,k=c;m<k.length;m++){var I=k[m].id,P=this.getIndex(I);typeof t=="string"&&this.copy(I,P,i,t)}return t}i.add(v,n)},s.prototype._move=function(t,n,i,e,a){if(i===void 0&&(i=this),e===void 0&&(e=this._root),!this.exists(t))return null;if(a&&(n=n===-1?-1:n+a),i!==this){if(!(0,_.isTreeCollection)(i))return i.add((0,_.copyWithoutInner)(this.getItem(t)),n),void this.remove(t);var c=this.copy(t,n,i,e);return this.remove(t),c}if(!this.canCopy(t,e))return null;var v=this.getParent(t),m=this.getIndex(t),k=this._childs[v].splice(m,1)[0];return k.parent=e,this._childs[v].length||delete this._childs[v],this.haveItems(e)||(this._childs[e]=[]),n===-1?n=this._childs[e].push(k):this._childs[e].splice(n,0,k),this.events.fire(f.DataEvents.change,[t,"update",this.getItem(t)]),t},s.prototype._reset=function(t){var n;if((0,y.isId)(t))for(var i=0,e=b([],this._childs[t],!0);i<e.length;i++){var a=e[i];this.remove(a.id)}else{r.prototype._reset.call(this);var c=this._root;this._initChilds=null,this._childs=((n={})[c]=[],n)}},s.prototype._removeCore=function(t){if(this._pull[t]){var n=this.getParent(t);this._childs[n]=this._childs[n].filter(function(i){return i.id!==t}),n===this._root||this._childs[n].length||delete this._childs[n],this._initChilds&&this._initChilds[n]&&(this._initChilds[n]=this._initChilds[n].filter(function(i){return i.id!==t}),n===this._root||this._initChilds[n].length||delete this._initChilds[n]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(i){return i.id!==t})),this._fastDeleteChilds(this._childs,t),this._initChilds&&this._fastDeleteChilds(this._initChilds,t)}},s.prototype._addToOrder=function(t,n,i){var e=this._childs,a=this._initChilds,c=n.parent;this._pull[n.id]=n,n.parent&&this._pull[n.parent]&&this._pull[n.parent].items&&!this._pull[n.parent].items.find(function(v){return v.id===n.id})&&this._pull[n.parent].items.push(n),r.prototype._addToOrder.call(this,t,n,i),l(e,n,c,i),a&&l(a,n,c,i)},s.prototype._parse_data=function(t,n){var i;n===void 0&&(n=this._root);for(var e=this._order.length,a=0,c=t;a<c.length;a++){var v=c[a];this.config.init&&(v=this.config.init(v)),v&&typeof v!="object"&&(v={value:v}),v.id=(i=v.id)!==null&&i!==void 0?i:(0,y.uid)(),v.parent=v.parent===void 0||v.parent===null||v.parent&&v.$items?n:v.parent,this._pull[v.id]&&(0,_.dhxError)("Item ".concat(v.id," already exist")),this._pull[v.id]=v,this._order[e++]=v,this._childs[v.parent]||(this._childs[v.parent]=[]),this._childs[v.parent].push(v),v.items&&v.items instanceof Object&&this._parse_data(v.items,v.id)}},s.prototype._fastDeleteChilds=function(t,n){if(this._pull[n]&&delete this._pull[n],t[n]){for(var i=0;i<t[n].length;i++)this._fastDeleteChilds(t,t[n][i].id);delete t[n]}},s.prototype._recursiveFilter=function(t,n,i,e,a){var c=this,v=this._childs[i];if(v){var m=function($){switch(n.type){case f.TreeFilterType.all:return!0;case f.TreeFilterType.level:return e===n.level;case f.TreeFilterType.leafs:return!c.haveItems($.id)}};if(typeof t=="function"){var k=function($){return m($)&&t($)};(I=v.filter(k)).length?a[i]=I:i===this._root&&(a[i]=[])}else{var I;k=function($){var L,j=!0;for(var M in t)if(t[M].by&&t[M].match!==""&&(j=t[M].compare?t[M].compare($[t[M].by],t[M].match,$):((L=$[t[M].by])===null||L===void 0?void 0:L.toString().toLocaleLowerCase().indexOf(t[M].match.toString().toLowerCase()))!==-1),!j)break;return m($)&&j},(I=v.filter(k)).length?a[i]=I:i===this._root&&(a[i]=[])}for(var P=0,T=v;P<T.length;P++){var H=T[P];this._recursiveFilter(t,n,H.id,e+1,a)}}},s.prototype._serialize=function(t,n){var i=this;return t===void 0&&(t=this._root),this.map(function(e){var a={};for(var c in e)c==="parent"||c==="items"||c.startsWith("$")||(a[c]=e[c]);return n&&(a=n(a)),i.haveItems(e.id)&&(a.items=i._serialize(e.id,n)),a},t,!1)},s.prototype._applyFilter=function(t,n){var i=this;if(t&&(typeof t=="function"||!(0,y.isEmptyObj)(t))){var e;this._initOrder||(this._initOrder=this._order),this._initChilds||(this._initChilds=this._childs);var a={};if(typeof t!="function")if(e={},(0,y.isDefined)(t.by))e[t.by]=t;else for(var c in t)e[c]=t[c];else e=t;this._recursiveFilter(e,n,this._root,0,a),Object.keys(a).forEach(function(v){for(var m=i.getParent(v),k=i.getItem(v);m;)a[m]||(a[m]=[]),k&&!a[m].find(function(I){return I.id===k.id})&&a[m].push(k),k=i.getItem(m),m=i.getParent(m)}),this._childs=a}},s.prototype._normalizeFilters=function(t){var n={};for(var i in t)n[i]=t[i].rule;return n},s}(g.DataCollection);p.TreeCollection=u},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(s){for(var t,n=1,i=arguments.length;n<i;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e]);return s},w.apply(this,arguments)},C=this&&this.__spreadArray||function(s,t,n){if(n||arguments.length===2)for(var i,e=0,a=t.length;e<a;e++)!i&&e in t||(i||(i=Array.prototype.slice.call(t,0,e)),i[e]=t[e]);return s.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0}),p.dragManager=void 0;var b=x(2),y=x(137),g=x(170),d=x(22),_=x(23),f=x(1);function l(s){var t=s.targetTouches?s.targetTouches[0].clientX:s.clientX,n=s.targetTouches?s.targetTouches[0].clientY:s.clientY,i=document.elementFromPoint(t,n);return i!=null&&i.shadowRoot?i.shadowRoot.elementFromPoint(t,n):i}var u=function(){function s(){var t=this;this._transferData={},this._canMove=!0,this._isDrag=!1,this._onMouseMove=function(n){if(t._transferData.start){var i=n.targetTouches?n.targetTouches[0].pageX:n.pageX,e=n.targetTouches?n.targetTouches[0].pageY:n.pageY,a=t._transferData,c=a.x,v=a.y,m=a.start,k=a.componentId;if(!t._transferData.ghost){if(Math.abs(c-i)<3&&Math.abs(v-e)<3)return;var I=t._onDragStart(m,k,n);if(!I)return void t._endDrop(n);t._transferData.ghost=I,document.body.appendChild(t._transferData.ghost)}t._moveGhost(i,e),t._onDrag(n)}},this._onMouseUp=function(n){t._transferData.x&&(t._transferData.ghost?(t._removeGhost(),t._onDrop(n)):t._endDrop(n),n.targetTouches?(document.removeEventListener("touchmove",t._onMouseMove),document.removeEventListener("touchend",t._onMouseUp)):(document.removeEventListener("mousemove",t._onMouseMove),document.removeEventListener("mouseup",t._onMouseUp)))}}return s.prototype.setItem=function(t,n){g.collectionStore.setItem(t,n)},s.prototype.onMouseDown=function(t,n,i){if(t.which===1||t.targetTouches){t.targetTouches?(document.addEventListener("touchmove",this._onMouseMove,!1),document.addEventListener("touchend",this._onMouseUp,!1)):(document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp));var e=l(t),a=(0,b.locateNode)(e,"data-dhx-id"),c=a&&a.getAttribute("data-dhx-id"),v=(0,b.locate)(e,"data-dhx-widget-id");if(Array.isArray(n)&&n.includes(c)?(this._transferData.source=C([],n,!0),this._itemsForGhost=i):(this._transferData.source=[c],this._itemsForGhost=null),c&&v){var m=(0,b.getBox)(a),k=m.left,I=m.top,P=t.targetTouches?t.targetTouches[0].pageX:t.pageX,T=t.targetTouches?t.targetTouches[0].pageY:t.pageY;this._transferData.initXOffset=P-k,this._transferData.initYOffset=T-I,this._transferData.x=P,this._transferData.y=T,this._transferData.componentId=v,this._transferData.start=c,this._transferData.item=a}}},s.prototype.isDrag=function(){return this._isDrag},s.prototype.cancelCanDrop=function(t){this._canMove=!1,this._isDrag=!1;var n=this._transferData,i=n.start,e=n.source,a=n.target,c=n.dropComponentId,v={start:i,source:e,target:a},m=g.collectionStore.getItem(c);m&&a&&m.events.fire(d.DragEvents.cancelDrop,[v,t]),this._transferData.dropComponentId=null,this._transferData.target=null},s.prototype._moveGhost=function(t,n){this._transferData.ghost&&(this._transferData.ghost.style.left=t-this._transferData.initXOffset+"px",this._transferData.ghost.style.top=n-this._transferData.initYOffset+"px")},s.prototype._removeGhost=function(){document.body.removeChild(this._transferData.ghost)},s.prototype._onDrop=function(t){if(this._canMove){var n=this._transferData,i=n.start,e=n.source,a=n.target,c=n.dropComponentId,v={start:i,source:e,target:a,dropPosition:n.dropPosition},m=g.collectionStore.getItem(c),k=m&&m.config;if(m&&k.dragMode!=="source"){if(m.events.fire(d.DragEvents.beforeDrop,[v,t])){var I={id:a,component:m},P={id:i,component:this._transferData.component,newId:null};this._move(P,I),P.newId&&P.component!==I.component&&(v.start=P.newId),I.component.events.fire(d.DragEvents.afterDrop,[v,t])}this._endDrop(t)}else this._endDrop(t)}else this._endDrop(t)},s.prototype._onDragStart=function(t,n,i){var e=g.collectionStore.getItem(n),a=e.config,c=this._transferData,v={start:c.start,source:c.source,target:c.target};if(a.dragMode==="target"||e._pregroupData)return null;var m=function(k,I,P){P===void 0&&(P=!1);var T=k.getBoundingClientRect(),H=document.createElement("div"),$=k.cloneNode(!0),L=window.getComputedStyle(k.parentElement).fontSize;return $.style.width=T.width+"px",$.style.height=T.height+"px",$.style.maxHeight=T.height+"px",$.style.opacity="0.8",$.style.fontSize=L,P&&I&&I.length||H.appendChild($),I&&I.length&&I.forEach(function(j,M){var F=j.cloneNode(!0);F.style.width=T.width+"px",F.style.height=T.height+"px",F.style.maxHeight=T.height+"px",F.style.top=12*(M+1)-T.height-T.height*M+"px",F.style.left=12*(M+1)+"px",F.style.opacity="0.6",F.style.zIndex="".concat(-M-1),P||(F.style.fontSize=L,F.style.overflow="hidden"),H.appendChild(F)}),H.className="dhx_drag-ghost",H}(this._transferData.item,this._itemsForGhost,a.dragItem==="row"||a.dragItem==="column"||a.dragItem==="both");return e.events.fire(d.DragEvents.beforeDrag,[v,i,m])&&(0,f.isId)(t)?(e.events.fire(d.DragEvents.dragStart,[v,i]),this._isDrag=!0,this._toggleTextSelection(!0),this._transferData.component=e,this._transferData.dragConfig=a,m):null},s.prototype._onDrag=function(t){var n=l(t),i=(0,b.locate)(n,"data-dhx-widget-id"),e=g.collectionStore.getItem(i);if(e){var a=!!(0,b.locateNodeByClassName)(n,"dhx_grid-header")||!!(0,b.locateNodeByClassName)(n,"dhx_grid-footer"),c=e.config.columns?e.config:void 0,v=c&&(c.dragItem==="both"||c.dragItem==="column");if(!a||v){var m=(0,b.locate)(n,"data-dhx-id"),k=(0,b.locate)(n,"data-dhx-root-id");if(!m&&!k)return this.cancelCanDrop(t),this._transferData.dropComponentId=i,this._transferData.target=null,void this._canDrop(t);var I=this._transferData,P=I.dropComponentId,T=I.start,H=I.source,$=I.target,L=I.componentId,j=I.dropPosition;if(e.config.dropBehaviour==="complex"){var M=function(S){var R=S.targetTouches?S.targetTouches[0].clientY:S.clientY,B=(0,b.locateNode)(l(S));if(!B)return null;var Y=B.childNodes[0];if(Y){var q=Y.getBoundingClientRect();return(R-q.top)/q.height}}(t);this._transferData.dropPosition=M<=.25?"top":M>=.75?"bottom":"in"}else if(($===m||!m&&$===k)&&P===i)return;var F={id:T,component:this._transferData.component};e.config.dragMode!=="source"&&(F.component.events.fire(d.DragEvents.dragOut,[{start:T,source:H,target:$},t]),i!==L||!(0,_.isTreeCollection)(F.component.data)||(0,_.isTreeCollection)(F.component.data)&&F.component.data.canCopy(F.id,m)?(this.cancelCanDrop(t),this._transferData.target=m||k,this._transferData.dropComponentId=i,F.component.events.fire(d.DragEvents.dragIn,[{start:T,source:H,target:$,dropPosition:j},t])&&this._canDrop(t)):this.cancelCanDrop(t))}else this._canMove&&this.cancelCanDrop(t)}else this._canMove&&this.cancelCanDrop(t)},s.prototype._move=function(t,n){var i=t.component,e=n.component,a=t.component.data,c=n.component.data,v=0,m=n.id,k=(0,_.isTreeCollection)(c)?n.component.config.dropBehaviour:void 0,I=t.component.config.columns?t.component.config:void 0,P=I&&(I.dragItem==="both"||I.dragItem==="column")&&I.columns.map(function(q){return q.id}).filter(function(q){return q===t.id||q===n.id}).length;if(P&&t.component===n.component){if(t.id===n.id)return;var T=(H=i.config.columns.map(function(q){return w({},q)})).findIndex(function(q){return q.id===t.id});return(j=H.findIndex(function(q){return q.id===n.id}))===-1?void 0:(H.splice(j,0,H.splice(T,1)[0]),i.setColumns(H),void i.paint())}if(P&&t.component instanceof y.ProGrid&&n.component instanceof y.ProGrid){T=(H=i.config.columns.map(function(q){return w({},q)})).findIndex(function(q){return q.id===t.id});var H,$=e.config.columns.map(function(q){return w({},q)}),L=e.data.getLength(),j=$.findIndex(function(q){return q.id===n.id}),M=[],F=t.id;i.data.forEach(function(q){var U;M.push(((U={id:q.id})[F]=q[t.id],U))}),L?i.data.forEach(function(q,U){var V=e.data.getItem(q.id);V?e.data.update(V.id,w(w({},V),M[U])):e.data.add(M[U])}):e.data.parse(M);var S=H.splice(T,1)[0];return $.find(function(q){return q.id===F})||$.splice(j,0,S),e.setColumns($),e.paint(),i.setColumns(H),void i.paint()}var R=n.id===e.config.rootParent;switch(k){case"child":break;case"sibling":m=c.getParent(m),v=c.getIndex(n.id)+1;break;case"complex":var B=this._transferData.dropPosition;R?(m=n.id,v=c.getLength()):B==="top"?(m=c.getParent(m),v=c.getIndex(n.id)):B==="bottom"&&(m=c.getParent(m),v=c.getIndex(n.id)+1);break;default:(0,f.isId)(n.id)?t.component===n.component&&c.getIndex(t.id)<c.getIndex(n.id)?v=c.getIndex(n.id)-1:(c.getIndex(t.id)>-1&&(t.newId=(0,f.uid)()),v=c.getIndex(n.id)):v=-1}if(this._transferData.dragConfig.dragCopy)this._transferData.source instanceof Array&&this._transferData.source.length>1?this._transferData.source.map(function(q){a.copy(q,v,c,m),v>-1&&v++}):a.copy(t.id,v,c,m);else if(this._transferData.source instanceof Array&&this._transferData.source.length>1)a.move(this._transferData.source,v,c,m);else if(e instanceof y.Grid&&!e.config.columns.length){var Y=i.data.getItem(t.id);e.data.parse([w({},Y)]),e.setColumns(C([],i.config.columns,!0)),e.paint(),i.data.remove(t.id),i.paint()}else a.move(t.id,v,c,m,t.newId)},s.prototype._endDrop=function(t){if(this._toggleTextSelection(!1),this._transferData.component){var n=this._transferData,i={start:n.start,source:n.source,target:n.target};this._transferData.component.events.fire(d.DragEvents.afterDrag,[i,t])}this.cancelCanDrop(t),this._canMove=!0,this._transferData={},this._transferData.target=null,this._transferData.dropComponentId=null},s.prototype._canDrop=function(t){this._canMove=!0;var n=this._transferData,i={start:n.start,source:n.source,target:n.target,dropPosition:n.dropPosition},e=g.collectionStore.getItem(this._transferData.dropComponentId);e&&this._transferData.target&&(e instanceof y.Grid&&(i.dragItem=this._transferData.item.classList.contains("dhx_grid-row")?"row":"column"),e.events.fire(d.DragEvents.canDrop,[i,t]))},s.prototype._toggleTextSelection=function(t){t?document.body.classList.add("dhx_no-select"):document.body.classList.remove("dhx_no-select")},s}(),r=window.dhxHelpers=window.dhxHelpers||{};r.dragManager=r.dragManager||new u,p.dragManager=r.dragManager},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(y,g,d,_){_===void 0&&(_=d);var f=Object.getOwnPropertyDescriptor(g,d);f&&!("get"in f?!g.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return g[d]}}),Object.defineProperty(y,_,f)}:function(y,g,d,_){_===void 0&&(_=d),y[_]=g[d]}),C=this&&this.__exportStar||function(y,g){for(var d in y)d==="default"||Object.prototype.hasOwnProperty.call(g,d)||w(g,y,d)};Object.defineProperty(p,"__esModule",{value:!0}),p.getTreeCell=void 0,C(x(72),p),C(x(169),p),C(x(7),p),C(x(26),p);var b=x(33);Object.defineProperty(p,"getTreeCell",{enumerable:!0,get:function(){return b.getTreeCell}}),C(x(18),p),C(x(15),p)},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(u){for(var r,s=1,t=arguments.length;s<t;s++)for(var n in r=arguments[s])Object.prototype.hasOwnProperty.call(r,n)&&(u[n]=r[n]);return u},w.apply(this,arguments)},C=this&&this.__spreadArray||function(u,r,s){if(s||arguments.length===2)for(var t,n=0,i=r.length;n<i;n++)!t&&n in r||(t||(t=Array.prototype.slice.call(r,0,n)),t[n]=r[n]);return u.concat(t||Array.prototype.slice.call(r))};Object.defineProperty(p,"__esModule",{value:!0}),p.Exporter=void 0;var b=x(15),y=x(8),g=x(1),d=x(24),_=x(2),f=x(0),l=function(){function u(r,s,t){this._name=r,this._version=s,this._view=t}return u.prototype.pdf=function(r){this._rawExport(r,"pdf",this._view)},u.prototype.png=function(r){this._rawExport(r,"png",this._view)},u.prototype.xlsx=function(r){return this._export(r)},u.prototype.csv=function(r){var s;r===void 0&&(r={}),r=w({asFile:!0,rowDelimiter:`
`,columnDelimiter:",",skipHeader:0},r),s="getRoot"in this._view.data&&r.flat?this.getFlatCSV(r):this._getCSV(r);var t=r.name||"grid_export";return r.asFile&&(0,g.downloadFile)(s,"".concat(t,".csv"),"text/csv"),s},u.prototype._export=function(r){var s=this;r===void 0&&(r={});for(var t=this._view.config.columns.filter(function(S){return!S.hidden}),n={},i=(0,b.transpose)(t.map(function(S){return S.header.map(function(R){return R.text||" "})})),e=[],a={default:{color:"#000000",background:"#FFFFFF",fontSize:14,bold:!1}},c=[],v={},m={},k=this._view.data.serialize().map(function(S,R){var B=s._view.data.getItem(S.id);B.$css&&(m[B.id]=B.$css),n[S.id]=R;var Y=t.map(function(q,U){if(v[q.id]=U,S[q.id]instanceof Date){var V=q.format||"%M %d %Y";typeof S[q.id]=="string"?S[q.id]=(0,d.getFormattedDate)(V,(0,d.stringToDate)(S[q.id],V)):typeof S[q.id]=="object"&&(S[q.id]=(0,d.getFormattedDate)(V,S[q.id]))}return S[q.id]||U||!S.$groupName?(0,b.removeHTMLTags)(S[q.id]):"^ ".concat(S.$groupName)});return Y}),I=[],P=this._view.content,T=function(S){if(S.footer){var R=S.id,B=H._view.data.serialize().reduce(function(ne,ie){return ie[R]===void 0||ie[R]===""||isNaN(ie[R])||ne.push(parseFloat(ie[R])),ne},[]),Y=B;if(H._view.config.type==="tree"){var q=H._view.data;Y=q.serialize().reduce(function(ne,ie){if(ie.$level===0)if(ie[R]===void 0||ie[R]===""||isNaN(ie[R])){var oe=0;q.eachChild(ie.id,function(re){q.haveItems(re.id)||(oe+=parseFloat(re[R]))}),ne.push(oe)}else ne.push(parseFloat(ie[R])||0);return ne},[])}if(S.footer[0].content){var U=P[S.footer[0].content].calculate(B,Y);I.push((U==null?void 0:U.toString())||" ")}else I.push(S.footer[0].css||S.footer[0].text||" ")}var V=S.type==="number"||S.type==="percent"?"right":S.align;for(var A in e.push({width:S.$width,align:V}),S.$cellCss){var N="dhx_grid-cell ".concat(S.$cellCss[A].trim()),W=H._getHash(N),Q="dhx_grid-row";m[A]&&(Q+=" ".concat(m[A].trim())),!a[W]&&(X=(0,b.getStyleByClass)(N,Q,a.default))&&(a[W]=X),a[W]&&c.push([n[A],t.indexOf(S),W])}for(var A in m)if(!S.$cellCss[A]){var X,K=H._getHash(m[A]);Q="dhx_grid-row ".concat(m[A].trim()),a[K]||(X=(0,b.getStyleByClass)("dhx_grid-cell",Q,a.default))&&(a[K]=X),a[K]&&c.push([n[A],t.indexOf(S),K])}},H=this,$=0,L=t;$<L.length;$++)T(L[$]);I.length&&k.push(I);var j={name:r.name||"data",columns:e,header:i,data:k,styles:{cells:c,css:a}};if(r.url){var M=document.createElement("form");M.setAttribute("target","_blank"),M.setAttribute("action",r.url),M.setAttribute("method","POST"),M.style.visibility="hidden";var F=document.createElement("textarea");F.setAttribute("name","data"),F.value=JSON.stringify(j),M.appendChild(F),document.body.appendChild(M),M.submit(),setTimeout(function(){M.parentNode.removeChild(M)},100)}return j},u.prototype.getFlatCSV=function(r){var s=this._view.data,t=s.getRoot(),n=this._view.config.columns[0],i=s.getMaxLevel(),e="";s.eachChild(t,function(m){var k=function(I,P){for(var T=[],H=0;H<=i;H++)if(I&&I[n.id]){T[I.$level]=I[n.id];var $=P.getParent(I.id,!0);I=$&&$.id?$:null}else T[H]="";return T}(m,s).join(r.columnDelimiter);e+=k+Object.keys(m).reduce(function(I,P,T){return P==="id"||P==="parent"||P.startsWith("$")||T===0?I:I+r.columnDelimiter+(m[P]===null?"":m[P])},""),e+=r.rowDelimiter});var a=this._export(r),c=function(m,k){for(var I=0;I<m.length;I++)m[I]=k;return m}(new Array(i+1),""),v=a.header.map(function(m){return m.splice.apply(m,C([0,1],c,!1)),m});return new y.CsvDriver(r).serialize(v,!0)+r.rowDelimiter+e},u.prototype._getCSV=function(r){var s=this._export(r),t=s.header,n=new y.CsvDriver(r);return n.serialize(t,!0)+`
`+n.serialize(s.data,!0)},u.prototype._rawExport=function(r,s,t){var n;r===void 0&&(r={});var i=document.createElement("div");i.setAttribute("style","display: none;");var e=t.config,a=e.$headerHeight,c=a===void 0?0:a,v=e.$footerHeight,m=v===void 0?0:v,k=e.$totalHeight,I=k===void 0?0:k,P=e.$footer,T=e.columns,H="",$=t.config.exportStyles;if((typeof r.exportStyles=="boolean"||Array.isArray(r.exportStyles))&&($=r.exportStyles),r.url=r.url||"https://export.dhtmlx.com/"+this._name+"/"+s+"/"+this._version,s==="pdf"){var L=r.pdf;r.pdf=w(w({},L),{printBackground:!1,format:(n=L==null?void 0:L.format)!==null&&n!==void 0?n:"A4"})}var j=t.config.$totalWidth,M=I+c;P&&(M+=m);for(var F=[],S=0;S<T.length;S++){var R=T[S];F.push(w(w({},R),{width:R.$width}))}var B=w(w({},t.config),{width:j,height:M,columns:F,data:t.data.getRawData(0,-1,null,2),keyNavigation:!1,selection:!1,resizable:!1}),Y=new t.constructor(i,(0,g.getCloneObject)(B));(0,f.awaitRedraw)().then(function(){$===!0?H="".concat((0,_.getPageLinksCss)(),"<style>").concat((0,_.getPageInlineCss)(),"</style>"):Array.isArray($)&&$.length&&(H="".concat((0,_.getPageLinksCss)($)));var q=i.children[0];q==null||q.setAttribute("data-dhx-theme",r.theme||"light"),s==="png"&&(q==null||q.setAttribute("style","width: ".concat(j,"px;")));var U=`
					`.concat(H,`
					`).concat(i.innerHTML,`
				`),V=document.createElement("form");V.setAttribute("method","POST"),V.setAttribute("action",r.url),V.innerHTML='<input type="hidden" name="raw"><input type="hidden" name="config">',V.childNodes[0].value=U,V.childNodes[1].value=JSON.stringify(r),document.body.appendChild(V),V.submit(),setTimeout(function(){var A,N;Y.destructor(),(A=i.parentNode)===null||A===void 0||A.removeChild(i),(N=V.parentNode)===null||N===void 0||N.removeChild(V)},100)}).catch(function(){var q;Y.destructor(),(q=i.parentNode)===null||q===void 0||q.removeChild(i)})},u.prototype._getHash=function(r){return r.split("").reduce(function(s,t){var n=(s<<5)-s+t.charCodeAt(0);return Math.abs(n&n)},0).toString()},u}();p.Exporter=l},function(O,p,x){var w=this&&this.__spreadArray||function(t,n,i){if(i||arguments.length===2)for(var e,a=0,c=n.length;a<c;a++)!e&&a in n||(e||(e=Array.prototype.slice.call(n,0,a)),e[a]=n[a]);return t.concat(e||Array.prototype.slice.call(n))};Object.defineProperty(p,"__esModule",{value:!0}),p.Selection=void 0;var C=x(0),b=x(8),y=x(1),g=x(3),d=x(7),_=x(31),f=x(25),l=x(25),u=x(15),r=x(26),s=function(){function t(n,i,e,a){this._grid=n,this.config=i,this._gridId=a,this._selectedCell,this._selectedCells=[],this._type=["cell","row","complex"].includes(this._grid.config.selection)&&this._grid.config.selection||"complex",this._multiselection=!!n.config.multiselection,this.events=e||new g.EventSystem(this),this._init()}return t.prototype.setCell=function(n,i,e,a){var c,v,m,k,I,P,T,H,$,L,j,M,F=this;e===void 0&&(e=!1),a===void 0&&(a=!1);var S=this._grid.config.type==="tree";if(this._gridId&&_.focusManager.getFocusId()!==this._gridId&&_.focusManager.setFocusId(this._gridId),this._type==="row"&&((m=this._selectedCells[0])===null||m===void 0?void 0:m.row.id)===((n==null?void 0:n.id)||n)||this._type!=="row"&&((k=this._selectedCells[0])===null||k===void 0?void 0:k.row.id)===((n==null?void 0:n.id)||n)&&((I=this._selectedCells[0])===null||I===void 0?void 0:I.column.id)===((i==null?void 0:i.id)||i))e&&(this._removeCell((P=this._selectedCells[0])===null||P===void 0?void 0:P.row,(T=this._selectedCells[0])===null||T===void 0?void 0:T.column),(0,C.awaitRedraw)().then(function(){F._grid.paint(),F._setBrowserFocus()}));else if(!(this.config.disabled||this._grid.config.$editable||!this._multiselection&&this._selectedCells.length&&!this._removeCell((H=this._selectedCell)===null||H===void 0?void 0:H.row,($=this._selectedCell)===null||$===void 0?void 0:$.column))){if(this._multiselection){if(e||a||this._removeCells(),this._selectedCells.find(function(W){return F._type==="row"?W.row.id===((n==null?void 0:n.id)||n):W.row.id===((n==null?void 0:n.id)||n)&&W.column.id===((i==null?void 0:i.id)||i)}))return void this.removeCell((n==null?void 0:n.id)||n,(i==null?void 0:i.id)||i);a&&this._selectedCells.length>1&&!S&&w([],this._selectedCells,!0).forEach(function(W,Q){var X=W.row,K=W.column;Q>0&&F.removeCell(X.id,K.id)})}n=this._grid.data.getItem(n&&n.id||n);var R=(j=(L=this._grid.config)===null||L===void 0?void 0:L.columns)===null||j===void 0?void 0:j.filter(function(W){return!W.hidden});if(i||(i=R==null?void 0:R[0]),(i=this._grid.getColumn(i.id||i))&&n){if(this._multiselection&&a&&this._selectedCells.length&&!S){var B=(M=this._selectedCells)===null||M===void 0?void 0:M[0],Y=this._grid.data.getIndex(B.row.id),q=this._grid.data.getIndex(n.id);if(Y>q&&(Y=(c=[q,Y])[0],q=c[1]),this._type==="cell"||this._type==="complex"){var U=R.map(function(W){return W.id}),V=U.indexOf(B.column.id),A=U.indexOf(i.id);if(V!==-1&&A!==-1){V>A&&(V=(v=[A,V])[0],A=v[1]);var N=R.slice(V,A+1);this._grid.data.mapRange(Y,q,function(W){N.forEach(function(Q){F._findIndex({row:W,column:Q})===-1&&F._setCell(W,Q)})})}}else this._grid.data.mapRange(Y,q,function(W){F._findIndex({row:W,column:i})===-1&&F._setCell(W,i)})}else this._setCell(n,i);(0,C.awaitRedraw)().then(function(){F._grid.paint(),F._setBrowserFocus()})}}},t.prototype.removeCell=function(n,i){var e=this;if(n&&i&&(this._type==="cell"||this._type==="complex")){var a=this._selectedCells.find(function(c){var v=c.row,m=c.column;return v.id==n&&m.id==i});a&&this._removeCell(a.row,a.column)}else n?this._selectedCells.filter(function(c){return c.row.id==n}).forEach(function(c){var v=c.row,m=c.column;e._removeCell(v,m)}):this._removeCells();(0,C.awaitRedraw)().then(function(){e._grid.paint()})},t.prototype.getCell=function(){return this._selectedCell},t.prototype.getCells=function(){return this._selectedCells},t.prototype.disable=function(){this.removeCell(),this.config.disabled=!0,this._grid.paint()},t.prototype.enable=function(){this.config.disabled=!1,this._grid.paint()},t.prototype.toHTML=function(){var n=this;if(!this._isUnselected()){if(this._multiselection){var i=[],e={};return this._selectedCells.forEach(function(c,v,m){var k=(0,r.normalizeCell)(c,n._grid);i.push(n._toHTML(k.row,k.column,v===m.length-1||n._type==="cell"||n._type==="complex",e[c.row.id])),e[c.row.id]=!0}),i}var a=(0,r.normalizeCell)(this._selectedCell,this._grid);return this._toHTML(a.row,a.column,!0)}},t.prototype._setCell=function(n,i){n&&i&&(0,y.isDefined)(n.id)&&(0,y.isDefined)(i.id)&&this.events.fire(d.GridSelectionEvents.beforeSelect,[n,i])&&(this._selectedCell={row:n,column:i},this._multiselection?this._selectedCells.push(this._selectedCell):this._selectedCells=[this._selectedCell],this.events.fire(d.GridSelectionEvents.afterSelect,[n,i]))},t.prototype._removeCell=function(n,i,e){var a,c;if(e===void 0&&(e=!1),!(n&&i&&(0,y.isDefined)(n.id)&&(0,y.isDefined)(i.id))||!e&&!this.events.fire(d.GridSelectionEvents.beforeUnSelect,[n,i]))return!1;var v=this._selectedCells.findIndex(function(m){return m.row.id===n.id&&m.column.id===i.id});return this._selectedCells.splice(v,1),this._selectedCell&&i.id===this._selectedCell.column.id&&n.id===this._selectedCell.row.id&&(this._selectedCell=(a=this._selectedCells)===null||a===void 0?void 0:a[((c=this._selectedCells)===null||c===void 0?void 0:c.length)-1]),!e&&this.events.fire(d.GridSelectionEvents.afterUnSelect,[n,i]),!0},t.prototype._removeCells=function(n){var i=this;n===void 0&&(n=!1),w([],this._selectedCells,!0).forEach(function(e){i._removeCell(e==null?void 0:e.row,e==null?void 0:e.column,n)})},t.prototype._init=function(){var n=this;this._grid.events.on(d.GridEvents.cellClick,function(i,e,a){n.setCell(i,e,a.ctrlKey||a.metaKey,a.shiftKey)}),this._grid.data.events.on(b.DataEvents.beforeRemove,function(i){var e,a;if(i&&n._selectedCell&&n._selectedCell.row&&n._selectedCell.row.id===i.id){var c=void 0,v=n._grid.data.getIndex(i.id);if(n._grid.data instanceof b.TreeCollection){var m=n._grid.data.getItems(i.parent);c=((e=m[v+1])===null||e===void 0?void 0:e.id)||((a=m[v-1])===null||a===void 0?void 0:a.id)||i.parent}else c=n._grid.data.getId(v+1)||n._grid.data.getId(v-1);(0,y.isId)(c)&&(n.setCell(c),n._grid.paint())}}),this._grid.data.events.on(b.DataEvents.removeAll,function(){n._removeCells()}),this._grid.data.events.on(b.DataEvents.load,function(){n._removeCells(!0)})},t.prototype._toHTML=function(n,i,e,a){var c,v,m,k,I,P,T,H,$,L,j,M,F;e===void 0&&(e=!1),a===void 0&&(a=!1);var S=this._grid.data.getRawData(0,-1,null,2);if((0,y.findIndex)(S,function(Ae){return Ae.id==n.id})===-1)return null;var R,B,Y,q,U=this._grid.config,V=U.topSplit,A=U.bottomSplit,N=U.$totalWidth,W=U.$totalHeight,Q=U.columns,X=Q==null?void 0:Q.filter(function(Ae){return!Ae.hidden}),K={left:(0,f.getCurrFixedCols)(this._grid.config,d.Split.left),right:(0,f.getCurrFixedCols)(this._grid.config,d.Split.right)},ne=this._grid.data.getLength(),ie={top:V?this._grid.data.getRawData(0,V):[],bottom:A?this._grid.data.getRawData(ne-A,ne):[]},oe={left:(c=K==null?void 0:K.left)===null||c===void 0?void 0:c.map(function(Ae){return Ae.id}),right:(v=K==null?void 0:K.right)===null||v===void 0?void 0:v.map(function(Ae){return Ae.id})},re={top:ie.top.map(function(Ae){return Ae.id}),bottom:ie.bottom.map(function(Ae){return Ae.id})},le=(m=K==null?void 0:K.left)===null||m===void 0?void 0:m.reduce(function(Ae,Ct){return Ae+(Ct.$width||0)},0),ue=(k=K==null?void 0:K.right)===null||k===void 0?void 0:k.reduce(function(Ae,Ct){return Ae+(Ct.$width||0)},0),de=ie.top.reduce(function(Ae,Ct){return Ae+Ct.$height},0),ge=ie.bottom.reduce(function(Ae,Ct){return Ae+Ct.$height},0),ce=this._grid.getCellRect(n.id,i.id),he=this._grid.getScrollState(),ve=ce.y,be=(I=re.top)===null||I===void 0?void 0:I.includes(n.id),xe=(P=oe.left)===null||P===void 0?void 0:P.includes(i.id),ye=K.left.length&&le>ce.x-he.x,z=ie.top.length&&de>ce.y-he.y,ae=ce.width,Ce=ce.height-1,Ee=null,Fe=null,He=ye?le+he.x:ce.x;if(ye&&(ae-=(xe?(0,u.getTotalWidth)(K.left.slice(0,X.indexOf(i))):le)-(ce.x-he.x)),z&&(Ce-=(be?(0,u.getTotalHeight)(ie.top.slice(0,S.indexOf(n))):de)-(ce.y-he.y)-1,ve+=ce.height-Ce),be)if(ve=ce.y+he.y,(Pe=this._grid.getSpan(n.id,i.id))&&Pe.rowspan>1){var ke=S.indexOf(n);Ee=(0,u.getTotalHeight)(ie.top.slice(ke,ke+Pe.rowspan))}else Ce=V===re.top.indexOf(n.id)+1?ce.height-1:ce.height;if(xe&&(He=ce.x+he.x,(Pe=this._grid.getSpan(n.id,i.id))&&Pe.colspan>1?(ke=X==null?void 0:X.indexOf(i),Fe=(0,u.getTotalWidth)(K.left.slice(ke,ke+Pe.colspan))):ae=K.left.length===oe.left.indexOf(i.id)+1?ce.width-1:ce.width),!((T=K.right)===null||T===void 0)&&T.length||A){var Pe=this._grid.getSpan(n.id,i.id),Se=this._getReverseScrollState(he);if(!((H=K.right)===null||H===void 0)&&H.length&&(R=(($=oe.right)===null||$===void 0?void 0:$.includes(i.id))||Pe&&X.indexOf(i)+(Pe.colspan||1)>X.length-K.right.length,(B=N-ue<Se.x+ce.x+ce.width)&&!R&&(ae-=Se.x+ce.x+ce.width-N+ue),R))if(Pe&&!(!((L=oe.right)===null||L===void 0)&&L.includes(Pe.column))){ke=X.length-X.indexOf(i)-(Pe.colspan||1);var Lt=N-ue;He=ce.x+Se.x<Lt+1?ce.x:Lt-Se.x+1,Fe=(0,u.getTotalWidth)(ke?K.right.slice(0,-ke):K.right)-1,ae=ce.width-Se.x}else{var Ze=!((j=oe.right)===null||j===void 0)&&j.indexOf(i.id)?0:1;He=ce.x-Se.x+Ze,ae=ce.width-Ze}if(A&&(Y=re.bottom.includes(n.id)||Pe&&S.indexOf(n)+(Pe.rowspan||1)>S.length-A,(q=W-ge<Se.y+ce.y+ce.height)&&!Y&&(Ce-=Se.y+ce.y+ce.height-W+ge),Y))if(Pe&&!re.bottom.includes(Pe.row)){var Nt=W-ge;Ze=(ke=S.length-S.indexOf(n)-(Pe.rowspan||1))?0:1,ve=ce.y+Se.y<Nt?ce.y:Nt-Se.y,Ee=(0,u.getTotalHeight)(ke?ie.bottom.slice(0,-ke):ie.bottom)-Ze,Ce=ce.height-Se.y-Ze}else ve=ce.y-Se.y,Ce=ce.height-(A===re.bottom.indexOf(n.id)+1?1:0)}var Xt=null;this._type!=="row"&&this._type!=="complex"||a||(Xt=(0,C.el)(".dhx_grid-selected-row",{style:{width:!((M=K.left)===null||M===void 0)&&M.length?N-he.x:N,height:Ce,minHeight:Ee,minWidth:Fe,display:Ce<0&&!Ee?"none":"flex",top:ve,left:!((F=K.left)===null||F===void 0)&&F.length?he.x:0,position:"absolute"}}));var cn=null;return this._type!=="cell"&&this._type!=="complex"||!e||(cn=(0,C.el)(".dhx_grid-selected-cell",{style:{width:ae,height:Ce,top:ve,minHeight:Ee,minWidth:Fe,left:He,position:"absolute",display:ae<0&&!Fe||Ce<0&&!Ee?"none":"flex",borderLeft:ye&&!xe?"none":null,borderRight:B&&!R?"none":null,borderTop:z&&!be?"none":null,borderBottom:q&&!Y?"none":null}})),(0,C.el)(".dhx_grid-selection",{style:{zIndex:20}},[Xt,cn])},t.prototype._isUnselected=function(){return!this._selectedCell||!this._selectedCell.row||!this._selectedCell.column||this._selectedCells.length===0},t.prototype._findIndex=function(n){var i=this;n===void 0&&(n=this._selectedCell);var e=-1;return this._selectedCells.some(function(a,c){if(i._type==="cell"||i._type==="complex"){if((0,y.compare)(a.row,n.row)&&(0,y.compare)(a.column,n.column))return e=c,!0}else if(i._type==="row"&&(0,y.compare)(a.row,n.row))return e=c,!0}),e},t.prototype._setBrowserFocus=function(){var n=this._grid.getRootView().data.getRootNode();if(n){var i=n.querySelector(".dhx_grid_data");if(i&&this._selectedCell&&this._selectedCell.row&&this._selectedCell.column){var e=i.querySelector('[data-dhx-id="'.concat(this._selectedCell.row.id,'"]')),a=this._grid.getSpan(this._selectedCell.row.id,this._selectedCell.column.id);if(e){var c=a?n.querySelector(".dhx_span-spans"):null,v=c?c.querySelector('[data-dhx-col-id="'.concat(a.column,'"][data-dhx-id="').concat(a.row,'"]')):e.querySelector('[data-dhx-col-id="'.concat(this._selectedCell.column.id,'"]'));v&&(v.tabIndex=0,v.focus({preventScroll:!0}))}}}},t.prototype._getReverseScrollState=function(n){var i,e=(0,l.calcScrollBarWidth)(this._grid.config,!!(!((i=this._grid.scrollView)===null||i===void 0)&&i.config.enable)),a=this._grid.config.$totalWidth-this._grid.config.$width+f.BORDERS+e.y,c=this._grid.config.$totalHeight-this._grid.config.$height+this._grid.config.$headerHeight+this._grid.config.$footerHeight+f.BORDERS+e.x;return{x:a>0?a-n.x:0,y:c>0?c-n.y:0}},t}();p.Selection=s},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.getEditor=void 0;var w,C=x(7),b=x(141),y=x(142),g=x(143),d=x(154),_=x(155),f=x(162),l={cell:{row:null,col:null},editor:null,gridId:null};p.getEditor=function(u,r,s){var t=r.type==="boolean"?"checkbox":s.$editable.editorType;if(t===void 0&&(t=s.autoHeight?"textarea":"input"),l.cell.row===u.id&&l.cell.col===r.id&&l.gridId===s.gridId&&s.$editable.editor)return l.editor;switch(t!=="checkbox"&&(l={cell:{row:u.id,col:r.id},editor:l.editor,gridId:s.gridId}),w||(w=function(){l={cell:{row:null,col:null},editor:null,gridId:null}},s.events.on(C.GridEvents.afterEditEnd,w)),t){case"input":default:return l.editor=new b.InputEditor(u,r,s);case"textarea":return l.editor=new f.TextAreaEditor(u,r,s);case"select":return l.editor=new y.SelectEditor(u,r,s);case"datePicker":return l.editor=new g.DateEditor(u,r,s);case"checkbox":return new d.CheckboxEditor(u,r,s);case"multiselect":case"combobox":return l.editor=new _.ComboboxEditor(u,r,s)}}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.InputEditor=void 0;var w=x(0),C=x(7),b=x(1),y=function(){function g(d,_,f){this.prevValue="",this._config=f,this._cell={row:d,col:_},this.type=_.type,this._initHandlers()}return g.prototype.endEdit=function(d){if(this._config.$editable){var _;if(!d&&(_=this._input.value,this.type==="number"))if(_=parseFloat(_),Number.isNaN(_))_="";else{var f=this._cell.col.editorConfig,l=parseFloat(f==null?void 0:f.min),u=parseFloat(f==null?void 0:f.max);(0,b.isDefined)(f==null?void 0:f.min)&&_<l&&(_=l),(0,b.isDefined)(f==null?void 0:f.max)&&_>u&&(_=u)}this._config.events.fire(C.GridEvents.beforeEditEnd,[_,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(C.GridEvents.afterEditEnd,[_,this._cell.row,this._cell.col])):this._input.focus()}},g.prototype.toHTML=function(d){return(0,b.isDefined)(d)&&(this.type="string"),d=d??this._cell.row[this._cell.col.id],this._input&&(d=this._input.value),this._config.$editable.editor=this,(0,w.el)("input.dhx_cell-editor.dhx_cell-editor__input",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor",onblur:this._handlers.onBlur,oninput:this._handlers.onInput,value:d})},g.prototype._initHandlers=function(){var d=this;this._handlers={onBlur:function(){d.endEdit()},onInput:function(){if(d.type==="number"){var _=d._input.value;d.isValidWord(_)?d.prevValue=_:d._input.value=d.prevValue,!d.prevValue.length||d.prevValue==="-"||d.isCorrectRange(parseFloat(d.prevValue))?d._input.classList.remove("dhx_cell-editor__input--not-valid"):d._input.classList.add("dhx_cell-editor__input--not-valid")}},didInsert:function(_){d._input=_.el,d._input.focus()}}},g.prototype.isValidWord=function(d){var _,f=(_=d[d.length-1])===null||_===void 0?void 0:_.toLocaleLowerCase(),l=function(u,r){return u.toLocaleLowerCase().split(r.toLocaleLowerCase()).length-1};return!d.length||d==="-"||!isNaN(Number(d))&&d.trim().length===d.length||d.replace("-","").length>1&&f==="e"&&!l(this.prevValue,"e")||d.replace("-","").length>1&&f==="e"&&l(d,"e")===1},g.prototype.isCorrectRange=function(d){var _=!0,f=this._cell.col.editorConfig,l=parseFloat(f==null?void 0:f.min),u=parseFloat(f==null?void 0:f.max);return(0,b.isDefined)(f==null?void 0:f.min)&&(0,b.isDefined)(f==null?void 0:f.max)?_=d>=l&&d<=u:(0,b.isDefined)(f==null?void 0:f.min)?_=d>l:(0,b.isDefined)(f==null?void 0:f.max)&&(_=d<u),_},g}();p.InputEditor=y},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.SelectEditor=void 0;var w=x(0),C=x(7),b=x(18),y=function(){function g(d,_,f){this._config=f,this._cell={row:d,col:_},this._initHandlers()}return g.prototype.endEdit=function(d){var _;this._config.$editable&&(d||(_=this._input.value),this._config.events.fire(C.GridEvents.beforeEditEnd,[_,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("keydown",this._handlers.onkeydown),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(C.GridEvents.afterEditEnd,[_,this._cell.row,this._cell.col])):this._input.focus())},g.prototype.toHTML=function(){var d=(0,b.getEditorOptions)(this._cell.col,this._cell.row).map(function(l){return typeof l=="string"?{id:"".concat(l),value:l}:l})||[],_=this._cell.row[this._cell.col.id];this._input&&(_=this._input.options[this._input.selectedIndex].value);var f=d.map(function(l){return(0,w.el)("option",{selected:l.id.toString()===(_==null?void 0:_.toString()),value:l.id},l.value)});return this._config.$editable.editor=this,(0,w.el)("select.dhx_cell-editor.dhx_cell-editor__select",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor"},f)},g.prototype._initHandlers=function(){var d=this;this._handlers={onBlur:function(){d.endEdit()},onkeydown:function(_){_.key==="Escape"&&d.endEdit()},didInsert:function(_){var f=_.el;d._input=f,f.focus(),f.addEventListener("blur",d._handlers.onBlur),f.addEventListener("keydown",d._handlers.onkeydown)}}},g}();p.SelectEditor=y},function(O,p,x){var w=this&&this.__rest||function(f,l){var u={};for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&l.indexOf(r)<0&&(u[r]=f[r]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(f);s<r.length;s++)l.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(f,r[s])&&(u[r[s]]=f[r[s]])}return u};Object.defineProperty(p,"__esModule",{value:!0}),p.DateEditor=void 0;var C=x(0),b=x(7),y=x(48),g=x(24),d=x(11),_=function(){function f(l,u,r){var s=this;this._config=r,this._cell={row:l,col:u},this._calendar=new y.Calendar(null,this._cleanConfig(u));var t=this._cell.row[this._cell.col.id],n=this._calendar.config.dateFormat;((0,g.stringToDate)(t,n,!0)||t instanceof Date)&&(this._calendar.setValue(t),this._value=this._calendar.getValue(),this._cell.row[this._cell.col.id]=this._value),this._popup=new d.Popup,this._popup.attach(this._calendar),this._calendar.events.on(y.CalendarEvents.change,function(){s.endEdit(!1,!0)}),this._popup.events.on(d.PopupEvents.afterHide,function(){s.endEdit()}),this._initHandlers()}return f.prototype.endEdit=function(l,u){var r=this;if(this._handlers&&this._config.$editable){var s=this._calendar.config.dateFormat,t=this._cell.row[this._cell.col.id],n=this._input.value;if(!l){if(t instanceof Date||u)return this._value=this._calendar.getValue(),this._input.value=this._value,void this._popup.hide();!(0,g.stringToDate)(n,s,!0)&&n||(!t||n.length!==t.length)&&t&&n||(this._value=n)}this._config.events.fire(b.GridEvents.beforeEditEnd,[this._value,this._cell.row,this._cell.col])?(this._input.removeEventListener("focus",this._handlers.onFocus),this._input.removeEventListener("change",this._handlers.onChange),document.removeEventListener("mousedown",this._handlers.onOuterClick),(0,C.awaitRedraw)().then(function(){r._popup.destructor(),r._calendar.destructor()}),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(b.GridEvents.afterEditEnd,[this._value,this._cell.row,this._cell.col])):this._input.focus()}},f.prototype.toHTML=function(){var l=this._cell.row[this._cell.col.id];return this._config.$editable.editor=this,document.addEventListener("mousedown",this._handlers.onOuterClick),(0,C.el)("input.dhx_cell-editor.dhx_cell-editor__input.dhx_cell-editor__datepicker",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor",value:l})},f.prototype._cleanConfig=function(l){var u=l.editorConfig||{},r=(u.value,u.range,u.dateFormat,w(u,["value","range","dateFormat"]));return r.dateFormat=l.format,r},f.prototype._initHandlers=function(){var l=this;this._handlers={onFocus:function(){(0,C.awaitRedraw)().then(function(){l._popup.show(l._input,{centering:!0,mode:"bottom",theme:l._input})})},onChange:function(){l.endEdit()},onOuterClick:function(u){if(u.target instanceof Node){var r=l._input&&l._input.contains(u.target),s=l._popup&&l._popup.getRootNode()&&l._popup.getRootNode().contains(u.target);r||s||l._popup.hide()}},didInsert:function(u){var r=u.el;l._input=r,l._input.addEventListener("focus",l._handlers.onFocus),l._input.addEventListener("change",l._handlers.onChange),r.focus(),r.setSelectionRange(r.value.length,r.value.length)}}},f}();p.DateEditor=_},function(O,p,x){var w,C=this&&this.__extends||(w=function(i,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},w(i,e)},function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=i}w(i,e),i.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}),b=this&&this.__assign||function(){return b=Object.assign||function(i){for(var e,a=1,c=arguments.length;a<c;a++)for(var v in e=arguments[a])Object.prototype.hasOwnProperty.call(e,v)&&(i[v]=e[v]);return i},b.apply(this,arguments)},y=this&&this.__spreadArray||function(i,e,a){if(a||arguments.length===2)for(var c,v=0,m=e.length;v<m;v++)!c&&v in e||(c||(c=Array.prototype.slice.call(e,0,v)),c[v]=e[v]);return i.concat(c||Array.prototype.slice.call(e))};Object.defineProperty(p,"__esModule",{value:!0}),p.Calendar=void 0;var g=x(1),d=x(0),_=x(3),f=x(5),l=x(73),u=x(153),r=x(24),s=x(79),t=x(2),n=function(i){function e(a,c){c===void 0&&(c={});var v=i.call(this,a,(0,g.extend)({weekStart:"sunday",thisMonthOnly:!1,dateFormat:window&&window.dhx&&window.dhx.dateFormat,width:"250px"},c))||this;switch(v._selected=[],v.events=new _.EventSystem,v.config.disabledDates=v.config.disabledDates||v.config.block,v.config.mode=v.config.mode||v.config.view,v.config.dateFormat||(v.config.timePicker?v.config.timeFormat===12?v.config.dateFormat="%d/%m/%y %h:%i %A":v.config.dateFormat="%d/%m/%y %H:%i":v.config.dateFormat="%d/%m/%y"),v.config.value&&v._setSelected(v.config.value),v.config.date?v._currentDate=r.DateHelper.toDateObject(v.config.date,v.config.dateFormat):v._getSelected()?v._currentDate=r.DateHelper.copy(v._getSelected()):v._currentDate=new Date,v.config.mode){case"month":v._currentViewMode="month";break;case"year":v._currentViewMode="year";break;case"timepicker":v._currentViewMode=v.config.timePicker?"timepicker":"calendar";break;default:v._currentViewMode="calendar"}if(v._initHandlers(),v.config.timePicker){v._timepicker=new l.Timepicker(null,{timeFormat:v.config.timeFormat,controls:!0});var m=v._getSelected()||new Date;v._timepicker.setValue(m),v._time=v._timepicker.getValue(),v._timepicker.events.on(l.TimepickerEvents.afterClose,function(){v._timepicker.setValue(v._time),v.showDate(null,"calendar")}),v._timepicker.events.on(l.TimepickerEvents.afterApply,function(){var k=v._timepicker.getValue(!0),I=k.hour,P=k.minute,T=k.AM,H=v._getSelected(),$=r.DateHelper.withHoursAndMinutes(v._getSelected()||new Date,I,P,T);v.events.fire(s.CalendarEvents.beforeChange,[$,H,!0])&&(v._selected[v._selected.length-1]=$,v.events.fire(s.CalendarEvents.change,[$,H,!0])),v._time=v._timepicker.getValue(),v.showDate(null,"calendar")})}return v.mount(a,(0,d.create)({render:function(){return v._draw()}})),v}return C(e,i),e.prototype.setValue=function(a){if(!a||a instanceof Array&&a.length===0)return!1;var c=a instanceof Array?a[0]:a,v=r.DateHelper.toDateObject(c,this.config.dateFormat),m=r.DateHelper.copy(this._getSelected());return!!this.events.fire(s.CalendarEvents.beforeChange,[v,m,!1])&&(this._selected=[],this._setSelected(a),this._timepicker&&(this._timepicker.setValue(v),this._time=this._timepicker.getValue()),this.showDate(this._getSelected()),this.events.fire(s.CalendarEvents.change,[v,m,!1]),this.paint(),!0)},e.prototype.getValue=function(a){var c=this;return a===void 0&&(a=!1),this._selected[0]?this.config.range?a?this._selected.map(function(v){return r.DateHelper.copy(v)}):this._selected.map(function(v){return(0,r.getFormattedDate)(c.config.dateFormat,v)}):a?r.DateHelper.copy(this._selected[0]):(0,r.getFormattedDate)(this.config.dateFormat,this._selected[0]):""},e.prototype.getCurrentMode=function(){return this._currentViewMode},e.prototype.showDate=function(a,c){a&&(this._currentDate=r.DateHelper.copy(a)),c&&(this._currentViewMode=c),this.paint()},e.prototype.destructor=function(){this._linkedCalendar&&this._unlink(),this._timepicker&&this._timepicker.destructor(),this.events&&this.events.clear(),this.config=this.events=null,this._uid=this._selected=this._currentDate=this._currentViewMode=this._handlers=this._timepicker=this._time=null,this.unmount()},e.prototype.clear=function(){var a=this.getValue(!0);this.events.fire(s.CalendarEvents.beforeChange,["",a,!1])&&(this.config.timePicker&&(this._timepicker.clear(),this._time=this._timepicker.getValue()),this._selected=[],this.showDate(null,this.config.mode),this.events.fire(s.CalendarEvents.change,[this.getValue(!0),a,!1,"clear"]))},e.prototype.link=function(a){var c=this;this._linkedCalendar&&this._unlink(),this._linkedCalendar=a;var v=this.getValue(!0),m=a.getValue(!0),k=v&&r.DateHelper.dayStart(v),I=m&&r.DateHelper.dayStart(m);this.config.$rangeMark&&this._linkedCalendar.config.$rangeMark||(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=function(P){if(k&&I)return P>=k&&P<=I&&function(T){if(r.DateHelper.isSameDay(I,k))return null;var H="dhx_calendar-day--in-range";return r.DateHelper.isSameDay(T,k)&&(H+=" dhx_calendar-day--first-date"),r.DateHelper.isSameDay(T,I)&&(H+=" dhx_calendar-day--last-date"),H}(P)}),this.config.disabledDates&&this._linkedCalendar.config.disabledDates||(this.config.disabledDates=function(P){if(I)return P>I},this._linkedCalendar.config.disabledDates=function(P){if(k)return P<k}),this.config.thisMonthOnly=!0,a.config.thisMonthOnly=!0,this.events.on(s.CalendarEvents.change,function(P){k=P?r.DateHelper.dayStart(P):null,c._linkedCalendar.paint()},"link"),this._linkedCalendar.events.on(s.CalendarEvents.change,function(P){I=P?r.DateHelper.dayStart(P):null,c.paint()},"link"),this._linkedCalendar.paint(),this.paint()},e.prototype._unlink=function(){this._linkedCalendar&&(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=null,this.config.disabledDates=this._linkedCalendar.config.disabledDates=null,this.events.detach(s.CalendarEvents.change,"link"),this._linkedCalendar.events.detach(s.CalendarEvents.change,"link"),this._linkedCalendar.paint(),this._linkedCalendar=null)},e.prototype._setSelected=function(a){var c=this,v=a instanceof Array?a[0]:a,m=r.DateHelper.toDateObject(v,this.config.dateFormat);if(a instanceof Array&&this.config.range){var k=[];a.forEach(function(I,P){P<2&&k.push(r.DateHelper.toDateObject(I,c.config.dateFormat))}),k.length===2&&k[0]<k[1]?k.forEach(function(I){return c._selected.push(I)}):this._selected[0]=k[0]}else this._selected[0]=m},e.prototype._getSelected=function(){return this._selected[this._selected.length-1]},e.prototype._draw=function(){switch(this._currentViewMode){case"calendar":return this.events.fire(s.CalendarEvents.modeChange,["calendar"]),this._drawCalendar();case"month":return this.events.fire(s.CalendarEvents.modeChange,["month"]),this._drawMonthSelector();case"year":return this.events.fire(s.CalendarEvents.modeChange,["year"]),this._drawYearSelector();case"timepicker":return this.events.fire(s.CalendarEvents.modeChange,["timepicker"]),this._drawTimepicker()}},e.prototype._initHandlers=function(){var a=this,c={Up:"ArrowUp",Down:"ArrowDown",Right:"ArrowRight",Left:"ArrowLeft",Esc:"Escape",Spacebar:"Space"},v=function(m){m===void 0&&(m=!1);var k=0;switch(a._currentViewMode){case"calendar":k=m?-7:7;break;case"month":case"year":k=m?-4:4}return k};this._handlers={onkeydown:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(m,k){switch(function(I){var P;if(I.which>=48&&I.which<=57||I.which>=65&&I.which<=90)P=String.fromCharCode(I.which);else{var T=I.which===32?I.code:I.key;P=(0,t.isIE)()&&c[T]||T}return P}(m)){case"Enter":a._selectDate(m,k);break;case"ArrowLeft":a._moveBrowseFocus(m,k,-1);break;case"ArrowRight":a._moveBrowseFocus(m,k,1);break;case"ArrowUp":a._moveBrowseFocus(m,k,v(!0));break;case"ArrowDown":a._moveBrowseFocus(m,k,v())}}},onclick:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(m,k){a._selectDate(m,k)},".dhx_calendar-action__cancel":function(){a.showDate(a._getSelected(),"calendar"),a.events.fire(s.CalendarEvents.cancelClick,[])},".dhx_calendar-action__show-month":function(){return a.showDate(null,"month")},".dhx_calendar-action__show-year":function(){return a.showDate(null,"year")},".dhx_calendar-action__next":function(){var m;switch(a._currentViewMode){case"calendar":m=r.DateHelper.addMonth(a._currentDate,1);break;case"month":m=r.DateHelper.addYear(a._currentDate,1);break;case"year":m=r.DateHelper.addYear(a._currentDate,12)}a.showDate(m)},".dhx_calendar-action__prev":function(){var m;switch(a._currentViewMode){case"calendar":m=r.DateHelper.addMonth(a._currentDate,-1);break;case"month":m=r.DateHelper.addYear(a._currentDate,-1);break;case"year":m=r.DateHelper.addYear(a._currentDate,-12)}a.showDate(m)},".dhx_calendar-action__show-timepicker":function(){a._currentViewMode="timepicker",a.paint()}},onmouseover:{".dhx_calendar-day":function(m,k){a.events.fire(s.CalendarEvents.dateMouseOver,[new Date(k.attrs._date),m]),a.events.fire(s.CalendarEvents.dateHover,[new Date(k.attrs._date),m])}}}},e.prototype._getData=function(a){var c,v=this;switch(this._isSelectedInCurrentRange=!1,this.config.weekStart){case"saturday":c=-1;break;case"monday":c=1;break;default:c=0}for(var m=[],k=6,I=r.DateHelper.weekStart(r.DateHelper.monthStart(a),c);k--;){for(var P=r.DateHelper.getWeekNumber(I),T=0,H=7,$=[],L=function(){var M=r.DateHelper.isWeekEnd(I),F=a.getMonth()===I.getMonth(),S=j.config.disabledDates&&j.config.disabledDates(I),R=[];if(j.config.range&&j._selected[0]&&j._selected[1]){var B=function(){if(v._selected[0]&&v._selected[1]){var q=r.DateHelper.dayStart(v._selected[0]),U=r.DateHelper.dayStart(v._selected[1]);return I>=q&&I<=U&&(r.DateHelper.isSameDay(v._selected[0],v._selected[1])?null:"dhx_calendar-day--in-range")}};j.config.$rangeMark=B}if(M&&R.push("dhx_calendar-day--weekend"),F||(j.config.thisMonthOnly?(T++,R.push("dhx_calendar-day--hidden")):R.push("dhx_calendar-day--muffled")),j.config.mark){var Y=j.config.mark(I);Y&&R.push(Y)}j.config.$rangeMark&&(B=j.config.$rangeMark(I))&&R.push(B),S&&(M?R.push("dhx_calendar-day--weekend-disabled"):R.push("dhx_calendar-day--disabled")),j._selected.forEach(function(q,U){if(q&&r.DateHelper.isSameDay(q,I)){v._isSelectedInCurrentRange=!0;var V="dhx_calendar-day--selected";v.config.range&&(V+=" dhx_calendar-day--selected-".concat(U===0?"first ":"last")),R.push(V)}}),$.push({date:I,day:I.getDate(),css:R.join(" ")}),I=r.DateHelper.addDay(I)},j=this;H--;)L();m.push({weekNumber:P,days:$,disabledWeekNumber:T===7})}return m},e.prototype._drawCalendar=function(){var a,c=this,v=this._currentDate,m=this.config,k=m.weekStart,I=m.thisMonthOnly,P=m.css,T=m.timePicker,H=m.width;switch(k){case"saturday":a=y([r.locale.daysShort[6]],r.locale.daysShort.slice(0,-1),!0);break;case"monday":a=y(y([],r.locale.daysShort.slice(1),!0),[r.locale.daysShort[0]],!1);break;default:a=r.locale.daysShort}for(var $,L=a.map(function(N){return(0,d.el)(".dhx_calendar-weekday",N)}),j=this._getData(v),M=!0,F=this._getSelected(),S=function(N){var W={role:"button",tabindex:-1,"aria-pressed":"false"};return N&&(c._isSelectedInCurrentRange?function(Q){return Q&&F&&Q.getTime()===F.getTime()}(N.date)&&(W.tabindex=0,W["aria-pressed"]="true"):M&&(W.tabindex=0),M=!1),W},R=[],B=[],Y=0,q=j;Y<q.length;Y++){var U=q[Y],V=U.days.map(function(N){return(0,d.el)("div.dhx_calendar-day",b({class:N.css,_date:N.date},S(N)),N.day)});!this.config.weekNumbers||U.disabledWeekNumber&&I||B.push((0,d.el)("div",{class:"dhx_calendar-week-number"},U.weekNumber)),R=R.concat(V)}this.config.weekNumbers&&($=(0,d.el)(".dhx_calendar__week-numbers",B));var A="dhx_calendar dhx_widget"+(P?" "+P:"")+(T?" dhx_calendar--with_timepicker":"")+(this.config.weekNumbers?" dhx_calendar--with_week-numbers":"");return(0,d.el)("div",b({class:A,style:{width:this.config.weekNumbers?parseInt(H.toString())+48+"px":H}},this._handlers),[(0,d.el)(".dhx_calendar__wrapper",[this._drawHeader((0,d.el)("button.dhx_calendar-action__show-month.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},r.locale.months[v.getMonth()]+" "+v.getFullYear())),this.config.weekNumbers&&(0,d.el)(".dhx_calendar__dates-wrapper",[(0,d.el)(".dhx_calendar__weekdays",L),(0,d.el)(".dhx_calendar__days",R),$]),!this.config.weekNumbers&&(0,d.el)(".dhx_calendar__weekdays",L),!this.config.weekNumbers&&(0,d.el)(".dhx_calendar__days",R),T?(0,d.el)(".dhx_timepicker__actions",[(0,d.el)("button.dhx_calendar__timepicker-button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__show-timepicker",{type:"button"},[(0,d.el)("span.dhx_button__icon.dxi.dxi-clock-outline"),(0,d.el)("span.dhx_button__text",this._time)])]):null])])},e.prototype._drawMonthSelector=function(){var a=this._currentDate,c=a.getMonth(),v=this._getSelected()?this._getSelected().getFullYear():null,m=this.config,k=m.css,I=m.timePicker,P=m.weekNumbers,T=m.width,H=m.mode,$="dhx_calendar dhx_widget"+(k?" "+k:"")+(I?" dhx_calendar--with_timepicker":"")+(P?" dhx_calendar--with_week-numbers":""),L=!0,j=v===a.getFullYear(),M=function(F){return j&&c===F};return(0,d.el)("div",b({class:$,style:{width:P?parseInt(T.toString())+48+"px":T}},this._handlers),[(0,d.el)(".dhx_calendar__wrapper",[this._drawHeader((0,d.el)("button.dhx_calendar-action__show-year.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},a.getFullYear())),(0,d.el)(".dhx_calendar__months",r.locale.monthsShort.map(function(F,S){return(0,d.el)("div",b(b({class:"dhx_calendar-month"+(M(S)?" dhx_calendar-month--selected":"")},function(R,B){var Y={role:"button",tabindex:-1,"aria-pressed":"false"};return R&&(j?M(B)&&(Y.tabindex=0,Y["aria-pressed"]="true"):L&&(Y.tabindex=0),L=!1),Y}(F,S)),{_date:S}),F)})),H!=="month"?(0,d.el)(".dhx_calendar__actions",[(0,d.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},r.locale.cancel)]):null])])},e.prototype._drawYearSelector=function(){var a=this,c=this._currentDate,v=r.DateHelper.getTwelweYears(c),m=this.config,k=m.css,I=m.timePicker,P=m.weekNumbers,T=m.width,H=m.mode,$="dhx_calendar dhx_widget"+(k?" "+k:"")+(I?" dhx_calendar--with_timepicker":"")+(P?" dhx_calendar--with_week-numbers":""),L=!0,j=this._getSelected()&&v.includes(this._getSelected().getFullYear()),M=function(F){return a._getSelected()&&F===a._getSelected().getFullYear()};return(0,d.el)("div",b({class:$,style:{width:P?parseInt(T.toString())+48+"px":T}},this._handlers),[(0,d.el)(".dhx_calendar__wrapper",[this._drawHeader((0,d.el)("button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},v[0]+"-"+v[v.length-1])),(0,d.el)(".dhx_calendar__years",v.map(function(F){return(0,d.el)("div",b({class:"dhx_calendar-year"+(M(F)?" dhx_calendar-year--selected":""),_date:F},function(S){var R={role:"button",tabindex:-1,"aria-pressed":"false"};return S&&(j?M(S)&&(R.tabindex=0,R["aria-pressed"]="true"):L&&(R.tabindex=0),L=!1),R}(F)),F)})),H!=="year"&&H!=="month"?(0,d.el)(".dhx_calendar__actions",[(0,d.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},r.locale.cancel)]):null])])},e.prototype._drawHeader=function(a){return(0,d.el)(".dhx_calendar__navigation",[(0,d.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__prev"+u.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"prev",type:"button"},[(0,d.el)(".dhx_button__icon.dxi.dxi-chevron-left")]),a,(0,d.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__next"+u.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"next",type:"button"},[(0,d.el)(".dhx_button__icon.dxi.dxi-chevron-right")])])},e.prototype._drawTimepicker=function(){var a=this.config,c=a.css,v=a.weekNumbers,m=a.width;return(0,d.el)(".dhx_widget.dhx-calendar",{class:c?" "+c:"",style:{width:v?parseInt(m.toString())+48+"px":m}},[(0,d.inject)(this._timepicker.getRootView())])},e.prototype._selectDate=function(a,c){var v=c.attrs._date,m=r.DateHelper.copy(this._getSelected());switch(this._currentViewMode){case"calendar":var k=this.config.timePicker?r.DateHelper.mergeHoursAndMinutes(v,this._getSelected()||this._currentDate):v;if(!this.events.fire(s.CalendarEvents.beforeChange,[k,m,!0]))return;this.config.range&&this._selected.length===1&&this._selected[0]<k?this._selected.push(k):(this._selected=[],this._selected[0]=k),c.el.blur(),this.showDate(this._getSelected()),this.events.fire(s.CalendarEvents.change,[v,m,!0]);break;case"month":if(this.config.mode!=="month")r.DateHelper.setMonth(this._currentDate,v),this.showDate(null,"calendar"),this.events.fire(s.CalendarEvents.monthSelected,[v]);else{var I=r.DateHelper.fromYearAndMonth(this._currentDate.getFullYear()||this._getSelected().getFullYear(),v);if(!this.events.fire(s.CalendarEvents.beforeChange,[I,m,!0]))return;this._currentDate=I,this._selected[0]=I,this.events.fire(s.CalendarEvents.change,[this._getSelected(),m,!0]),this.events.fire(s.CalendarEvents.monthSelected,[v]),this.paint()}break;case"year":if(this.config.mode!=="year")r.DateHelper.setYear(this._currentDate,v),this.showDate(null,"month"),this.events.fire(s.CalendarEvents.yearSelected,[v]);else{if(I=r.DateHelper.fromYear(v),!this.events.fire(s.CalendarEvents.beforeChange,[I,m,!0]))return;this._currentDate=I,this._selected[0]=I,this.events.fire(s.CalendarEvents.change,[this._getSelected(),m,!0]),this.events.fire(s.CalendarEvents.yearSelected,[v]),this.paint()}}},e.prototype._moveBrowseFocus=function(a,c,v){if(c){var m=c.parent.body[c.idx+v];if(m){var k=m.el;k&&(a.target.tabIndex=-1,k.tabIndex=0,k.focus({preventScroll:!0}))}}},e}(f.View);p.Calendar=n},function(O,p,x){var w,C=this&&this.__extends||(w=function(e,a){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,v){c.__proto__=v}||function(c,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])},w(e,a)},function(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=e}w(e,a),e.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}),b=this&&this.__assign||function(){return b=Object.assign||function(e){for(var a,c=1,v=arguments.length;c<v;c++)for(var m in a=arguments[c])Object.prototype.hasOwnProperty.call(a,m)&&(e[m]=a[m]);return e},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Timepicker=void 0;var y=x(1),g=x(0),d=x(3),_=x(5),f=x(16),l=x(75),u=x(151),r=x(152),s=x(78),t=x(2);function n(e,a){return isNaN(e)?0:Math.min(a,Math.max(0,e))}var i=function(e){function a(c,v){v===void 0&&(v={});var m=e.call(this,c,(0,y.extend)({timeFormat:24,controls:!1,valueFormat:"string",actions:!1},v))||this;return m.events=new d.EventSystem(m),m._time={hour:0,minute:0,AM:!0},m.config.timeFormat===12&&(m._time.hour=12),m.config.controls=m.config.controls||m.config.actions,m.config.value&&m._setValue(m.config.value),m._initUI(c),m._initHandlers(),m._initEvents(),m}return C(a,e),a.prototype.getValue=function(c){return this.config.timeFormat===12&&(this._time.hour=this._time.hour%12||12),this._getValue(this._time,c)},a.prototype.setValue=function(c){this._setValue(c),this._hoursSlider.setValue(this._time.hour),this._minutesSlider.setValue(this._time.minute),this._inputsView.paint()},a.prototype.clear=function(){this.config.timeFormat===24?this.setValue("00:00"):this.setValue("12:00AM")},a.prototype.destructor=function(){this._minutesSlider&&this._minutesSlider.destructor(),this._hoursSlider&&this._hoursSlider.destructor(),this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this.events=null,this._handlers=this._time=this._inputsView=this._minutesSlider=this._hoursSlider=null,this.unmount()},a.prototype.getRootView=function(){return this.layout.getRootView()},a.prototype._getValue=function(c,v){var m=c.hour,k=c.minute,I=c.AM;if(v){var P={hour:m,minute:k};return this.config.timeFormat===12&&(P.AM=I),P}return(m<10?"0"+m:m)+":"+(k<10?"0"+k:k)+(this.config.timeFormat===12?I?"AM":"PM":"")},a.prototype._setValue=function(c){var v,m=0,k=0;if(typeof c=="number"&&(c=new Date(c)),c instanceof Date)m=c.getMinutes(),k=c.getHours();else if(Array.isArray(c))k=n(c[0],23),m=n(c[1],59),c[2]&&c[2].toLowerCase()==="pm"&&(v=!0);else if(typeof c=="string"){var I=c.match(/\d+/g);k=n(+I[0],23),m=n(+I[1],59),c.toLowerCase().includes("pm")&&(v=!0)}else typeof c=="object"&&c.hasOwnProperty("hour")&&c.hasOwnProperty("minute")&&(k=c.hour,m=c.minute,v=!c.AM);return v&&k<12&&(k+=12),this.config.timeFormat===12&&!(0,r.isTimeCheck)(c)&&k>=12&&(v=!0),this._time={hour:k,minute:m,AM:!v}},a.prototype._initUI=function(c){var v=this,m={gravity:!1,css:"dhx_widget dhx_timepicker "+(this.config.css?this.config.css:"")+(this.config.controls?" dhx_timepicker--with-controls":""),rows:[{id:"timepicker",css:"dhx_timepicker__inputs"},{id:"hour-slider",css:"dhx_timepicker__hour"},{id:"minute-slider",css:"dhx_timepicker__minute"}]};this.config.controls&&(m.rows.unshift({id:"close-action",css:"dhx_timepicker__close"}),m.rows.push({id:"save-action",css:"dhx_timepicker__save"}));var k=this.layout=new f.Layout(c,m),I=(0,g.create)({render:function(){return v._draw()}}),P=this._inputsView=(0,_.toViewLike)(I),T=this._minutesSlider=new l.Slider(null,{min:0,max:59,step:1,tooltip:!1,labelPosition:"top",label:u.default.minutes,value:this.config.value?this._time.minute:0}),H=this._hoursSlider=new l.Slider(null,{min:0,max:23,step:1,tooltip:!1,labelPosition:"top",label:u.default.hours,value:this.config.value?this._time.hour===12&&this._time.AM?0:this._time.hour:0});k.getCell("timepicker").attach(P),k.getCell("hour-slider").attach(H),k.getCell("minute-slider").attach(T),this.config.controls&&(k.getCell("save-action").attach(function(){return(0,g.el)("button.dhx_timepicker__button-save.dhx_button.dhx_button--view_flat.dhx_button--color_primary.dhx_button--size_small.dhx_button--circle.dhx_button--width_full",{onclick:v._outerHandlers.save,type:"button"},u.default.save)}),k.getCell("close-action").attach(function(){return(0,g.el)("button.dhx_timepicker__button-close.dhx_button.dhx_button--view_link.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary.dhx_button--icon.dhx_button--circle",{_ref:"close",onclick:v._outerHandlers.close,type:"button","aria-label":"close timepicker"},[(0,g.el)("span.dhx_button__icon.dxi.dxi-close")])}))},a.prototype._initHandlers=function(){var c=this,v=function(k){var I=n(parseInt(k.value,10),59);k.value=I.toString(),c._minutesSlider.setValue(I)},m=function(k){var I=n(parseInt(k.value,10),23);k.value=I.toString(),c._hoursSlider.setValue(I)};this._handlers={onchange:{".dhx_timepicker-input--hour":function(k){return m(k.target)},".dhx_timepicker-input--minutes":function(k){return v(k.target)}},oninput:{".dhx_timepicker-input--hour":function(k){((0,t.isSafari)()||(0,t.isFirefox)())&&m(k.target)},".dhx_timepicker-input--minutes":function(k){((0,t.isSafari)()||(0,t.isFirefox)())&&v(k.target)}}},this._outerHandlers={close:function(){c.events.fire(s.TimepickerEvents.beforeClose,[c.getValue(c._isTimeObj())])&&(c.events.fire(s.TimepickerEvents.afterClose,[c.getValue(c._isTimeObj())]),c.events.fire(s.TimepickerEvents.close,[]))},save:function(){c.events.fire(s.TimepickerEvents.beforeApply,[c.getValue(c._isTimeObj())])&&(c.events.fire(s.TimepickerEvents.afterApply,[c.getValue(c._isTimeObj())]),c.events.fire(s.TimepickerEvents.apply,[c.getValue()]),c.events.fire(s.TimepickerEvents.save,[c._time]))}}},a.prototype._initEvents=function(){var c=this;this._hoursSlider.events.on(l.SliderEvents.beforeChange,function(v){if(!(v<c._hoursSlider.config.min||v>c._hoursSlider.config.max)){var m=b({},c._time);c.config.timeFormat===12?(m.AM=v<12,m.hour=v%12||12):m.hour=v;var k=c._isTimeObj();return c.events.fire(s.TimepickerEvents.beforeChange,[c._getValue(m,k)])}}),this._hoursSlider.events.on(l.SliderEvents.change,function(v){if(!(v<c._hoursSlider.config.min||v>c._hoursSlider.config.max)){c.config.timeFormat===12?(c._time.AM=v<12,c._time.hour=v%12||12):c._time.hour=v;var m=c._isTimeObj();c.events.fire(s.TimepickerEvents.change,[c.getValue(m)]),c._inputsView.paint()}}),this._minutesSlider.events.on(l.SliderEvents.beforeChange,function(v){if(!(v<c._minutesSlider.config.min||v>c._minutesSlider.config.max)){var m=b(b({},c._time),{minute:v}),k=c._isTimeObj();return c.events.fire(s.TimepickerEvents.beforeChange,[c._getValue(m,k)])}}),this._minutesSlider.events.on(l.SliderEvents.change,function(v){if(!(v<c._minutesSlider.config.min||v>c._minutesSlider.config.max)){c._time.minute=v;var m=c._isTimeObj();c.events.fire(s.TimepickerEvents.change,[c.getValue(m)]),c._inputsView.paint()}})},a.prototype._draw=function(){return this._minutesSlider.config.label=u.default.minutes,this._hoursSlider.config.label=u.default.hours,(0,g.el)(".dhx_timepicker-inputs",b({},this._handlers),[(0,g.el)("input.dhx_timepicker-input.dhx_timepicker-input--hour",{_key:"hour",_ref:"hour",value:this.getValue(!0).hour.toString().length>1?this.getValue(!0).hour:"0"+this.getValue(!0).hour,"aria-label":"hours"}),(0,g.el)("span.dhx_timepicker-delimer",":"),(0,g.el)("input.dhx_timepicker-input.dhx_timepicker-input--minutes",{_key:"minute",value:this.getValue(!0).minute.toString().length>1?this.getValue(!0).minute:"0"+this.getValue(!0).minute,"aria-label":"minutes"}),this.config.timeFormat===12?(0,g.el)(".dhx_timepicker-ampm",this._time.AM?"AM":"PM"):null])},a.prototype._isTimeObj=function(){var c;return((c=this.config.valueFormat)===null||c===void 0?void 0:c.toLowerCase())==="timeobject"},a}(_.View);p.Timepicker=i},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.getMarginSize=p.getBlockRange=void 0,p.getBlockRange=function(w,C,b){return b===void 0&&(b=!0),b?{min:w.left+window.pageXOffset,max:C.right+window.pageXOffset}:{min:w.top+window.pageYOffset,max:C.bottom+window.pageYOffset}},p.getMarginSize=function(w){return w&&(w.type==="space"||w.type==="wide")?12:0}},function(O,p,x){var w,C=this&&this.__extends||(w=function(d,_){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(f[u]=l[u])},w(d,_)},function(d,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function f(){this.constructor=d}w(d,_),d.prototype=_===null?Object.create(_):(f.prototype=_.prototype,new f)});Object.defineProperty(p,"__esModule",{value:!0}),p.ProLayout=void 0;var b=x(49),y=x(148),g=function(d){function _(f,l){return d.call(this,f,l)||this}return C(_,d),_.prototype._createCell=function(f){var l;return f.rows||f.cols||f.views?(f.parent=this._root,l=new _(this,f)):l=new y.ProCell(this,f),this._root._all[l.id]=l,f.init&&f.init(l,f),l},_}(b.Layout);p.ProLayout=g},function(O,p,x){var w,C=this&&this.__extends||(w=function(f,l){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u[s]=r[s])},w(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=f}w(f,l),f.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),b=this&&this.__assign||function(){return b=Object.assign||function(f){for(var l,u=1,r=arguments.length;u<r;u++)for(var s in l=arguments[u])Object.prototype.hasOwnProperty.call(l,s)&&(f[s]=l[s]);return f},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.ProCell=void 0;var y=x(1),g=x(0),d=x(34),_=function(f){function l(u,r){var s=f.call(this,u,r)||this;return s.scrollView=new d.ScrollView(function(){return s._getFirstRootView()}),s}return C(l,f),l.prototype._getFirstRootView=function(u){return u===void 0&&(u=this),u.getParent()&&u.getParent().getRootView()?u.getParent().getRootView():this._getFirstRootView(u.getParent())},l.prototype.toVDOM=function(u){var r,s;if(this.config===null&&(this.config={}),!this.config.hidden){var t,n=this.config.$fieldset,i=this._calculateStyle(),e=(0,y.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",a=this.config.full||this.config.html?i:b(b({},i),e),c=this._checkProgress()?this._getProgressBar():null;if(!this.config.html)if(this._ui){var v=this._ui.getRootView();v.render&&(v=(0,g.inject)(v)),t=v?[this.scrollView.render(v)]:v||null}else t=u?this.scrollView.render([u]):u||null;var m=this.config.resizable&&!this._isLastCell()&&this._getNextCell()&&!this.config.collapsed?(0,g.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),b(b({},this._resizerHandlers),{_ref:"resizer_"+this._uid}),[(0,g.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]):null,k={};if(this.config.on)for(var I in this.config.on)k["on"+I]=this.config.on[I];var P="",T=this.config.cols||this.config.rows;if(this.config.type&&T)switch(this.config.type){case"line":P=" dhx_layout-line";break;case"wide":P=" dhx_layout-wide";break;case"space":P=" dhx_layout-space"}var H=(0,g.el)(".dhx_layout-cell-content",{_key:"".concat(this._uid,"_html"),style:e},[(0,g.el)(".dhx_layout-cell-inner_html",{".innerHTML":this.config.html})]),$=n?(0,g.el)("fieldset.dhx_form-fieldset",{class:this.config.$disabled?" dhx_form-fieldset--disabled":"",style:e,disabled:this.config.$disabled},[(0,g.el)("legend.dhx_form-fieldset-legend",{class:"dhx_form-fieldset-legend--".concat(this.config.labelAlignment||"left")},this.config.label),(0,g.el)(".dhx_layout-cell-content",{class:this._getCss(!1)},[].concat(t))]):this.config.full?[(0,g.el)("div",{tabindex:this.config.collapsable?"0":"-1",class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,g.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,g.el)(".dhx_layout-cell-header__image-wrapper",[(0,g.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,g.el)("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?(0,g.el)("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):(0,g.el)("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,g.el)("div",{style:b(b({},e),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?P:"")},this.config.html?[(0,g.el)("div",{".innerHTML":this.config.html,class:"dhx_layout-cell dhx_layout-cell-inner_html"})]:t)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?t:[this.config.collapsed?null:this.scrollView&&this.scrollView.config.enable?this.scrollView.render([H],this._uid):H],L=(0,g.el)("div",b(b(((r={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,r["data-cell-id"]=(s=this.config.id)!==null&&s!==void 0?s:null,r),k),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?P:""),style:n?i:a}),$||c?[].concat($,c):null);return m?[].concat(L,m):L}},l}(x(74).Cell);p.ProCell=_},function(O,p,x){var w,C=this&&this.__extends||(w=function(n,i){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])},w(n,i)},function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=n}w(n,i),n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),b=this&&this.__assign||function(){return b=Object.assign||function(n){for(var i,e=1,a=arguments.length;e<a;e++)for(var c in i=arguments[e])Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c]);return n},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Slider=void 0;var y=x(1),g=x(0),d=x(3),_=x(14),f=x(5),l=x(11),u=x(77),r=x(2);function s(n,i,e){return n<i?i:n>e?e:n}var t=function(n){function i(e,a){var c=n.call(this,e,(0,y.extend)({mode:"horizontal",min:0,max:100,step:1,tooltip:!0},a))||this;c._disabled=!1,c.config.helpMessage=c.config.helpMessage||c.config.help,c.config.thumbLabel!==void 0&&(c.config.tooltip=c.config.thumbLabel),c.config.labelInline&&(c.config.labelPosition="left"),c.events=new d.EventSystem(c),c._axis=c.config.mode==="horizontal"?"clientX":"clientY",c._initStartPosition(),c._keyManager=new _.KeyManager(function(){var m,k;return document.activeElement===((k=(m=c.getRootView().refs)===null||m===void 0?void 0:m[c._isExtraActive?"extraRunner":"runner"])===null||k===void 0?void 0:k.el)}),c._initHotkeys();var v=(0,g.create)({render:function(){return c._draw()},hooks:{didMount:function(){return c._calcSliderPosition()},didRedraw:function(){return c._calcSliderPosition()}}});return c._initHandlers(),c.mount(e,v),c}return C(i,n),i.prototype.disable=function(){this._disabled=!0,this.paint()},i.prototype.enable=function(){this._disabled=!1,this.paint()},i.prototype.isDisabled=function(){return this._disabled},i.prototype.focus=function(e){this.getRootView().refs[e?"extraRunner":"runner"].el.focus()},i.prototype.blur=function(){this.getRootView().refs[this._isExtraActive?"extraRunner":"runner"].el.blur()},i.prototype.getValue=function(){var e;if(this.config.range){var a=this._getValue(this._currentPosition),c=this._getValue(this._extraCurrentPosition);e=a<c?[a,c]:[c,a]}else e=[this._getValue(this._currentPosition)];return e},i.prototype.setValue=function(e){var a=this._getValue(this._currentPosition);if(Array.isArray(e)&&e.length>1){var c=this._getValue(this._extraCurrentPosition);this.events.fire(u.SliderEvents.beforeChange,[e[0],a,!1])&&(this._setValue(e[0],!1),this.events.fire(u.SliderEvents.change,[e[0],a,!1])),this.events.fire(u.SliderEvents.beforeChange,[e[1],c,!0])&&(this._setValue(e[1],!0),this.events.fire(u.SliderEvents.change,[e[1],c,!0]))}else{if(e=parseFloat(e),isNaN(e))throw new Error("Wrong value type, for more info check documentation https://docs.dhtmlx.com/suite/slider__api__slider_setvalue_method.html");this.events.fire(u.SliderEvents.beforeChange,[e,a,!1])&&(this._setValue(e),this.events.fire(u.SliderEvents.change,[e,a,!1]))}this.paint()},i.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),this._tooltip=null,this.unmount()},i.prototype._calcSliderPosition=function(){var e=this.getRootView();if(e){var a=e.refs.track.el.getBoundingClientRect();this._offsets={left:a.left+window.pageXOffset,top:a.top+window.pageYOffset},this._length=this.config.mode==="horizontal"?a.width:a.height}},i.prototype._initHotkeys=function(){var e=this,a={arrowLeft:function(v){v.preventDefault(),e._move(-e.config.step,v.target.classList.contains("dhx_slider__thumb--extra"))},arrowRight:function(v){v.preventDefault(),e._move(e.config.step,v.target.classList.contains("dhx_slider__thumb--extra"))},arrowUp:function(v){v.preventDefault(),e._move(e.config.step,v.target.classList.contains("dhx_slider__thumb--extra"))},arrowDown:function(v){v.preventDefault(),e._move(-e.config.step,v.target.classList.contains("dhx_slider__thumb--extra"))}};for(var c in a)this._keyManager.addHotKey(c,a[c])},i.prototype._move=function(e,a){a===void 0&&(a=!1),this.config.inverse&&(e=-e);var c=this.config,v=c.max,m=c.min,k=a?this._getValue(this._extraCurrentPosition):this._getValue(this._currentPosition),I=k+e;(I>v||I<m)&&(I=k),this.events.fire(u.SliderEvents.beforeChange,[I,k,a])&&(this._setValue(k+e,a),this.events.fire(u.SliderEvents.change,[I,k,a]),this.paint())},i.prototype._initStartPosition=function(){var e=this.config,a=e.max,c=e.min,v=e.range,m=function(P,T,H){var $;return($=P===void 0?[]:Array.isArray(P)?P:typeof P=="string"?P.split(",").map(function(L){return parseInt(L,10)}):[P])[0]=$[0]===void 0?T:s($[0],T,H),$[1]=$[1]===void 0?H:s($[1],T,H),$}(this.config.value,this.config.min,this.config.max),k=m[0],I=m[1];this._currentPosition=(k-c)/(a-c)*100,v&&(this._extraCurrentPosition=(a-I)/(a-c)*100),this._currentPosition=(k-c)/(a-c)*100,v&&(this._extraCurrentPosition=(I-c)/(a-c)*100),this._isInverse()&&(this._currentPosition=100-this._currentPosition,v&&(this._extraCurrentPosition=100-this._extraCurrentPosition))},i.prototype._getValue=function(e){this._isInverse()&&(e=100-e);var a=this.config,c=a.min,v=a.max,m=a.step;if(e===100)return v;if(e===0)return c;var k=e*(v-c)/100,I=k%m,P=I>=m/2?m:0;return+(Number(c)+Number(k)-I+P).toFixed(5)},i.prototype._setValue=function(e,a){a===void 0&&(a=!1);var c=this.config,v=c.max,m=c.min;if(e>v||e<m)return!1;var k=(e-m)/(v-m)*100,I=this._isInverse()?100-k:k;a?this._extraCurrentPosition=I:this._currentPosition=I},i.prototype._initHandlers=function(){var e=this,a=function(m){m.cancelable&&m.preventDefault();var k=((m.targetTouches?m.targetTouches[0][e._axis]:m[e._axis])-e._getBegining())/e._length*100;if(e._findNewDirection){if(Math.abs(e._currentPosition-k)<1)return;k>e._currentPosition?e._possibleRange=[e._currentPosition,100]:e._possibleRange=[0,e._currentPosition],e._findNewDirection=null}e._inSide(k)&&e._updatePosition(k,e._isExtraActive),e.paint()},c=function(m){e.events.fire(u.SliderEvents.mouseup,[m]),setTimeout(function(){e._isMouseMoving=!1,e.paint()},4),m.targetTouches?(document.removeEventListener("touchend",c),document.removeEventListener("touchmove",a)):(document.removeEventListener("mouseup",c),document.removeEventListener("mousemove",a))},v=function(m){var k;if(!e._disabled&&m.which!==3)if(e.events.fire(u.SliderEvents.mousedown,[m]),e._isMouseMoving=!0,m.target.classList.contains("dhx_slider__thumb--extra")?(e._isExtraActive=!0,k=e._extraCurrentPosition):(e._isExtraActive=!1,k=e._currentPosition),e._findNewDirection=null,e.config.range){var I=e._currentPosition>e._extraCurrentPosition?[e._currentPosition,e._extraCurrentPosition]:[e._extraCurrentPosition,e._currentPosition],P=I[0],T=I[1];e._currentPosition===e._extraCurrentPosition?(e._findNewDirection=k,e._possibleRange=[0,100]):e._possibleRange=k<P?[0,P]:[T,100]}else e._possibleRange=[0,100]};this.config.helpMessage&&(this._helper=new l.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(m){m.preventDefault(),m.stopPropagation(),e._helper.show(m.target,{theme:m.target})},onmousedown:function(m){v(m),document.addEventListener("mousemove",a),document.addEventListener("mouseup",c)},ontouchstart:function(m){e._setTooltip(m),e._mouseIn=!1,v(m),document.addEventListener("touchmove",a,{passive:!1}),document.addEventListener("touchend",c),e.paint()},ontouchend:function(m){e._setTooltip(m),e._mouseIn=!1,e.paint()},onlabelClick:function(){e.getRootView().refs.runner.el.focus()},onclick:function(m){if(!e._disabled&&!e._isMouseMoving&&m.which!==3){var k=(m[e._axis]-e._getBegining())/e._length*100,I=e.getRootView().refs;e.config.range?Math.abs(e._currentPosition-k)<Math.abs(e._extraCurrentPosition-k)?(e._updatePosition(k,!1),I.runner.el.focus()):(e._updatePosition(k,!0),I.extraRunner.el.focus()):(e._updatePosition(k,!1),I.runner.el.focus()),e.paint()}},onmouseover:function(m){e._setTooltip(m),e._mouseIn=!0,e.paint()},onmouseout:function(m){e._setTooltip(m),e._mouseIn=!1,e.paint()},onfocus:function(m){e._setTooltip(m),e._focusIn=!0,e.events.fire(u.SliderEvents.focus,[]),e.paint()},onblur:function(m){e._setTooltip(m),e._focusIn=!1,e.events.fire(u.SliderEvents.blur,[]),e.paint()},onkeydown:function(m){e.events.fire(u.SliderEvents.keydown,[m])}}},i.prototype._getBegining=function(){return this.config.mode==="horizontal"?this._offsets.left-window.pageXOffset:this._offsets.top-window.pageYOffset},i.prototype._inSide=function(e){var a=this._possibleRange;return e<a[0]?(this._updatePosition(a[0],this._isExtraActive),!1):!(e>a[1])||(this._updatePosition(a[1],this._isExtraActive),!1)},i.prototype._updatePosition=function(e,a){a===void 0&&(a=!1),e>100&&(e=100),e<0&&(e=0);var c=this.config,v=c.max,m=c.min,k=a?this._extraCurrentPosition:this._currentPosition,I=this._getValue(k),P=this._getValue(e);if(I!==P&&this.events.fire(u.SliderEvents.beforeChange,[P,I,a])){var T=(P-m)/(v-m)*100,H=this._isInverse()?100-T:T;a?this._extraCurrentPosition=H:this._currentPosition=H,this.events.fire(u.SliderEvents.change,[P,I,a])}},i.prototype._getRunnerStyle=function(e){var a;e===void 0&&(e=!1);var c=this.config.mode==="horizontal"?"left":"top",v=e?this._extraCurrentPosition:this._currentPosition;return(a={})[c]=v+"%",a},i.prototype._isInverse=function(){return this.config.inverse&&this.config.mode==="horizontal"||!this.config.inverse&&this.config.mode==="vertical"},i.prototype._getRunnerCss=function(e){return e===void 0&&(e=!1),"dhx_slider__thumb"+(e?" dhx_slider__thumb--extra":"")+(this._isMouseMoving&&(e&&this._isExtraActive||!e&&!this._isExtraActive)?" dhx_slider__thumb--active":"")+(this._disabled?" dhx_slider__thumb--disabled":"")+(this._isNullable(e?this._extraCurrentPosition:this._currentPosition)&&!this.config.range?" dhx_slider__thumb--nullable":"")},i.prototype._draw=function(){var e=this.config,a=e.labelPosition,c=e.mode,v=e.hiddenLabel,m=e.tick,k=e.majorTick,I=e.css,P=e.helpMessage,T=(0,r.getLabelStyle)(b(b({},this.config),{required:!1}));return!this._tooltip||this._mouseIn&&this._focusIn&&this._isMouseMoving||document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),(0,g.el)("div",{class:"dhx_slider dhx_slider--mode_"+c+(a==="left"?" dhx_slider--label-inline":"")+(v?" dhx_slider--label_sr":"")+(m?" dhx_slider--ticks":"")+(k?" dhx_slider--major-ticks":"")+(I?" "+I:"")+(this._disabled?" dhx_slider--disabled":""),style:{paddingBottom:this.config.tick?"16px":null}},[T?(0,g.el)("label.dhx_label.dhx_slider__label",{style:T.style,class:P?"dhx_label--with-help":"",onclick:this._handlers.onlabelClick},P?[T.label&&(0,g.el)("span.dhx_label__holder",T.label),(0,g.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper})]:T.label):null,this._drawSlider()])},i.prototype._drawSlider=function(){return(0,g.el)(".dhx_widget.dhx_slider__track-holder",{"data-dhx-widget-id":this._uid},[(0,g.el)(".dhx_slider__track",{_ref:"track",onmouseover:this._handlers.onmouseover,onmouseout:this._handlers.onmouseout,onclick:this._handlers.onclick},[this._getDetector(),(0,g.el)("div",{_ref:"runner",class:this._getRunnerCss(),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(),tabindex:0}),this.config.tooltip&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip():null,this.config.tooltip&&this.config.range&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip(!0):null,this.config.range?(0,g.el)("div",{_ref:"extraRunner",class:this._getRunnerCss(!0),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(!0),tabindex:0}):null]),this.config.tick?this._drawTicks():null])},i.prototype._getDetector=function(){var e,a,c;if(this._disabled)return(0,g.el)(".dhx_slider__range");var v=this.config.mode==="horizontal"?"left":"top",m=this.config.mode==="horizontal"?"width":"height";if(this.config.range){var k=this._currentPosition>this._extraCurrentPosition?[this._currentPosition,this._extraCurrentPosition]:[this._extraCurrentPosition,this._currentPosition],I=k[0],P=k[1];return(0,g.el)(".dhx_slider__range",{style:(e={},e[v]=P+"%",e[m]=I-P+"%",e)})}return this._isInverse()?(0,g.el)(".dhx_slider__range",{style:(a={},a[v]=this._currentPosition+"%",a[m]=100-this._currentPosition+"%",a)}):(0,g.el)(".dhx_slider__range",{style:(c={},c[v]=0,c[m]=this._currentPosition+"%",c)})},i.prototype._drawTooltip=function(e){if(e===void 0&&(e=!1),this._activeTooltip!=="none"&&this.getRootView()){var a=this._activeTooltip==="extraTooltip"?this._extraCurrentPosition:this._currentPosition,c=this.config.mode==="horizontal"?"left":"top",v="";(e&&this._isExtraActive||!e&&!this._isExtraActive)&&(v+=" dhx_slider__thumb-label--active"),this._tooltip||(this._tooltip=document.createElement("div"));var m=this._activeTooltip==="tooltip"?this.getRootView().refs.runner.el.getBoundingClientRect():this.getRootView().refs.extraRunner.el.getBoundingClientRect();this._tooltip.className="dhx_slider__thumb-label"+v,this._tooltip.style.left=m.x+(c==="left"?6:-30)+window.pageXOffset+"px",this._tooltip.style.top=m.y+(c==="left"?-30:6)+window.pageYOffset+"px",this._tooltip.innerText=this._getValue(a).toString(),document.body.appendChild(this._tooltip)}},i.prototype._getTicks=function(){for(var e=this.config,a=e.max,c=e.min,v=e.step,m=e.tick,k=e.majorTick,I=a-c,P=v*m/I,T=[],H=0,$=0;H<1;){var L=+(Number(c)+H*I).toFixed(5),j=$%k==0;T.push({position:(this._isInverse()?100*(1-H):100*H)+"%",isMultiple:j,label:j&&typeof this.config.tickTemplate=="function"?this.config.tickTemplate(L):null}),H+=P,$++}return T.push({position:(this._isInverse()?0:100)+"%",isMultiple:!0,label:typeof this.config.tickTemplate=="function"?this.config.tickTemplate(a):null}),T},i.prototype._drawTicks=function(){var e=this.config.mode==="horizontal"?"left":"top";return(0,g.el)(".dhx_slider__ticks-holder",this._getTicks().map(function(a){var c;return(0,g.el)("div",{class:"dhx_slider__tick"+(a.isMultiple?" dhx_slider__tick--major":""),style:(c={},c[e]=a.position,c)},a.label!==void 0?[(0,g.el)(".dhx_slider__tick-label",a.label)]:null)}))},i.prototype._isNullable=function(e){return this._isInverse()?e===100:e===0},i.prototype._setTooltip=function(e){e.target.classList.contains("dhx_slider__thumb--extra")?this._activeTooltip="extraTooltip":e.target.classList.contains("dhx_slider__thumb")?this._activeTooltip="tooltip":this._activeTooltip="none"},i}(f.View);p.Slider=t},function(O,p,x){var w,C=this&&this.__extends||(w=function(r,s){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},w(r,s)},function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function t(){this.constructor=r}w(r,s),r.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}),b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Popup=void 0;var y=x(1),g=x(0),d=x(3),_=x(2),f=x(5),l=x(76),u=function(r){function s(t){t===void 0&&(t={});var n=r.call(this,null,(0,y.extend)({},t))||this,i=n._popup=document.createElement("div");return i.className="dhx_widget dhx_popup"+(n.config.css?" "+n.config.css:""),i.style.position="absolute",i.setAttribute("role","dialog"),i.setAttribute("aria-modal","true"),i.setAttribute("aria-live","polite"),n.config.theme&&n._setTheme(n.config.theme),n.mount(i,(0,g.create)({render:function(){return n.toVDOM()}})),n._clickEvent=function(e){return n.events.fire(l.PopupEvents.click,[e])},n.events=t.events||new d.EventSystem(n),n._isActive=!1,n}return C(s,r),s.prototype.show=function(t,n,i){var e=this;n===void 0&&(n={}),this.events.fire(l.PopupEvents.beforeShow,[t])&&(t=(0,_.toNode)(t),this._isActive?this._setPopupSize(t,n):(i&&this.attach(i),n.theme&&this._setTheme(n.theme),this._popup.style.left="0",this._popup.style.top="0",(0,g.awaitRedraw)().then(function(){e._setPopupSize(t,n),e._popup.style.position="fixed",document.body.appendChild(e._popup),e._isActive=!0}).then(function(){e._popup.style.position="absolute",e.events.fire(l.PopupEvents.afterShow,[t]),e._outerClickDestructor=e._detectOuterClick(t)})))},s.prototype.hide=function(){this._hide(!1,null)},s.prototype.isVisible=function(){return this._isActive},s.prototype.attach=function(t,n){return this._html=null,typeof t=="object"?this._ui=t:typeof t=="string"?this._ui=new window.dhx[t](null,n):typeof t=="function"&&(t.prototype instanceof f.View?this._ui=new t(null,n):this._ui={getRootView:function(){return t(n)}}),this.paint(),this._ui},s.prototype.attachHTML=function(t){this._html=t,this.paint()},s.prototype.getWidget=function(){return this._ui},s.prototype.getContainer=function(){return this.getRootView().refs.content.el},s.prototype.toVDOM=function(){var t;return this._html?t=(0,g.el)(".dhx_popup__inner-html-content",{".innerHTML":this._html}):(t=this._ui?this._ui.getRootView():null)&&t.render&&(t=(0,g.inject)(t)),(0,g.el)("div",{class:"dhx_popup-content",tabindex:0,onclick:this._clickEvent,_key:this._uid,_ref:"content"},[t])},s.prototype.destructor=function(){this.hide(),this._outerClickDestructor&&this._outerClickDestructor(),this._popup=null},s.prototype._setTheme=function(t){var n;if(typeof t=="string")this._popup.setAttribute("data-dhx-theme",t);else{var i=(n=t==null?void 0:t.closest("[data-dhx-theme]"))===null||n===void 0?void 0:n.getAttribute("data-dhx-theme");i&&this._popup.setAttribute("data-dhx-theme",i)}},s.prototype._setPopupSize=function(t,n,i){var e=this;i===void 0&&(i=3);var a=this._popup.getBoundingClientRect(),c=a.width,v=a.height;if(this._timeout&&(clearTimeout(this._timeout),this._timeout=null),!i||c!==0&&v!==0){var m=(0,_.fitPosition)(t,b(b({centering:!0,mode:"bottom"},n),{width:c,height:v})),k=m.left,I=m.top;if(this._popup.style.left=k,this._popup.style.top=I,n.indent&&n.indent!==0)switch(n.mode){case"top":this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)-parseInt(n.indent.toString(),null)+"px";break;case"bottom":default:this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)+parseInt(n.indent.toString(),null)+"px";break;case"left":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)-parseInt(n.indent.toString(),null)+"px";break;case"right":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)+parseInt(n.indent.toString(),null)+"px"}}else this._timeout=setTimeout(function(){e._isActive&&(e._setPopupSize(t,n,i-1),e._timeout=null)})},s.prototype._detectOuterClick=function(t){var n=this,i=!1,e=new WeakMap,a=function(c){var v=c.target,m=document.querySelectorAll(".dhx_popup");for(i?m.forEach(function(k){return e.has(k)||e.set(k,n._popup)}):(i=!!m.length)&&m.forEach(function(k){return e.set(k,!0)});v;){if(v===t||v===n._popup||e.get(v)===n._popup)return;v=v.parentNode}n._hide(!0,c)&&document.removeEventListener("mousedown",a)};return document.addEventListener("mousedown",a),function(){return document.removeEventListener("mousedown",a)}},s.prototype._hide=function(t,n){if(this._isActive)return!!this.events.fire(l.PopupEvents.beforeHide,[t,n])&&(document.body.removeChild(this._popup),this._isActive=!1,this._outerClickDestructor&&(this._outerClickDestructor(),this._outerClickDestructor=null),this.events.fire(l.PopupEvents.afterHide,[n]),!0)},s}(f.View);p.Popup=u},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.default={hours:"Hours",minutes:"Minutes",save:"Save"}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.isTimeCheck=void 0,p.isTimeCheck=function(w){return/(^12:[0-5][0-9]?AM$)/i.test(w)}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.linkButtonClasses=void 0,p.linkButtonClasses=".dhx_button.dhx_button--view_link.dhx_button--icon.dhx_button--size_medium.dhx_button--color_secondary"},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.CheckboxEditor=void 0;var w=x(1),C=x(0),b=x(7),y=function(){function g(d,_,f){this._config=f,this._cell={row:d,col:_},this._initHandlers()}return g.prototype.endEdit=function(){var d=this._checked;this._config.events.fire(b.GridEvents.beforeEditEnd,[d,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(b.GridEvents.afterEditEnd,[d,this._cell.row,this._cell.col])):this._input.checked=!d},g.prototype.toHTML=function(){this._checked===void 0&&(this._checked=this._cell.row[this._cell.col.id]);var d=(0,w.uid)();return(0,C.el)("div.dhx_checkbox.dhx_cell-editor__checkbox",[(0,C.el)("label",{style:{display:"none"},for:d},this._checked||"false"),(0,C.el)("input.dhx_checkbox__input",{type:"checkbox",_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor","data-dhx-checked":(!!this._checked).toString(),checked:this._checked,id:d,style:{userSelect:"none"}}),(0,C.el)("span.dhx_checkbox__visual-input")])},g.prototype._initHandlers=function(){var d=this;this._handlers={onClick:function(){var _=!d._input.checked;d._config.events.fire(b.GridEvents.beforeEditStart,[d._cell.row,d._cell.col,"checkbox"])?(d._checked=_,d._config.events.fire(b.GridEvents.afterEditStart,[d._cell.row,d._cell.col,"checkbox"]),d.endEdit()):d._input.checked=!_},didInsert:function(_){d._checkbox=_.el.parentNode.lastChild,d._input=_.el.parentNode.querySelector("input"),_.el.parentNode.addEventListener("click",d._handlers.onClick)}}},g}();p.CheckboxEditor=y},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(f){for(var l,u=1,r=arguments.length;u<r;u++)for(var s in l=arguments[u])Object.prototype.hasOwnProperty.call(l,s)&&(f[s]=l[s]);return f},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.ComboboxEditor=void 0;var C=x(0),b=x(7),y=x(51),g=x(31),d=x(18),_=function(){function f(l,u,r){this._config=r,this._cell={row:l,col:u},this._initHandlers()}return f.prototype.endEdit=function(l){var u=this;if(this._config.$editable){var r;if(!l){var s=this._input.getValue();r=this._cell.col.editorType==="multiselect"?s.split(",").join(", "):s}if(this._config.events.fire(b.GridEvents.beforeEditEnd,[r,this._cell.row,this._cell.col])){var t=(0,d.getEditorOptions)(this._cell.col,this._cell.row);this._input.popup.hide(),document.removeEventListener("mousedown",this._handlers.onOuterClick),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),g.focusManager.setFocusId(this._config.gridId),r==null||r.toString().split(", ").forEach(function(n){var i=t.find(function(e){return typeof e=="string"?e===n:e.id.toString()===n});n&&!i&&(u._cell.col.$customOptions||(u._cell.col.$customOptions=[]),u._cell.col.$customOptions.push(u._input.data.getItem(n)))}),this._config.$editable=null,this._config.events.fire(b.GridEvents.afterEditEnd,[r,this._cell.row,this._cell.col])}else this._input.focus()}},f.prototype.toHTML=function(){var l=this,u=(0,d.getEditorOptions)(this._cell.col,this._cell.row).map(function(t){return typeof t=="string"?{id:"".concat(t),value:t}:t})||[];if(!this._input){this._input=new y.Combobox(null,w({itemHeight:37,css:"dhx_cell-editor__combobox",multiselection:this._cell.col.editorType==="multiselect",htmlEnable:this._cell.col.htmlEnable},this._cell.col.editorConfig)),this._input.data.parse(u);var r=this._cell.row[this._cell.col.id],s=this._cell.col.editorType==="multiselect"?((r==null?void 0:r.toString())||"").split(", "):r;this._input.setValue(s),this._input.events.on("keydown",this._handlers.onkeydown),this._input.data.events.on("beforeAdd",function(t){if(t.id!==t.value)return l._input.addOption({id:t.value,value:t.value},!0),!1})}return document.addEventListener("mousedown",this._handlers.onOuterClick),this._config.$editable.editor=this,(0,C.awaitRedraw)().then(function(){var t=l._input.getRootView().refs.holder.el;l._input.popup.getContainer().style.width=t.offsetWidth+"px",l._input.popup.show(t)}),g.focusManager.setFocusId(this._input._uid),(0,C.inject)(this._input.getRootView())},f.prototype._initHandlers=function(){var l=this;this._handlers={onOuterClick:function(u){if(u.target instanceof Node){var r=l._input&&l._input.getRootNode()&&l._input.getRootNode().contains(u.target),s=l._input.popup&&l._input.popup.getRootNode()&&l._input.popup.getRootNode().contains(u.target);r||s||l.endEdit()}},onkeydown:function(u){u.key!=="Escape"&&u.key!=="Tab"||l.endEdit()}}},f}();p.ComboboxEditor=_},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.KEY_CODES=void 0,p.KEY_CODES={BACKSPACE:8,ENTER:13,ESC:27,DOWN_ARROW:40,UP_ARROW:38,LEFT_ARROW:37,RIGHT_ARROW:39}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.getEditor=void 0;var w=x(158);p.getEditor=function(C,b){return new w.InputEditor(C,b)}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.InputEditor=void 0;var w=x(0),C=x(52),b=function(){function y(g,d){var _=this;this._list=d,this._config=d.config,this._item=g,this._list.events.on(C.ListEvents.focusChange,function(f,l){_._mode&&l!==_._item.id&&_.endEdit()}),this._initHandlers()}return y.prototype.endEdit=function(){if(this._input){var g=this._input.value;this._list.events.fire(C.ListEvents.beforeEditEnd,[g,this._item.id])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._input.removeEventListener("keydown",this._handlers.onKeyDown),this._handlers={},this._mode=!1,this._list.events.fire(C.ListEvents.afterEditEnd,[g,this._item.id])):this._input.focus()}},y.prototype.toHTML=function(){this._mode=!0;var g=this._config.itemHeight;return(0,w.el)(".dhx_input__wrapper",{role:"presentation"},[(0,w.el)("div.dhx_input__container",{role:"presentation"},[(0,w.el)("input.dhx_input",{class:this._item.css?" "+this._item.css:"",style:{height:g,width:"100%",padding:"8px 12px"},_hooks:{didInsert:this._handlers.didInsert},_key:this._item.id,"data-dhx-id":this._item.id})])])},y.prototype._initHandlers=function(){var g=this;this._handlers={onBlur:function(){g.endEdit()},onChange:function(){g.endEdit()},onKeyDown:function(d){d.key==="Enter"&&g._item.value===g._input.value&&g.endEdit(),d.key==="Escape"&&(g._input.value=g._item.value,g.endEdit())},didInsert:function(d){var _=d.el;g._input=_,_.focus(),_.value=g._item.value,_.setSelectionRange(0,_.value.length),_.addEventListener("change",g._handlers.onChange),_.addEventListener("blur",g._handlers.onBlur),_.addEventListener("keydown",g._handlers.onKeyDown)}}},y}();p.InputEditor=b},function(O,p,x){var w,C=this&&this.__extends||(w=function(f,l){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u[s]=r[s])},w(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=f}w(f,l),f.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),b=this&&this.__assign||function(){return b=Object.assign||function(f){for(var l,u=1,r=arguments.length;u<r;u++)for(var s in l=arguments[u])Object.prototype.hasOwnProperty.call(l,s)&&(f[s]=l[s]);return f},b.apply(this,arguments)},y=this&&this.__spreadArray||function(f,l,u){if(u||arguments.length===2)for(var r,s=0,t=l.length;s<t;s++)!r&&s in l||(r||(r=Array.prototype.slice.call(l,0,s)),r[s]=l[s]);return f.concat(r||Array.prototype.slice.call(l))};Object.defineProperty(p,"__esModule",{value:!0}),p.ProList=void 0;var g=x(0),d=x(34),_=function(f){function l(u,r){var s=f.call(this,u,r)||this;return s.scrollView=new d.ScrollView(function(){return s.getRootView()}),s.paint(),s}return C(l,f),l.prototype.destructor=function(){f.prototype.destructor.call(this),this.scrollView=null},l.prototype.scrollTo=function(u){var r,s,t=this.getRootView();if(t&&t.node&&t.node.el&&u!==void 0){var n=!((r=this.scrollView)===null||r===void 0)&&r.config.enable?(s=this.getRootNode())===null||s===void 0?void 0:s.querySelector(".scroll-view"):this.getRootNode();this._scrollTo(u,n)}},l.prototype._renderList=function(){var u=this,r=this._getRange(),s=this.data.getRawData(r[0],r[1]).map(function(i,e){return u._renderItem(i,e)});this.config.virtual&&(s=y(y([(0,g.el)(".div",{style:{height:r[2]+"px"}})],s,!0),[(0,g.el)(".div",{style:{height:r[3]+"px"}})],!1));var t=this.scrollView&&this.scrollView.config.enable,n=(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":"")+(t?" dhx_list--scroll-view":"");return(0,g.el)("ul.dhx_widget.dhx_list",b(b({style:{"max-height":this.config.height,position:"relative"},class:n,"data-dhx-widget-id":this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),t?[].concat(this.scrollView.render(s)):s)},l}(x(82).List);p.ProList=_},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.KeyListener=void 0;var w=function(){function C(){var b=this;this._handler=function(y){if(b._isActive){var g=y.key;g==="Backspace"&&b._sequence.length>0&&(b._sequence=b._sequence.slice(0,b._sequence.length-1),b._change()),g.length<2&&(b._sequence+=g,b._change())}},this._sequence="",document.addEventListener("keydown",this._handler)}return C.prototype.startNewListen=function(b){this._isActive=!0,this._sequence="",this._currentAction=b},C.prototype.endListen=function(){this._currentAction=null,this.reset(),this._isActive=!1},C.prototype.reset=function(){this._sequence=""},C.prototype.destructor=function(){document.removeEventListener("keydown",this._handler)},C.prototype._change=function(){this._currentAction(this._sequence),this._addClearTimeout()},C.prototype._addClearTimeout=function(){var b=this;this._clearTimeout&&clearTimeout(this._clearTimeout),this._clearTimeout=setTimeout(function(){b.reset(),b._clearTimeout=null},2e3)},C}();p.KeyListener=w},function(O,p,x){var w,C=this&&this.__extends||(w=function(f,l){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u[s]=r[s])},w(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=f}w(f,l),f.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)});Object.defineProperty(p,"__esModule",{value:!0}),p.ProCombobox=void 0;var b=x(80),y=x(81),g=x(16),d=x(85),_=function(f){function l(u,r){return f.call(this,u,r)||this}return C(l,f),l.prototype._createLayout=function(){var u=this.list=new y.ProList(null,{$template:b.$template,template:this.config.template,htmlEnable:this.config.htmlEnable,virtual:this.config.virtual,keyNavigation:!0,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),r=this._layout=new g.ProLayout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll,".dhx_combobox-options__action-create-option":this._handlers.addOption}}});r.getCell("list").attach(u),this.config.multiselection&&this.config.selectAllButton&&r.getCell("select-unselect-all").attach(d.selectAllView)},l}(b.Combobox);p.ProCombobox=_},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(_){for(var f,l=1,u=arguments.length;l<u;l++)for(var r in f=arguments[l])Object.prototype.hasOwnProperty.call(f,r)&&(_[r]=f[r]);return _},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.TextAreaEditor=void 0;var C=x(0),b=x(7),y=x(1),g=x(18),d=function(){function _(f,l,u){this._config=u,this._cell={row:f,col:l},this.type=this._cell.col.type,this._width=this._cell.col.$width;var r=0;this._config.firstColId===this._cell.col.id&&this._cell.row.hasOwnProperty("$level")&&(r=(0,g.getTreeCellWidthOffset)(this._cell.row)),this._width-=r-4,this._initHandlers()}return _.prototype.endEdit=function(f){var l;this._config.$editable&&(f||(l=this._editor.value,this.type==="number"&&(l=parseFloat(l),Number.isNaN(l)&&(l=""))),this._config.events.fire(b.GridEvents.beforeEditEnd,[l,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(b.GridEvents.afterEditEnd,[l,this._cell.row,this._cell.col])):this._editor.focus())},_.prototype.toHTML=function(f){(0,y.isDefined)(f)&&(this.type="string"),f=f??this._cell.row[this._cell.col.id],this._editor&&(f=this._editor.value),this._config.$editable.editor=this;var l=this._cell.row.height!==void 0||this._cell.col.htmlEnable?"dhx_cell-editor dhx_cell-editor__textarea_constant-height":"dhx_cell-editor dhx_cell-editor__textarea";return(0,C.el)("textarea",{_hooks:{didInsert:this._handlers.didInsert},_ref:"textarea",_key:"cell_editor","data-dhx-id":"cell_editor",value:f,onblur:this._handlers.onBlur,oninput:this._handlers.onInput,class:l,style:{width:this._width}})},_.prototype._initHandlers=function(){var f=this;this._handlers={onBlur:function(){f.endEdit()},onInput:function(l){var u;if(f._cell.row.height===void 0&&!f._cell.col.htmlEnable){var r=f._getCurrentHeight(f._editor.value,{width:f._cell.col.$width-2,maxHeight:f._config.rowHeight});f._cell.row[f._cell.col.id]=f._editor.value;var s=(0,g.getCalculatedRowHeight)((0,g.getMaxRowHeight)(f._cell.row,f._config.columns)),t=(0,g.getCalculatedRowHeight)((0,g.getMaxRowHeight)(((u={})[f._cell.col.id]=f._cell.row[f._cell.col.id],u),f._config.columns));if(f._minHeight=s===t?f._config.rowHeight:s,r>=f._minHeight&&r!==f._prevHeight){if(!f._config.events.fire(b.GridEvents.beforeRowResize,[f._cell.row,l,r]))return;f._config.events.fire(b.GridEvents.afterRowResize,[f._cell.row,l,r])}f._prevHeight=r}},didInsert:function(l){f._editor=l.el,f._editor.focus()}}},_.prototype._getCurrentHeight=function(f,l){l=w({width:100,maxHeight:40,lineHeight:20},l);var u=document.createElement("textarea");u.className="dhx_cell-editor dhx_cell-editor__textarea",u.value=f,u.style.width="".concat(l.width,"px"),u.style.lineHeight="".concat(l.lineHeight,"px"),u.style.maxHeight="".concat(l.maxHeight,"px"),u.style.boxSizing="border-box",document.body.appendChild(u);var r=this._getElementHeight(u),s=u.value.split(`
`).length,t=Math.round(r/l.lineHeight),n=r<l.maxHeight?l.maxHeight:r;return document.body.removeChild(u),s===1&&s===t?l.maxHeight:n},_.prototype._getElementHeight=function(f){return f.scrollHeight},_}();p.TextAreaEditor=d},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.getContent=void 0;var w=x(0),C=x(18),b=x(1),y=x(164),g=x(165),d=x(166);function _(l,u){var r=u[l.id];if(l.editorType==="combobox")parseFloat((0,C.getEditorValue)(r,(0,C.getEditorOptions)(l,u)));else if(l.editorType==="multiselect")return NaN;return parseFloat(r)}function f(l,u,r,s){if(l&&u&&r){var t=s?s(l.id,u.data):u.data.reduce(function(i,e){var a=_(l,e);return isNaN(a)||i.push(a),i},[]),n=t;return u.type==="tree"&&(n=u.data.reduce(function(i,e){if(e.$level===0){var a=_(l,e);if(isNaN(a)){var c=0;u.datacollection.eachChild(e.id,function(v){if(!u.datacollection.haveItems(v.id)){var m=_(l,v);isNaN(m)||(c+=m)}}),i.push(c)}else i.push(a)}return i},[])),r(t,n)}}p.getContent=function(){return{inputFilter:{element:{},toHtml:function(l,u){var r=this,s=(0,b.uid)(),t=l.id.toString(),n=this.element[t];return n?n.value=this.value[t]:((n=new d.InputFilter(l,u,s,this.value[t])).events.on("change",function(i){r.value[t]=i}),this.element[t]=n),n.toHTML()},match:function(l){var u=l.val,r=l.match,s=l.col;if(!(0,b.isDefined)(u))return!1;var t=[];t.push((0,C.toFormat)(u,s.type,s.format)),s.format&&(i=s.format.lastIndexOf("#"))>0&&t.push((0,C.toFormat)(u,s.type,s.format.slice(i)));for(var n="",i=0;i<r.length;i++){var e=r.charCodeAt(i);n+=e>32&&e<48||e===63||e>90&&e<95||e===124?"\\"+r[i]:r[i]}return t.some(function(a){return new RegExp("".concat(n),"i").test(a)})},value:{}},selectFilter:{element:{},toHtml:function(l,u){var r=this,s=l.id.toString(),t=this.element[s];return t?(t.value=this.value[s],t.data=l.$activeFilterData||l.$uniqueData):((t=new g.SelectFilter(l,u,l.$uniqueData,this.value[s])).events.on("change",function(n){r.value[s]=n}),this.element[s]=t),t.toHTML()},match:function(l){var u=l.val,r=l.match,s=l.col,t=(0,C.toFormat)(u,s.type,s.format);return!r||(t||typeof t=="boolean")&&t.toString()==r},value:{}},comboFilter:{element:{},toHtml:function(l,u){var r=this,s=l.id.toString(),t=this.element[s];if(t)t.data=l.$uniqueData;else{var n=l.header.filter(function(i){return i.filterConfig!==void 0})[0];(t=new y.ComboFilter(l,u,l.$uniqueData,this.value[s],n)).events.on("change",function(i){r.value[s]=i}),this.element[s]=t}return(0,w.inject)(t.getFilter().getRootView())},match:function(l){var u=l.val,r=l.match,s=r===void 0?"":r,t=l.multi,n=t!==void 0&&t,i=l.col,e=(0,C.toFormat)(u,i.type,i.format);if(Array.isArray(s)){for(var a=void 0,c=function(m){if(a=n&&typeof e=="string"?e.split(", ").some(function(k){return k===s[m]}):s[m]===e)return"break"},v=0;v<s.length&&c(v)!=="break";v++);return!s||!s.length||a}return s===void 0||e===s},destroy:function(){this.value={};var l=this.element;for(var u in l)l[u].destructor(),delete l[u]},value:{}},sum:{calculate:function(l,u){return l.length?u.reduce(function(r,s){var t=r+parseFloat(s)||0;return parseFloat(t.toFixed(12))},0):null},toHtml:function(l,u){var r=f(l,u,this.calculate);return l.format||l.type==="percent"?(0,C.toFormat)(r,l.type,l.format):(0,b.isDefined)(r)?r:null}},avg:{calculate:function(l,u){return l.length?u.reduce(function(r,s){return r+s},0)/l.length:null},toHtml:function(l,u){var r=f(l,u,this.calculate);return l.format||l.type==="percent"?(0,C.toFormat)(r,l.type,l.format):(0,b.isDefined)(r)?r.toFixed(3):null}},min:{calculate:function(l){return l.length?Math.min.apply(Math,l):null},toHtml:function(l,u){var r=f(l,u,this.calculate);return l.format||l.type==="percent"||l.type==="number"?(0,C.toFormat)(r,l.type,l.format):(0,b.isDefined)(r)?r.toFixed(3):null}},max:{calculate:function(l){return l.length?Math.max.apply(Math,l):null},toHtml:function(l,u){var r=f(l,u,this.calculate);return l.format||l.type==="percent"||l.type==="number"?(0,C.toFormat)(r,l.type,l.format):(0,b.isDefined)(r)?r.toFixed(3):null}},count:{calculate:function(l,u){return u.length},validate:function(l,u){return u.reduce(function(r,s){return(0,b.isDefined)(s[l])&&s[l]!==""&&(isNaN(s)?r.push(1):r.push(s)),r},[])},toHtml:function(l,u){return f(l,u,this.calculate,this.validate)}}}}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.ComboFilter=void 0;var w=x(51),C=x(3),b=x(8),y=x(1),g=x(7),d=function(){function _(f,l,u,r,s){var t;this.events=new C.EventSystem,this._silentMode=!1,this.column=f,this.config=l,this.data=u,this.value=r,this.filterConfig=(s==null?void 0:s.filterConfig)||{},(this.column.htmlEnable||!((t=this.config)===null||t===void 0)&&t.htmlEnable&&this.column.htmlEnable!==!1)&&(this.filterConfig.readonly=!0,this.filterConfig.template||(this.filterConfig.template=function(n){return n.value})),this.filterConfig.filter||(this.filterConfig.filter=function(n,i){return(0,y.isExistValue)(n.value,i)}),this.initFilter(),this.config&&this.initHandlers()}return _.prototype.initFilter=function(){this._filter=new w.Combobox(null,Object.assign({},this.filterConfig)),this.data&&this._filter.data&&this._setData()},_.prototype.initHandlers=function(){var f,l,u,r=this,s=this.column.id.toString();this.config.events.on(b.DataEvents.load,function(){return r._setData()},this),this._filter.events.on("change",function(t){var n,i;t&&(Array.isArray(t)?t.find(function(e){return r._filter.data.getItem(e)}):r._filter.data.getItem(t))&&(i=r._filter.config.multiselection?r._filter.list.selection.getItem().map(function(e){if(e&&r._filter.data.getItem(e.id))return e.value}):r._filter.list.selection.getItem().value),r.value=i,(n=r.config.events)===null||n===void 0||n.fire(g.GridEvents.filterChange,[r.value,s,"comboFilter",r._silentMode]),r._silentMode&&r.value===void 0&&(r._silentMode=!1)}),this.config.events.on(g.GridEvents.filterChange,function(t){return r.events.fire(g.HeaderFilterEvent.change,[t])},this),this._filter.popup.events.on("afterHide",function(){r.filterConfig.multiselection||r._filter.list.selection.getItem()||r.clear()}),this._filter.popup.events.on("afterShow",function(){!r.filterConfig.multiselection&&(r.value===""||r.filterConfig.readonly&&r.value!==void 0)&&r.clear()}),(f=this.config.events)===null||f===void 0||f.on(g.GridEvents.scroll,function(){var t;r._isFocused&&(!((t=r._filter.getRootView().refs)===null||t===void 0)&&t.input)&&r._filter.focus()},this),(l=this.config.events)===null||l===void 0||l.on(g.GridEvents.headerCellMouseDown,function(t){t.id!==r.column.id&&r.blur()},this),(u=this.config.events)===null||u===void 0||u.on(g.GridEvents.cellMouseDown,function(){return r.blur()},this),this.config.events.on(b.DataEvents.change,function(t,n){r.column.hidden||n!=="add"&&n!=="update"&&n!=="remove"||(n!=="add"&&r._checkValue(),r._setData(!0))},this),this.config.events.on(b.DataEvents.removeAll,function(){r.clear(!0),r._setData()},this),this.config.events.on(g.GridEvents.afterRowShow,function(){return r._setData(!0)},this),this.config.events.on(g.GridEvents.afterRowHide,function(){r.column.hidden||(r._checkValue(),r._setData(!0))},this),this.config.events.on(b.DataEvents.filter,function(t){r.column.hidden||(!t||(0,b.isOnlyPermanentFilters)(t)?r.clear(!0):r._checkValue(),r.filterConfig.multiselection&&r._filter.popup.isVisible()||r._setData(!0))},this),this.config.events.on(g.GridEvents.afterColumnShow,function(){r.filterConfig.multiselection||(r._checkValue(),r._setData())},this),this.config.events.on(g.GridEvents.afterColumnHide,function(){r.filterConfig.multiselection||r._setData()},this)},_.prototype.getFilter=function(){return this._filter},_.prototype.setValue=function(f,l){var u,r,s=this;if(this.filterConfig.multiselection||!Array.isArray(f))if((0,y.isDefined)(f)){if(f!=null&&f.length||f===""){var t=this.filterConfig.multiselection&&Array.isArray(f)?f.map(function(n){var i;return(i=s._filter.data.find(function(e){return e.value===n}))===null||i===void 0?void 0:i.id}):(r=this._filter.data.find(function(n){return n.value===f}))===null||r===void 0?void 0:r.id;this._filter.setValue(t,l)}}else l&&(this._silentMode=!0),this._filter.clear(),this.filterConfig.multiselection||this.value===void 0||(this.value=void 0,(u=this.config.events)===null||u===void 0||u.fire(g.GridEvents.filterChange,[this.value,this.column.id,"comboFilter"]))},_.prototype.clear=function(f){this.value!==void 0&&this.setValue(null,f)},_.prototype.focus=function(){var f;this._isFocused=!0,!((f=this._filter.getRootView().refs)===null||f===void 0)&&f.input&&this._filter.focus()},_.prototype.blur=function(){var f;this._isFocused=!1,!((f=this._filter.getRootView().refs)===null||f===void 0)&&f.input&&this._filter.blur()},_.prototype.destructor=function(){var f=this.config.events;if(f)for(var l in f.events)this.config.events.detach(l,this);this.events.clear(),this._filter&&this._filter.destructor(),this.config=this.filterConfig=this.data=this.column=this.value=this.events=null},_.prototype._setData=function(f){var l=this;f===void 0&&(f=!1);var u=function(){var r=l.column.$activeFilterData||l.column.$uniqueData;if(l.column.header.some(function(n){var i;return(i=n.filterConfig)===null||i===void 0?void 0:i.filter})){var s=l._filter.data.reduce(function(n,i){return n[i.value]=i.id,n},{}),t=r.map(function(n){return s[n]?{id:s[n],value:n}:{value:n}});l._filter.data.parse(t)}else l._filter.data.parse(r.map(function(n){return{value:n}}))};this.value===void 0?u():f&&this.filterConfig.multiselection&&(u(),this.setValue(this.value,!0))},_.prototype._checkValue=function(){if(this.value!==void 0)for(var f=Array.isArray(this.value)?this.value:[this.value],l=function(t){if(u.column.$uniqueData.includes(t))return"continue";if(f.length>1){var n=u._filter.data.find(function(i){return i.value===t});u._filter.list.selection.remove(n.id)}else u.clear();return"break"},u=this,r=0,s=f;r<s.length&&l(s[r])!=="break";r++);},_}();p.ComboFilter=d},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.SelectFilter=void 0;var w=x(0),C=x(3),b=x(7),y=function(){function g(d,_,f,l){this.events=new C.EventSystem,this.column=d,this.config=_,this.data=f,this.value=l||"",this.initHandlers(),this.toHTML()}return g.prototype.toHTML=function(){var d,_=this;return(0,w.el)("label.dhx_grid-filter__label.dxi.dxi-menu-down",{_ref:"".concat(this.column.id,"_filter")},[(0,w.el)("select.dxi.dxi-menu-down",{type:"text",class:"dhx_input dhx_grid-filter dhx_grid-filter--select",onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_key:this.column.id},[(0,w.el)("option",{value:"",_key:0},""),(d=this.value?[this.value]:this.data)===null||d===void 0?void 0:d.map(function(f){return(f=f??"")!==""&&(0,w.el)("option",{_key:f,value:f,selected:_.value===f.toString()},f)})])])},g.prototype.getFilter=function(){return this.toHTML()},g.prototype.setValue=function(d,_){var f;this.value=d||"",this.events.fire(b.HeaderFilterEvent.change,[d]),(f=this.config.events)===null||f===void 0||f.fire(b.GridEvents.filterChange,[this.value,this.column.id,"selectFilter",_])},g.prototype.clear=function(d){this.setValue("",d)},g.prototype.focus=function(){var d,_,f,l;this._isFocused=!0;var u=(l=(f=(_=(d=this.config.events)===null||d===void 0?void 0:d.context)===null||_===void 0?void 0:_.getRootView())===null||f===void 0?void 0:f.refs["".concat(this.column.id,"_filter")])===null||l===void 0?void 0:l.el;u&&u.focus()},g.prototype.blur=function(){var d,_,f,l;this._isFocused=!1;var u=(l=(f=(_=(d=this.config.events)===null||d===void 0?void 0:d.context)===null||_===void 0?void 0:_.getRootView())===null||f===void 0?void 0:f.refs["".concat(this.column.id,"_filter")])===null||l===void 0?void 0:l.el;u&&u.blur()},g.prototype.initHandlers=function(){var d,_,f,l=this;this._handlers={onchange:function(u){var r,s,t,n,i=((r=u.target)===null||r===void 0?void 0:r.value)||((t=(s=u.composedPath())===null||s===void 0?void 0:s[0])===null||t===void 0?void 0:t.value)||((n=u.explicitOriginalTarget)===null||n===void 0?void 0:n.value);l.setValue(i)},onfocus:function(){l._isFocused=!0},onblur:function(){l._isFocused=!1}},(d=this.config.events)===null||d===void 0||d.on(b.GridEvents.scroll,function(){var u,r,s,t,n=(t=(s=(r=(u=l.config.events)===null||u===void 0?void 0:u.context)===null||r===void 0?void 0:r.getRootView())===null||s===void 0?void 0:s.refs["".concat(l.column.id,"_filter")])===null||t===void 0?void 0:t.el;l._isFocused&&n&&(0,w.awaitRedraw)().then(function(){n.focus()})}),(_=this.config.events)===null||_===void 0||_.on(b.GridEvents.headerCellMouseDown,function(u){u.id!==l.column.id&&l.blur()}),(f=this.config.events)===null||f===void 0||f.on(b.GridEvents.cellMouseDown,function(){return l.blur()})},g}();p.SelectFilter=y},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.InputFilter=void 0;var w=x(0),C=x(3),b=x(7),y=function(){function g(d,_,f,l){this.events=new C.EventSystem,this.column=d,this.config=_,this.id=f,this.value=l||"",this.initHandlers(),this.toHTML()}return g.prototype.toHTML=function(){return(0,w.el)("div.dhx_grid-filter__label.dxi.dxi-magnify",{"aria-label":"Type to search",_ref:"".concat(this.column.id,"_filter")},[(0,w.el)("label",{style:{display:"none"},"aria-label":"Type to search",for:this.id},"Type to search"),(0,w.el)("input",{type:"text",class:"dhx_input dhx_grid-filter",oninput:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_key:this.column.id,id:this.id,value:this.value})])},g.prototype.getFilter=function(){return this.toHTML()},g.prototype.setValue=function(d,_){var f;this.value=d||"",this.events.fire(b.HeaderFilterEvent.change,[this.value]),(f=this.config.events)===null||f===void 0||f.fire(b.GridEvents.filterChange,[this.value,this.column.id,"inputFilter",_])},g.prototype.clear=function(d){this.setValue("",d)},g.prototype.focus=function(){var d,_,f,l,u;this._isFocused=!0;var r=(l=(f=(_=(d=this.config.events)===null||d===void 0?void 0:d.context)===null||_===void 0?void 0:_.getRootView())===null||f===void 0?void 0:f.refs["".concat(this.column.id,"_filter")])===null||l===void 0?void 0:l.el;r&&((u=r.querySelector("input"))===null||u===void 0||u.focus())},g.prototype.blur=function(){var d,_,f,l,u;this._isFocused=!1;var r=(l=(f=(_=(d=this.config.events)===null||d===void 0?void 0:d.context)===null||_===void 0?void 0:_.getRootView())===null||f===void 0?void 0:f.refs["".concat(this.column.id,"_filter")])===null||l===void 0?void 0:l.el;r&&((u=r.querySelector("input"))===null||u===void 0||u.blur())},g.prototype.initHandlers=function(){var d,_,f,l=this;this._handlers={onchange:function(u){var r,s,t,n,i=((r=u.target)===null||r===void 0?void 0:r.value)||((t=(s=u.composedPath())===null||s===void 0?void 0:s[0])===null||t===void 0?void 0:t.value)||((n=u.explicitOriginalTarget)===null||n===void 0?void 0:n.value);l._inputDelay&&clearTimeout(l._inputDelay),l._inputDelay=setTimeout(function(){return l.setValue(i)},500)},onfocus:function(){l._isFocused=!0},onblur:function(){l._isFocused=!1}},(d=this.config.events)===null||d===void 0||d.on(b.GridEvents.scroll,function(){var u,r,s,t,n=(t=(s=(r=(u=l.config.events)===null||u===void 0?void 0:u.context)===null||r===void 0?void 0:r.getRootView())===null||s===void 0?void 0:s.refs["".concat(l.column.id,"_filter")])===null||t===void 0?void 0:t.el;l._isFocused&&n&&(0,w.awaitRedraw)().then(function(){var i;(i=n.querySelector("input"))===null||i===void 0||i.focus()})}),(_=this.config.events)===null||_===void 0||_.on(b.GridEvents.headerCellMouseDown,function(u){u.id!==l.column.id&&l.blur()}),(f=this.config.events)===null||f===void 0||f.on(b.GridEvents.cellMouseDown,function(){return l.blur()})},g}();p.InputFilter=y},function(O,p,x){var w=this&&this.__spreadArray||function(g,d,_){if(_||arguments.length===2)for(var f,l=0,u=d.length;l<u;l++)!f&&l in d||(f||(f=Array.prototype.slice.call(d,0,l)),f[l]=d[l]);return g.concat(f||Array.prototype.slice.call(d))};Object.defineProperty(p,"__esModule",{value:!0}),p.startResize=void 0;var C=x(1),b=x(7),y=x(25);p.startResize=function(g,d,_,f){var l,u=g.config.rightSplit;_.targetTouches&&_.preventDefault();var r=_.targetTouches?_.targetTouches[0].clientX:_.clientX,s=g.config.columns.filter(function(v){return!v.hidden}),t=u?s.slice(-u).map(function(v){return v.id}):[],n=!!(!((l=g.scrollView)===null||l===void 0)&&l.config.enable),i=u?(0,y.calcScrollBarWidth)(g.config,n).xState:null,e=0;g.config.$resizing=d;var a=function(v){var m=(0,C.findIndex)(s,function(F){return F.id===d}),k=v.targetTouches?v.targetTouches[0].clientX:v.clientX,I=k-g.getRootNode().getBoundingClientRect().left,P=(0,y.calcScrollBarWidth)(g.config,n);if(!(g.config.leftSplit===m+1&&I>=g.config.$width-P.y-2||u&&t.includes(d)&&P.xState!==i)){e=e||s[m].$width;var T,H=s[m].minWidth||40,$=s[m].maxWidth,L=k-r,j=w([],s,!0),M=e+(i&&t.includes(d)?-L:L);$&&M>=$||M<=H?(M<=H&&(T=H),M>=$&&(T=$)):T=M,j[m].$width=T,j[m].$fixed=!0,g.events.fire(b.GridEvents.resize,[s[m],v]),g.paint()}},c=function(){_.targetTouches?(document.removeEventListener("touchmove",a),document.removeEventListener("touchend",c)):(document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",c)),f()};_.targetTouches?(document.addEventListener("touchmove",a),document.addEventListener("touchend",c)):(document.addEventListener("mousemove",a),document.addEventListener("mouseup",c)),g.paint()}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(_){for(var f,l=1,u=arguments.length;l<u;l++)for(var r in f=arguments[l])Object.prototype.hasOwnProperty.call(f,r)&&(_[r]=f[r]);return _},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.getKeysHandlers=p.selectionMove=void 0;var C=x(7),b=x(2),y=x(26);function g(_,f,l,u,r,s,t){if(r===void 0&&(r=!1),s===void 0&&(s=!1),t===void 0&&(t=!1),!f.config.$editable&&f.config.selection&&!(0,b.locateNodeByClassName)(_,"dhx_grid-header-cell")){_&&_.preventDefault();var n=f.selection.getCell(),i=f.config.columns.filter(function(c){return!c.hidden});if(n)if(l==="vertical")if(r){var e=u===1?f.data.getItem(f.data.getId(f.data.getLength()-1)):f.data.getItem(f.data.getId(0));f.selection.setCell(e.id,n.column.id,s,t),f.scrollTo(e.id.toString(),n.column.id.toString())}else(a=f.data.getIndex(n.row.id.toString()))+u>=0&&a+u<f.data.getLength()&&(e=f.data.getItem(f.data.getId(a+u)),f.selection.setCell(e.id,n.column.id,s,t),f.scrollTo(e.id.toString(),n.column.id.toString()));else if(r)e=u===1?i[i.length-1]:i[0],f.selection.setCell(n.row.id,e.id,s,t),f.scrollTo(n.row.id.toString(),e.id.toString());else{var a;(a=i.indexOf(n.column))+u>=0&&a+u<i.length&&(f.selection.setCell(n.row.id,i[a+u].id,s,t),f.scrollTo(n.row.id.toString(),i[a+u].id.toString()))}}}function d(_,f){var l,u,r=_.selection.getCell(),s=r&&_.getSpan(r.row.id,r.column.id);if(s){if(f==="up"||f==="down"){var t=(l=_.config.data)===null||l===void 0?void 0:l.findIndex(function(e){return e.id===s.row}),n=(u=_.config.data)===null||u===void 0?void 0:u.findIndex(function(e){return e.id===r.row.id});return f==="up"?t-n-1:t+(s.rowspan||1)-n}var i=_.config.columns.filter(function(e){return!e.hidden});return t=i.findIndex(function(e){return e.id===s.column}),n=i.findIndex(function(e){return e.id===r.column.id}),f==="left"?t-n-1:t+(s.colspan||1)-n}return f==="down"||f==="right"?1:-1}p.selectionMove=g,p.getKeysHandlers=function(_){var f,l,u,r=_.config.selection==="cell"||_.config.selection==="complex"||_.config.selection===!0,s={};if(_.getRootView()){var t=(u=(l=(f=_.getRootView())===null||f===void 0?void 0:f.refs)===null||l===void 0?void 0:l.grid_body)===null||u===void 0?void 0:u.el;if(!t)return;s={pageUp:function(n){n.preventDefault(),t.scrollTop-=t.clientHeight},pageDown:function(n){n.preventDefault(),t.scrollTop+=t.clientHeight},home:function(n){n.preventDefault(),t.scrollTop=0},end:function(n){n.preventDefault(),t.scrollTop+=t.scrollHeight}}}return w({enter:function(){if(r){var n=(0,y.normalizeCell)(_.selection.getCell(),_);if(n&&(n.column.editable!==!1&&_.config.editable||n.column.editable))if(_.config.$editable)_.editEnd();else if(n.column.type==="boolean"){if(!_.events.fire(C.GridEvents.beforeEditStart,[n.row,n.column,"checkbox"])||(_.events.fire(C.GridEvents.afterEditStart,[n.row,n.column,"checkbox"]),!_.events.fire(C.GridEvents.beforeEditEnd,[!n.row[n.column.id],n.row,n.column])))return;_.events.fire(C.GridEvents.afterEditEnd,[!n.row[n.column.id],n.row,n.column])}else _.editCell(n.row.id,n.column.id,n.column.editorType)}else _.config.$editable&&_.editEnd()},space:function(n){var i,e=(0,y.normalizeCell)(_.selection.getCell(),_);if(r&&((i=e==null?void 0:e.column.editable)!==null&&i!==void 0?i:_.config.editable)&&!_.config.$editable&&e&&e.column.type==="boolean"){if(n.preventDefault(),!_.events.fire(C.GridEvents.beforeEditStart,[e.row,e.column,"checkbox"])||(_.events.fire(C.GridEvents.afterEditStart,[e.row,e.column,"checkbox"]),!_.events.fire(C.GridEvents.beforeEditEnd,[!e.row[e.column.id],e.row,e.column])))return;_.events.fire(C.GridEvents.afterEditEnd,[!e.row[e.column.id],e.row,e.column])}},escape:function(){_.config.$editable&&_.editEnd(!0)},tab:function(n){if(_.config.selection&&!(0,b.locateNodeByClassName)(n,"dhx_grid-header-cell")){_.config.$editable&&_.editEnd();var i=_.selection.getCell(),e=_.config.columns.filter(function(v){return!v.hidden});if(i){var a=e.indexOf(i.column)+d(_,"right");if(a>=0&&a<e.length)n&&n.preventDefault(),_.selection.setCell(i.row.id,e[a].id),_.scrollTo(i.row.id.toString(),e[a].id.toString());else if(a>=0){var c=_.data.getIndex(i.row.id.toString())+1;c<_.data.getLength()&&(n&&n.preventDefault(),_.selection.setCell(_.data.getId(c),e[0].id),_.scrollTo(_.data.getId(c).toString(),e[0].id.toString()))}}}},"shift+tab":function(n){if(_.config.selection&&!(0,b.locateNodeByClassName)(n,"dhx_grid-header-cell")){_.config.$editable&&_.editEnd();var i=_.selection.getCell(),e=_.config.columns.filter(function(v){return!v.hidden});if(i){var a=e.indexOf(i.column)+d(_,"left");if(a>=0&&a<e.length)n&&n.preventDefault(),_.selection.setCell(i.row.id,e[a].id),_.scrollTo(i.row.id.toString(),e[a].id.toString());else if(a<_.data.getLength()){var c=_.data.getIndex(i.row.id.toString())-1;c>=0&&(n&&n.preventDefault(),_.selection.setCell(_.data.getId(c),e[e.length-1].id),_.scrollTo(_.data.getId(c).toString(),e[e.length-1].id.toString()))}}}},arrowUp:function(n){g(n,_,"vertical",d(_,"up"))},"ctrl+arrowUp":function(n){g(n,_,"vertical",-1,!0)},"shift+arrowUp":function(n){_.config.multiselection&&g(n,_,"vertical",-1,!1,!1,!0)},"ctrl+shift+arrowUp":function(n){_.config.multiselection&&g(n,_,"vertical",-1,!0,!1,!0)},arrowDown:function(n){g(n,_,"vertical",d(_,"down"))},"ctrl+arrowDown":function(n){g(n,_,"vertical",1,!0)},"shift+arrowDown":function(n){_.config.multiselection&&g(n,_,"vertical",1,!1,!1,!0)},"ctrl+shift+arrowDown":function(n){_.config.multiselection&&g(n,_,"vertical",1,!0,!1,!0)},arrowRight:function(n){g(n,_,"horizontal",d(_,"right"))},"ctrl+arrowRight":function(n){g(n,_,"horizontal",1,!0)},"shift+arrowRight":function(n){_.config.multiselection&&g(n,_,"horizontal",1,!1,!1,!0)},"ctrl+shift+arrowRight":function(n){_.config.multiselection&&g(n,_,"horizontal",1,!0,!1,!0)},arrowLeft:function(n){g(n,_,"horizontal",d(_,"left"))},"ctrl+arrowLeft":function(n){g(n,_,"horizontal",-1,!0)},"shift+arrowLeft":function(n){_.config.multiselection&&g(n,_,"horizontal",-1,!1,!1,!0)},"ctrl+shift+arrowLeft":function(n){_.config.multiselection&&g(n,_,"horizontal",-1,!0,!1,!0)}},s)}},function(O,p,x){var w,C=this&&this.__extends||(w=function(i,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},w(i,e)},function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=i}w(i,e),i.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}),b=this&&this.__assign||function(){return b=Object.assign||function(i){for(var e,a=1,c=arguments.length;a<c;a++)for(var v in e=arguments[a])Object.prototype.hasOwnProperty.call(e,v)&&(i[v]=e[v]);return i},b.apply(this,arguments)},y=this&&this.__spreadArray||function(i,e,a){if(a||arguments.length===2)for(var c,v=0,m=e.length;v<m;v++)!c&&v in e||(c||(c=Array.prototype.slice.call(e,0,v)),c[v]=e[v]);return i.concat(c||Array.prototype.slice.call(e))};Object.defineProperty(p,"__esModule",{value:!0}),p.ProGrid=void 0;var g=x(72),d=x(7),_=x(8),f=x(2),l=x(18),u=x(25),r=x(0),s=x(34),t=x(15),n=function(i){function e(a,c){var v,m,k=this;return(k=i.call(this,a,b({autoHeight:!1,headerAutoHeight:(v=c==null?void 0:c.headerAutoHeight)!==null&&v!==void 0?v:c==null?void 0:c.autoHeight,footerAutoHeight:(m=c==null?void 0:c.footerAutoHeight)!==null&&m!==void 0?m:c==null?void 0:c.autoHeight},c))||this).scrollView=new s.ScrollView(function(){return k.getRootView()},{scrollHandler:function(I){return k.events.fire(d.GridEvents.scroll,[{y:I.target.scrollTop,x:I.target.scrollLeft}])}}),k}return C(e,i),e.prototype._createView=function(){var a=this;return(0,r.create)({render:function(c,v){return a._destructed?(0,r.el)("div"):(0,u.proRender)(c,v,a._htmlEvents,a.selection,a._uid)},hooks:this._initHooks()},this)},e.prototype._setEventHandlers=function(){var a=this;i.prototype._setEventHandlers.call(this),this.events.on(d.GridEvents.headerCellMouseDown,function(c,v){var m,k=(0,f.locateNodeByClassName)(v,"dhx_header-row"),I=k&&k.getAttribute("aria-rowindex");!((m=c.header[Number(I)-1])===null||m===void 0)&&m.content||(v.targetTouches?a._touch.timer=setTimeout(function(){a._dragStartColumn(v,c)},a._touch.duration):a._dragStartColumn(v,c))}),this._events.on(d.GridSystemEvents.headerCellTouchMove,function(c,v){a._touch.start&&v.preventDefault(),a._clearTouchTimer()}),this._events.on(d.GridSystemEvents.headerCellTouchEnd,function(){a._touch.start=!1,a._clearTouchTimer()}),this.events.on(d.GridEvents.afterResizeEnd,function(){a.config.autoHeight&&(a.config.data=a.data.map(function(c){var v=(0,l.getMaxRowHeight)(c,a.config.columns);return c.$height=(0,l.getCalculatedRowHeight)(v,{rowHeight:a.config.rowHeight}),c}))}),this.events.on(d.GridEvents.afterRowResize,function(c,v,m){var k=a.data.getItem(c.id),I=k.id,P=k.height,T=k.$height;P&&P!==T&&a.data.update(I,{height:m}),a.data.update(I,{$height:m},!0),a.config.data=a.data.map(function(H){return H}),a.paint()}),this.events.on(d.GridEvents.scroll,function(){a._lazyLoad()}),this.events.on(_.DataEvents.dataRequest,function(c,v){var m=a.data.dataProxy;m&&m.config&&a._prepareDataFromTo(a.data,c,v)})},e.prototype.getNormalizeContentHeight=function(a,c,v){var m,k,I=0,P=this.content[a.content],T=a.content&&typeof P.calculate=="function"&&P.toHtml(c,v).toString(),H=a.text||T||"";if(a.colspan){var $=(m=v.columns)===null||m===void 0?void 0:m.findIndex(function(M){return M.id===c.id}),L=$+a.colspan,j=(k=v.columns)===null||k===void 0?void 0:k.slice($,L);j==null||j.forEach(function(M){I+=M.$width})}else I+=c.$width;return(0,l.measureTextHeight)({text:H,width:I-24,htmlEnable:(0,t.isHtmlEnable)(v,c,a),font:"bold 14px Arial"})+16},e.prototype._prepareData=function(a){var c=this;return this._normalizeDataType(),this._adjustColumns(),a.map(function(v){if(c.config.autoHeight&&v.height===void 0){var m=c.config.columns.filter(function(I){return!I.hidden}),k=(0,l.getMaxRowHeight)(v,m);v.$height=(0,l.getCalculatedRowHeight)(k,{rowHeight:c.config.rowHeight})||c.config.rowHeight}else v.$height=v.height||c.config.rowHeight;return v})},e.prototype._prepareDataFromTo=function(a,c,v){var m=this;return a.mapRange(c,v,function(k){var I=(0,l.getMaxRowHeight)(k,m.config.columns);return k.$height=(0,l.getCalculatedRowHeight)(I,{rowHeight:m.config.rowHeight})||m.config.rowHeight,k})},e.prototype._dragStart=function(a){if(this.config.dragMode&&(this.config.dragItem==="row"||this.config.dragItem==="both")&&!this.config.$editable){var c=this.getColumn(a.target.getAttribute("data-dhx-col-id"));if((c==null?void 0:c.draggable)===!1)return;var v=(0,f.locateNode)(a,"data-dhx-id"),m=v&&v.getAttribute("data-dhx-id");a.targetTouches&&(this._touch.start=!0);var k=[m];if(this.config.multiselection&&(k=y(y([],k,!0),this.selection.getCells().map(function($){return $.row.id}),!0)).length>1){for(var I=this.data.getInitialData(),P={},T=function($){var L=k[$],j=I==null?void 0:I.findIndex(function(M){return M.id==L});P[j]=L},H=0;H<k.length;H++)T(H);k=y([],Object.values(P),!0)}return _.dragManager.onMouseDown(a,k,[this._getRowGhost(k)])}},e.prototype._lazyLoad=function(){var a,c,v=this,m=this.data.dataProxy;if(m&&m.config){var k=this.data.getRawData(0,-1,null,2);if(!k.length)return;var I,P=(0,u.getRenderConfig)(this,k,{width:this.config.$width,height:this.config.$height}),T=m.config.limit,H=T,$=P.currentRows,L=$[0],j=$[$.length-1],M=this.data.getIndex(j.id),F=function(Y){for(var q=1;q<$.length;q++)if(Y==="firstFilledRow"&&!$[q].$empty&&$[q-1].$empty||Y==="firstEmptyRow"&&$[q].$empty&&!$[q-1].$empty)return v.data.getIndex($[q].id)};if(L.$empty)if(j.$empty)I=this.data.getIndex(L.id);else{var S=F("firstFilledRow"),R=S-H;R<0&&(R=0);for(var B=R;B<S;B++)if(this.data.getItem(this.data.getId(B)).$empty){I=B,H=S-B;break}}else j.$empty?I=F("firstEmptyRow"):(I=(a=F("firstEmptyRow"))!==null&&a!==void 0?a:this.data.getIndex(L.id),H=((c=F("firstFilledRow"))!==null&&c!==void 0?c:M)-I);!this.data.isDataLoaded(I,M)&&this.data.events.fire(_.DataEvents.beforeLazyLoad,[])&&(m.updateUrl(null,{from:I,limit:H}),m.config.limit=T,this.data.load(m).then(function(){v.config.autoHeight&&v._prepareDataFromTo(v.data,I,M)}))}},e.prototype._getColumnGhost=function(a){var c=this._container||(0,f.toNode)(this._uid),v=c.querySelector(".dhx_header-row"),m=v.querySelector('.dhx_grid-header-cell[data-dhx-id="'.concat(a.id,'"]')),k=Array.from(v.childNodes).indexOf(m)+1,I=c.querySelectorAll('.dhx_grid-header-cell[data-dhx-id="'.concat(a.id,'"]:not(.dhx_span-cell)')),P=c.querySelectorAll(".dhx_grid_data .dhx_grid-cell:nth-child(".concat(k,")")),T=document.createElement("div");return I.forEach(function(H){return T.appendChild(H.cloneNode(!0))}),P.forEach(function(H){return T.appendChild(H.cloneNode(!0))}),T},e.prototype._dragStartColumn=function(a,c){var v=a.target,m=function(k){return k.classList.contains("dhx_grid-custom-content-cell")};m(v.parentElement)||m(v.parentElement.parentElement)||!(c.draggable||this.config.dragItem==="column"&&c.draggable!==!1||this.config.dragItem==="both"&&c.draggable!==!1)||(0,f.locateNodeByClassName)(a,"dhx_resizer_grip_wrap")||(a.targetTouches&&(this._touch.start=!0),_.dragManager.onMouseDown(a,[c.id],[this._getColumnGhost(c)]))},e}(g.Grid);p.ProGrid=n},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.collectionStore=void 0;var w=x(1),C=function(){function y(){this._store={}}return y.prototype.setItem=function(g,d){this._store[g]=d},y.prototype.getItem=function(g){return(0,w.isId)(g)&&this._store[g]?this._store[g]:null},y}(),b=window.dhxHelpers=window.dhxHelpers||{};b.collectionStore=b.collectionStore||new C,p.collectionStore=b.collectionStore},function(O,p,x){(function(w){var C,b=this&&this.__extends||(C=function(f,l){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u[s]=r[s])},C(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=f}C(f,l),f.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)});Object.defineProperty(p,"__esModule",{value:!0}),p.LazyDataProxy=void 0;var y=x(32),g=x(1),d=x(47),_=function(f){function l(u,r){var s=f.call(this,u)||this;return s.config=(0,g.extend)({from:0,limit:50,delay:50,prepare:0},r),s.updateUrl(u,{from:s.config.from,limit:s.config.limit}),s}return b(l,f),l.prototype.load=function(){var u=this;return new w(function(r,s){u._timeout?(clearTimeout(u._timeout),u._timeout=setTimeout(function(){d.ajax.get(u.url,{responseType:"text"}).then(r).catch(s),u._cooling=!0},u.config.delay),u._cooling&&(r(null),u._cooling=!1)):(d.ajax.get(u.url,{responseType:"text"}).then(r).catch(s),u._cooling=!0,u._timeout=setTimeout(function(){}))})},l}(y.DataProxy);p.LazyDataProxy=_}).call(this,x(17))},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.Selection=void 0;var w=x(3),C=x(35),b=x(22),y=x(1),g=function(){function d(_,f,l){var u=this;this.events=l||new w.EventSystem(this),this._data=f,this.config=_,this._data.events.on(b.DataEvents.removeAll,function(){u._selected=null}),this._data.events.on(b.DataEvents.change,function(){if((0,y.isId)(u._selected)){var r=u._data.getNearId(u._selected);r!==u._selected&&(u._selected=null,r&&u.add(r))}})}return d.prototype.getId=function(){return this._selected},d.prototype.getItem=function(){return(0,y.isId)(this._selected)?this._data.getItem(this._selected):null},d.prototype.remove=function(_){return _=_??this._selected,!(0,y.isDefined)(_)||!!this.events.fire(C.SelectionEvents.beforeUnSelect,[_])&&(this._data.update(_,{$selected:!1},!0),this._selected=null,this.events.fire(C.SelectionEvents.afterUnSelect,[_]),!0)},d.prototype.add=function(_){this._selected!==_&&!this.config.disabled&&this._data.exists(_)&&(this.remove(),this._addSingle(_))},d.prototype.enable=function(){this.config.disabled=!1},d.prototype.disable=function(){this.remove(),this.config.disabled=!0},d.prototype._addSingle=function(_){this.events.fire(C.SelectionEvents.beforeSelect,[_])&&(this._selected=_,this._data.update(_,{$selected:!0},!0),this.events.fire(C.SelectionEvents.afterSelect,[_]))},d}();p.Selection=g},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.createFactory=void 0;var w=x(174),C=x(175),b=x(176),y=x(177),g=x(178),d=x(179),_=x(180),f=x(181),l=x(182),u=x(183),r=x(36);p.createFactory=function(s){for(var t=s.defaultType,n=s.allowedTypes,i=s.widgetName,e=s.widget,a=new Set,c=0,v=n;c<v.length;c++){var m=v[c];a.add(m)}var k=e.config,I=e.events,P=e.data;return function(T,H){if(T.hidden||!(T.type&&T.type!=="button"&&T.type!=="navItem"&&T.type!=="menuItem"||T.value||T.icon||T.html))return null;T.type=T.type||t,a&&!a.has(T.type)&&(T.type=t),T.type==="imageButton"&&i!=="ribbon"&&(T.active=!1),H&&T.type!=="spacer"&&T.type!=="separator"&&T.type!=="customHTML"&&(T.type="menuItem"),P.haveItems(T.id)&&function(L,j,M){switch(L){case"sidebar":case"context-menu":j.$openIcon="right";break;case"toolbar":j.parent===M.getRoot()?j.$openIcon="right":j.$openIcon="bottom";break;case"menu":j.parent!==this.data.getRoot()&&(j.$openIcon="right");break;case"ribbon":var F=M.getItem(j.parent);F&&j.type!=="block"&&(F.type==="block"?j.$openIcon="bottom":j.$openIcon="right")}}(i,T,P),i==="toolbar"&&T.items&&T.items.forEach(function(L){L.type||(L.type="menuItem")});var $=T.type!=="customHTML"&&function(L,j,M,F){switch(L.type){case"navItem":case"selectButton":return(0,C.navItem)(L,M,F.collapsed);case"button":return(0,w.button)(L,M);case"title":return(0,l.title)(L,M);case"separator":return(0,_.separator)(L,M);case"spacer":return(0,f.spacer)(L,M);case"input":return(0,g.input)(L,j,M);case"imageButton":return(0,y.imageButton)(L,M);case"menuItem":return(0,d.menuItem)(L,M,F.asMenuItem);case"customHTMLButton":return(0,b.customHTMLButton)(L,M,F.asMenuItem);case"datePicker":return(0,u.datePicker)(L,j,M);default:throw new Error("unknown item type "+L.type)}}(T,I,i,{asMenuItem:H,collapsed:i!=="sidebar"||k.collapsed});return(0,r.navbarComponentMixin)(i,T,H,$)}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.button=void 0;var C=x(0),b=x(36);p.button=function(y,g){var d=y.icon&&!y.value,_=d?" dhx_navbar-count--absolute":" dhx_navbar-count--button-inline";return(0,C.el)("button.dhx_button",w({class:(0,b.getNavbarButtonCSS)(y,g),"data-dhx-id":y.id,disabled:y.disabled,type:"button"},function(f){var l=f.active||f.$activeParent,u={"aria-disabled":f.disabled?"true":"false","aria-label":f.value||f.tooltip||f.id||""+" ".concat(f.count||"")};return f.items&&(u.id=f.id,u["aria-haspopup"]="menu",l&&(u["aria-expanded"]="true")),u}(y)),[y.icon?(0,b.getIcon)(y.icon,"button"):null,y.html?(0,C.el)("div.dhx_button__text",{".innerHTML":y.html}):y.value&&(0,C.el)("span.dhx_button__text",y.value),y.count>0&&(0,b.getCount)(y,_,d),y.value&&y.$openIcon?(0,C.el)("span.dhx_button__icon.dhx_button__icon--menu.dxi.dxi-menu-right",{"aria-hidden":"true"}):null,y.loading&&(0,C.el)("span.dhx_button__loading",{"aria-hidden":"true"},[(0,C.el)("span.dhx_button__loading-icon.dxi.dxi-loading")])])}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.navItem=void 0;var C=x(0),b=x(36);p.navItem=function(y,g,d){var _=" dhx_"+g+"-button";return(0,C.el)("button",w({class:"dhx_button"+_+(y.active||y.$activeParent?_+"--active":"")+(y.disabled?_+"--disabled":"")+(y.$openIcon?_+"--select":"")+(y.circle?_+"--circle":"")+(y.size?" "+_+"--"+y.size:"")+(!y.value&&y.icon?_+"--icon":"")+(y.css?" "+y.css:""),"data-dhx-id":y.id,disabled:y.disabled,type:"button"},function(f){var l={"aria-disabled":f.disabled?"true":"false","aria-label":f.value||" "},u=f.active||f.$activeParent;return f.type==="selectButton"||f.items?(l.id=f.id,l["aria-haspopup"]="menu",u&&(l["aria-expanded"]="true")):((f.twoState||u)&&(l["aria-pressed"]=u?"true":"false"),!f.value&&f.icon&&f.tooltip&&(l["aria-label"]="".concat(f.tooltip," ").concat(f.count||""))),l}(y)),[y.icon&&(0,C.el)("span",{class:y.icon+_+"__icon","aria-hidden":"true"}),y.html&&(0,C.el)("div",{class:_.trim()+"__html",".innerHTML":y.html}),!y.html&&y.value&&(0,C.el)("span",{class:_.trim()+"__text"},y.value),y.count>0&&(0,b.getCount)(y,_+"__count",d),y.$openIcon&&(0,C.el)("span.dxi.dxi-menu-right",{class:_+"__caret","aria-hidden":"true"})])}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(b){for(var y,g=1,d=arguments.length;g<d;g++)for(var _ in y=arguments[g])Object.prototype.hasOwnProperty.call(y,_)&&(b[_]=y[_]);return b},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.customHTMLButton=void 0;var C=x(0);p.customHTMLButton=function(b,y,g){var d=g?" dhx_button dhx_menu-button":" dhx_button dhx_nav-menu-button";return(0,C.el)("button",w({class:"dhx_custom-button"+d+(b.$activeParent?d+"--active":""),"data-dhx-id":b.id,type:"button",".innerHTML":b.html},function(_){var f={"aria-disabled":_.disabled?"true":"false"};return(_.twoState||_.active||_.$activeParent)&&(f["aria-pressed"]=_.active||_.$activeParent?"true":"false"),f}(b)),b.html?"":b.value)}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.imageButton=void 0;var C=x(0),b=x(36);p.imageButton=function(y,g){var d="dhx_"+g+"-button-image",_=g==="ribbon";return(0,C.el)("button.dhx_button",w({class:d+(y.size?" "+d+"--"+y.size:"")+(!y.value&&y.src?" "+d+"--icon":"")+(_&&y.$openIcon?" "+d+"--select":"")+(y.active?" "+d+"--active":""),"data-dhx-id":y.id,type:"button"},function(f){var l={"aria-disabled":f.disabled?"true":"false"};return(f.twoState||f.active)&&(l["aria-pressed"]=f.active?"true":"false"),!f.value&&f.src&&f.tooltip&&(l["aria-label"]="".concat(f.tooltip," ").concat(f.count||"")),l}(y)),[_&&y.value&&y.$openIcon&&(0,C.el)("span.dxi.dxi-menu-right",{class:d+"__caret","aria-hidden":"true"}),y.html?(0,C.el)("div",{class:d+"__text",".innerHTML":y.html}):y.value&&(0,C.el)("span",{class:d+"__text"},y.value),y.src&&(0,C.el)("span",{class:d+"__image",style:{backgroundImage:"url(".concat(y.src,")")},role:"presentation"}),y.count>0&&(0,b.getCount)(y,d+"__count",!0)])}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.input=void 0;var w=x(0),C=x(38);function b(d,_){d.fire(C.NavigationBarEvents.inputBlur,[_])}function y(d,_){d.fire(C.NavigationBarEvents.inputFocus,[_])}function g(d,_,f){d.fire(C.NavigationBarEvents.inputChange,[_,f.target.value])}p.input=function(d,_,f){return(0,w.el)(".dhx_form-group.dhx_form-group--no-message-holder"+(d.hiddenLabel?".dhx_form-group--label_sr":".dhx_form-group--inline")+".dhx_".concat(f,"__input"),{style:{width:d.width?d.width:"200px"},role:"presentation"},[d.label&&(0,w.el)("label.dhx_label",{for:d.id,style:{maxWidth:d.hiddenLabel?null:"100%"}},d.label),(0,w.el)(".dhx_input__wrapper",{role:"presentation"},[(0,w.el)("input.dhx_input",{id:d.id,placeholder:d.placeholder,class:d.icon?"dhx_input--icon-padding":"",autocomplete:d.autocomplete?"on":"off",value:d.value,disabled:d.disabled,onblur:[b,_,d.id],onfocus:[y,_,d.id],onchange:[g,_,d.id],"data-dhx-id":d.id,_hooks:{didInsert:function(l){_&&_.fire(C.NavigationBarEvents.inputCreated,[d.id,l.el])}},_key:d.id,"aria-label":d.label||d.helpMessage||"type ".concat(d.placeholder?"text like "+d.placeholder:"text")}),d.icon?(0,w.el)(".dhx_input__icon",{class:d.icon,"aria-hidden":"true"}):null])])}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(g){for(var d,_=1,f=arguments.length;_<f;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.menuItem=void 0;var C=x(0),b=x(36),y=x(1);p.menuItem=function(g,d,_){var f=_?" dhx_menu-button":" dhx_nav-menu-button",l=(0,y.isDefined)(g.count);return(0,C.el)("button",w({class:"dhx_button"+f+(g.disabled?f+"--disabled":"")+(g.active||g.$activeParent?f+"--active":""),disabled:g.disabled,"data-dhx-id":g.id,type:"button"},function(u){var r={role:"menuitem","aria-disabled":u.disabled?"true":"false"};return u.items&&(r["aria-haspopup"]="true"),r}(g)),_?[g.icon||g.value||g.html?(0,C.el)("span.dhx_menu-button__block.dhx_menu-button__block--left",[g.icon&&(0,C.el)("span.dhx_menu-button__icon",{class:g.icon}),g.html?(0,C.el)("div.dhx_menu-button__text",{".innerHTML":g.html}):g.value&&(0,C.el)("span.dhx_menu-button__text",g.value)]):null,l||g.hotkey||g.items?(0,C.el)("span.dhx_menu-button__block.dhx_menu-button__block--right",[l&&(0,b.getCount)(g," dhx_menu-button__count",!1),g.hotkey&&(0,C.el)("span.dhx_menu-button__hotkey",g.hotkey),g.items&&(0,C.el)("span.dhx_menu-button__caret.dxi.dxi-menu-right")]):null]:[g.icon&&(0,C.el)("span.dhx_menu-button__icon",{class:g.icon}),g.html?(0,C.el)("div.dhx_menu-button__text",{".innerHTML":g.html}):g.value&&(0,C.el)("span.dhx_nav-menu-button__text",g.value),l&&(0,b.getCount)(g," dhx_menu-button__count",!1)])}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.separator=void 0,p.separator=function(w,C){return null}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.spacer=void 0,p.spacer=function(w,C){return null}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.title=void 0;var w=x(0);p.title=function(C,b){return(0,w.el)("span",{class:"dhx_navbar-title dhx_navbar-title--"+b,"data-dhx-id":C.id,".innerHTML":C.html,"aria-label":C.value||""},C.html?null:C.value)}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.datePicker=void 0;var C=x(0),b=x(48),y=x(11),g=x(38),d=x(24),_=x(2);function f(r,s,t){var n=t.target;n&&(n.value=s.$calendar.getValue()),r.fire(g.NavigationBarEvents.inputBlur,[s==null?void 0:s.id])}function l(r,s,t){(0,C.awaitRedraw)().then(function(){return s.$popup.show(t.target,{theme:t.target})}),r.fire(g.NavigationBarEvents.inputFocus,[s==null?void 0:s.id])}function u(r,s,t){var n=t.target.value,i=r.$calendar.config.dateFormat;return n.length?(0,d.stringToDate)(n,i,!0)&&r.$calendar.setValue((0,d.stringToDate)(n,i)):r.$calendar.clear(),s.fire(g.NavigationBarEvents.input,[(0,_.locate)(t),n]),!1}p.datePicker=function(r,s,t){r.$popup||(r.$popup=new y.Popup),r.$calendar||(r.$calendar=new b.Calendar(null,w(w({},r),{css:"dhx_widget--bordered"})),r.$popup.attach(r.$calendar),r.$calendar.events.on("change",function(i,e,a){var c;a&&r.$popup.isVisible()&&r.$popup.hide();var v=((c=r.valueFormat)===null||c===void 0?void 0:c.toLowerCase())==="date";s.fire(g.NavigationBarEvents.inputChange,[r.id,r.$calendar.getValue(v)])}));var n=r.$calendar.getValue();return r.mode&&r.mode!=="calendar"&&r.$calendar.showDate(void 0,r.mode),(0,C.el)(".dhx_form-group.dhx_form-group--no-message-holder"+(r.hiddenLabel?".dhx_form-group--label_sr":".dhx_form-group--inline")+".dhx_".concat(t,"__input"),{style:{width:r.width?r.width:"200px"},role:"presentation"},[r.label&&(0,C.el)("label.dhx_label",{for:r.id,style:{maxWidth:r.hiddenLabel?null:"100%"}},r.label),(0,C.el)(".dhx_input__wrapper",{role:"presentation"},[(0,C.el)("input.dhx_input",{id:r.id,placeholder:r.placeholder,class:r.icon?"dhx_input--icon-padding":"",value:n,disabled:r.disabled,onblur:[f,s,r],onfocus:[l,s,r],oninput:[u,r,s],"data-dhx-id":r.id,readOnly:r.editable!==!0,_hooks:{didInsert:function(i){s&&s.fire(g.NavigationBarEvents.inputCreated,[r.id,i.el])}},_key:r.id,"aria-label":r.label||r.helpMessage||"type ".concat(r.placeholder?"text like "+r.placeholder:"text")}),r.icon?(0,C.el)(".dhx_input__icon",{class:r.icon,"aria-hidden":"true"}):null])])}},function(O,p,x){var w,C=this&&this.__extends||(w=function(_,f){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&(l[r]=u[r])},w(_,f)},function(_,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function l(){this.constructor=_}w(_,f),_.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)});Object.defineProperty(p,"__esModule",{value:!0}),p.Menu=void 0;var b=x(1),y=x(0),g=x(30),d=function(_){function f(l,u){var r=_.call(this,l,(0,b.extend)({$name:"menu"},u))||this;return r.mount(l,(0,y.create)({render:function(){return r._draw()}})),r}return C(f,_),f.prototype._getFactory=function(){return(0,g.createFactory)({widget:this,defaultType:"menuItem",allowedTypes:["menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"menu-nav"})},f.prototype._draw=function(){return(0,y.el)("ul.dhx_widget",{"data-dhx-widget-id":this._uid,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,onkeydown:this._handlers.onkeydown,class:"dhx_menu-nav "+(this.config.css?this.config.css:"")},this._drawMenuItems(this.data.getRoot(),!1))},f}(g.Navbar);p.Menu=d},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Exporter=void 0;var C=x(2),b=function(){function y(g,d,_){this._name=g,this._version=d,this._view=_}return y.prototype.pdf=function(g){this._rawExport(g,"pdf",this._view)},y.prototype.png=function(g){this._rawExport(g,"png",this._view)},y.prototype._rawExport=function(g,d,_){var f=this;if(g===void 0&&(g={}),g.url=g.url||"https://export.dhtmlx.com/"+this._name+"/"+d+"/"+this._version,d==="pdf"){var l=g.pdf||{};g.pdf=w(w({},l),{printBackground:!1})}var u="",r=_.config.exportStyles;(typeof g.exportStyles=="boolean"||Array.isArray(g.exportStyles))&&(r=g.exportStyles),r===!0?u="".concat((0,C.getPageLinksCss)(),"<style>").concat((0,C.getPageInlineCss)(),"</style>"):r.length&&(u="".concat((0,C.getPageLinksCss)(r)));var s=`
				`.concat(u,`
				`).concat(_.getRootView().node.el.parentNode.innerHTML,`
			`).replace(/(src|href)=("(.+?\.(jpeg|jpg|png|apng|gif|svg|bmp|ico))")/gm,function(n){if(n.includes("://"))return n;var i=n.replace(/(src|href)="/,"").replace('"',"");return/(src|href)="/.exec(n)[0]+f._normalizeLink(i)+'"'}),t=document.createElement("form");t.setAttribute("method","POST"),t.setAttribute("action",g.url),t.innerHTML='<input type="hidden" name="raw"><input type="hidden" name="config">',t.childNodes[0].value=s,t.childNodes[1].value=JSON.stringify(g),document.body.appendChild(t),t.submit(),setTimeout(function(){t.parentNode.removeChild(t)},100)},y.prototype._normalizeLink=function(g){var d=window.location.pathname.split("/");return d[0]===""&&(d.shift(),d.pop()),window.location.origin+"/"+d.join("/")+(g[0]!=="/"?"/"+g:g)},y}();p.Exporter=b},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(g){for(var d,_=1,f=arguments.length;_<f;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},w.apply(this,arguments)},C=this&&this.__spreadArray||function(g,d,_){if(_||arguments.length===2)for(var f,l=0,u=d.length;l<u;l++)!f&&l in d||(f||(f=Array.prototype.slice.call(d,0,l)),f[l]=d[l]);return g.concat(f||Array.prototype.slice.call(d))};Object.defineProperty(p,"__esModule",{value:!0}),p.Selection=void 0;var b=x(27),y=function(){function g(d,_){var f=this;this._selected=[],this._selectedLines=[],this.events=_,this._data=d,this._data.events.on(b.DataEvents.removeAll,function(){return f.clear()}),this._data.events.on(b.DataEvents.afterRemove,function(l){var u=l.id;return f.remove({id:u})})}return g.prototype.add=function(d){var _,f=d.id,l=d.join,u=l!==void 0&&l,r=d.batch,s=r===void 0?[]:r,t=this._data.getItem(f);if((t==null?void 0:t.type)==="$sgroup"&&(f=t.$group),!t||this.includes({id:f})||!u&&!this.remove()||!this.events.fire(b.SelectionEvents.beforeSelect,[{id:f,join:u,batch:s}]))return!1;var n=t.$item.getBaseType();if(!this.includes({id:f})){var i=n!=="line"||n==="line"&&u&&this._selected.length;this._data.update(f,{$selected:i},!0),n==="line"&&this._selectedLines.push(f),this._selected.length&&this._selectedLines.length&&!(!((_=this._data.getItem(this._selectedLines[0]))===null||_===void 0)&&_.$selected)&&this._data.update(this._selectedLines[0],{$selected:!0},!0),this._selected.push(f)}return this.events.fire(b.SelectionEvents.afterSelect,[{id:f,join:u,batch:s}]),!0},g.prototype.remove=function(d){var _=this;if(!d){var f=C([],this._selected,!0);return f.map(function(l){return _.unselect({id:l,batch:f})}).every(function(l){return l})}return!!this.includes(w({},d))&&this.unselect(d)},g.prototype.includes=function(d){var _=d.id;return this._selected.includes(_)},g.prototype.getItem=function(d){var _=this._selected[this._selected.length-1];return d&&this.includes({id:d.id})&&(_=d.id),this._data.getItem(_)},g.prototype.getIds=function(){return this._selected},g.prototype.clear=function(){this._data&&this._data.forEach(function(d){d.$selected&&delete d.$selected}),this._selected=[],this._selectedLines=[]},g.prototype.unselect=function(d){var _=d.id,f=d.batch,l=f===void 0?[]:f;return!!this.events.fire(b.SelectionEvents.beforeUnSelect,[{id:_,batch:l}])&&(this._selected=this._selected.filter(function(u){return u!==_}),this._data.update(_,{$selected:void 0},!0),this._selectedLines.some(function(u){return u==_})&&(this._selectedLines=this._selectedLines.filter(function(u){return u!==_})),this._selected.length===1&&this._selectedLines.length===1&&this._data.update(this._selectedLines[0],{$selected:void 0},!0),this.events.fire(b.SelectionEvents.afterUnSelect,[{id:_,batch:l}]),!0)},g}();p.Selection=y},function(O,p,x){var w,C=this&&this.__extends||(w=function(g,d){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,f){_.__proto__=f}||function(_,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(_[l]=f[l])},w(g,d)},function(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function _(){this.constructor=g}w(g,d),g.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)});Object.defineProperty(p,"__esModule",{value:!0}),p.ImgCard=void 0;var b=x(0),y=function(g){function d(){return g!==null&&g.apply(this,arguments)||this}return C(d,g),d.prototype.setDefaults=function(_,f){var l=_.width,u=_.height,r=_.text,s=_.title,t=_.headerColor,n=_.fixed,i=f.width?parseFloat(f.width):210,e=f.height?parseFloat(f.height):90;return _.width=l||i,_.height=u||e,_.title=typeof s=="string"?s:f.title||"",_.text=typeof r=="string"?r:f.text||"",_.headerColor=t||f.headerColor||"",_.fixed=n||!1,_.editable=typeof _.editable!="boolean"||_.editable,_},d.prototype.getCss=function(){return"dhx_diagram_shape_card-img "+g.prototype.getCss.call(this)},d.prototype.getContent=function(){var _=this.config,f=_.img,l=_.headerColor,u=_.title,r=_.text,s=_.$editable,t=_.width,n=f?"".concat(f):null;return[(0,b.el)("img.dhx_diagram_item__image",{style:{backgroundColor:f?null:l},src:n}),(0,b.el)("div.dhx_diagram_item__title",s&&this.editableProperty.key==="title"?[this.getEditorNode()]:u),(0,b.el)("div.dhx_diagram_item__text",{style:{maxWidth:t-80,marginLeft:80,marginTop:u?null:"12px"}},s&&this.editableProperty.key==="text"?[this.getEditorNode()]:r)]},d}(x(89).Card);p.ImgCard=y},function(O,p,x){var w,C=this&&this.__extends||(w=function(l,u){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])},w(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function r(){this.constructor=l}w(l,u),l.prototype=u===null?Object.create(u):(r.prototype=u.prototype,new r)}),b=this&&this.__assign||function(){return b=Object.assign||function(l){for(var u,r=1,s=arguments.length;r<s;r++)for(var t in u=arguments[r])Object.prototype.hasOwnProperty.call(u,t)&&(l[t]=u[t]);return l},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.TextShape=void 0;var y=x(0),g=x(2),d=x(28),_=x(19),f=function(l){function u(r,s){var t=l.call(this,r,s)||this;return t.data=s.data,t}return C(u,l),u.prototype.render=function(){var r=this.getCoords(this.config),s=this.config,t=s.id,n=s.angle,i=s.text,e=s.fontSize,a=s.lineHeight,c=s.fontWeight,v=s.fontStyle,m=s.width,k=s.height,I={fontSize:"".concat(e,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(a,"px"),fontWeight:c,fontStyle:v};if(this._prevValue&&this.config.text!==this._prevValue){var P=(0,g.getStrSize)(i,I);this.data.update(this.id,{height:P.height+2,width:P.width+4})}this._prevValue=this.config.text;var T=this.config.$group||this.config.$selected?this.config.$selected?2:1:0;return(0,y.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_text",{_key:t,class:this.getCss(),"data-dhx-id":t,style:{zIndex:T,width:m,height:k,position:"absolute",top:r.y,left:r.x,transform:"rotate(".concat(n||0,"deg)")}},[].concat((0,_.getTextTemplate)(this.config,this.getContent())))},u.prototype.setDefaults=function(r,s){var t=r.width,n=r.height,i=r.fontColor,e=r.fontSize,a=r.fontStyle,c=r.textAlign,v=r.lineHeight,m=r.textVerticalAlign,k=r.text,I=r.fontWeight,P=r.x,T=r.y,H=r.fixed,$=r.editable,L=s.lineHeight?parseFloat(s.lineHeight):14,j=s.fontSize?parseFloat(s.fontSize):14,M={fontSize:"".concat(e||j,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(v||L,"px"),fontWeight:I,fontStyle:a},F=(0,g.getStrSize)(k,M),S=s.width?parseFloat(s.width):F.width+4,R=s.height?parseFloat(s.height):F.height+2;return r.width=t||S,r.height=n||R,r.lineHeight=v||L,r.fontSize=e||j,r.text=k||s.text||"",r.fontColor=i||s.fontColor||"#4C4C4C",r.textAlign=c||s.textAlign||"center",r.fontStyle=a||s.fontStyle||"normal",r.textVerticalAlign=m||s.textVerticalAlign||"center",r.x=P||0,r.y=T||0,r.fixed=H||!1,r.editable=typeof $!="boolean"||$,r},u.prototype.getContent=function(){var r=this.config,s=r.$editable,t=r.text;return(0,y.el)("span.dhx_diagram_item__text",{style:b({},(0,_.getShapeCss)(this.config))},s?[this.getEditorNode()]:t)},u}(d.BaseShape);p.TextShape=f},function(O,p,x){var w,C=this&&this.__extends||(w=function(u,r){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,t){s.__proto__=t}||function(s,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])},w(u,r)},function(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=u}w(u,r),u.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}),b=this&&this.__assign||function(){return b=Object.assign||function(u){for(var r,s=1,t=arguments.length;s<t;s++)for(var n in r=arguments[s])Object.prototype.hasOwnProperty.call(r,n)&&(u[n]=r[n]);return u},b.apply(this,arguments)},y=this&&this.__spreadArray||function(u,r,s){if(s||arguments.length===2)for(var t,n=0,i=r.length;n<i;n++)!t&&n in r||(t||(t=Array.prototype.slice.call(r,0,n)),t[n]=r[n]);return u.concat(t||Array.prototype.slice.call(r))};Object.defineProperty(p,"__esModule",{value:!0}),p.TopicShape=void 0;var g=x(0),d=x(2),_=x(28),f=x(19),l=function(u){function r(s,t){var n=u.call(this,s,t)||this;return n.data=t.data,n}return C(r,u),r.prototype.render=function(){var s=this,t=this.getCoords(this.config),n=this.config,i=n.id,e=n.angle,a=n.width,c=n.height,v=n.fontSize,m=n.lineHeight,k=n.fontWeight,I=n.fontStyle,P=n.text,T=n.strokeWidth,H=n.$group,$=n.$selected,L=H||$?$?2:1:0,j={fontSize:"".concat(v,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(m,"px"),fontWeight:k,fontStyle:I,strokeWidth:T};if(this._oldText&&this.config.text!==this._oldText){var M=(0,d.getStrSize)(P,j),F=M.width+16,S=M.height+8;this.data.update(this.id,{height:S>30?S:30,width:F>60?F:60})}this._oldText=this.config.text;var R=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(B,Y){R.push((0,f.getCircleTpl)(s.config,Y))}):R.push((0,f.getCircleTpl)(this.config)),(0,g.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_topic",{_key:i,"data-dhx-id":i,class:this.getCss(),style:{position:"absolute",width:a,height:c,left:t.x,top:t.y,transform:"rotate(".concat(e||0,"deg)"),zIndex:L}},[].concat.apply([],y([(0,f.getTextTemplate)(this.config,this.getContent())],R,!1)))},r.prototype.getContent=function(){var s=this.config,t=s.height,n=s.width,i=s.strokeWidth,e=s.strokeType,a=s.fill,c=s.stroke,v=s.text,m=s.$editable,k="none";return e!=="line"&&e||(k="solid"),e==="dash"&&(k="dashed"),[(0,g.el)("div.dhx_diagram_item__text",{style:b({height:t,width:n,border:"".concat(i,"px ").concat(k," ").concat(c||"#03A9F4"),background:a,borderRadius:"".concat(t/2)},(0,f.getShapeCss)(this.config))},m?[this.getEditorNode()]:v)]},r.prototype.setDefaults=function(s,t){var n=s.width,i=s.height,e=s.fontColor,a=s.fontSize,c=s.fontStyle,v=s.textAlign,m=s.lineHeight,k=s.textVerticalAlign,I=s.text,P=s.fontWeight,T=s.x,H=s.y,$=s.fill,L=s.strokeWidth,j=s.stroke,M=s.strokeType,F=s.fixed,S=s.editable,R=t.lineHeight?parseFloat(t.lineHeight):14,B=t.fontSize?parseFloat(t.fontSize):14,Y=t.strokeWidth?parseFloat(t.strokeWidth):1;s.lineHeight=m||R,s.fontSize=a||B,s.text=I||t.text||"",s.fill=$||t.fill||"#fff",s.fontColor=e||t.fontColor||"#4C4C4C",s.textAlign=v||t.textAlign||"center",s.fontStyle=c||t.fontStyle||"normal",s.textVerticalAlign=k||t.textVerticalAlign||"center",s.strokeWidth=L||Y,s.stroke=j||t.stroke,s.strokeType=M||t.strokeType||"line";var q={fontSize:"".concat(a||B,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(m||R,"px"),fontWeight:P,fontStyle:c,strokeWidth:s.strokeWidth},U=(0,d.getStrSize)(I,q),V=t.width?parseFloat(t.width):U.width+24,A=t.height?parseFloat(t.height):U.height+12;return s.height=A>30||i>30?i||A:30,s.width=V>60||n>60?n||V:60,s.x=T||0,s.y=H||0,s.fixed=F||!1,s.editable=typeof S!="boolean"||S,s},r}(_.BaseShape);p.TopicShape=l},function(O,p,x){var w,C=this&&this.__extends||(w=function(l,u){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])},w(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function r(){this.constructor=l}w(l,u),l.prototype=u===null?Object.create(u):(r.prototype=u.prototype,new r)});Object.defineProperty(p,"__esModule",{value:!0}),p.Toolbar=void 0;var b=x(0),y=x(2),g=x(27),d=x(5),_=x(21),f=function(l){function u(r,s){var t=l.call(this,null,{height:50,iconWidth:30,gap:16,icons:s})||this;return t.events=r,t._handlers={onclick:(0,y.eventHandler)(function(n){return(0,y.locate)(n)},{dhx_diagram_toolbar__icon:function(n,i){t.events.fire(g.DiagramEvents.shapeIconClick,[i,n])}}),tooltip:(0,y.eventHandler)(function(n){return(0,y.locate)(n)},{dhx_diagram_toolbar__icon:function(n,i){var e=(0,y.locateNode)(n);if(e){var a=s.find(function(c){return c.id===i});a!=null&&a.tooltip&&(0,_.tooltip)(a.tooltip,{node:e,position:_.Position.top})}}})},t}return C(u,l),u.prototype.render=function(r,s,t){if(r){var n=this.config,i=this._getIcons(r,n.icons),e=n.iconWidth*i.length+n.gap,a=this._getCoords(r,{width:e/s.scale,height:n.height/s.scale,x:t==null?void 0:t.x,y:t==null?void 0:t.y});return(0,b.el)("div",{class:"dhx_diagram_toolbar",style:{display:this._hidden||!i.length?"none":"block",maxHeight:this.config.height,width:e,top:(a.y-s.top)*s.scale,left:(a.x-s.left)*s.scale},onclick:this._handlers.onclick,onmouseover:this._handlers.tooltip},[(0,b.el)("div.dhx_diagram_toolbar__wrapper",i)])}},u.prototype.hide=function(){this._hidden=!0,this.paint()},u.prototype.show=function(){this._hidden=!1,this.paint()},u.prototype._getIcons=function(r,s){for(var t=[],n=0;n<s.length;n++){var i=s[n];if(!i.check||i.check(r)){var e=i.css?i.css(r):"",a={_key:i.id,class:"dhx_diagram_toolbar__icon "+e,"data-dhx-id":i.id},c=typeof i.content=="function"?i.content(r):i.content;typeof c=="string"?(a[".innerHTML"]=c,t.push((0,b.el)("div",a))):t.push((0,b.el)("div",a,[c]))}}return t},u.prototype._getCoords=function(r,s){var t,n,i=s.width,e=s.height,a=s.x,c=s.y;if(Array.isArray(r)){var v=r.map(function(m){return m.$item.getBox()});n={},v.forEach(function(m){for(var k in m)(isNaN(n[k])||(k==="top"||k==="left")&&m[k]<n[k]||(k==="bottom"||k==="right")&&m[k]>n[k])&&(n[k]=m[k])})}else{if(((t=r.$item)===null||t===void 0?void 0:t.getBaseType())==="line"&&!r.$subSelected)return{x:a+25,y:c-e/2};n=r.$item.getBox()}return{x:n.right/2+n.left/2-i/2,y:n.top-e-8}},u}(d.View);p.Toolbar=f},function(O,p,x){var w=this&&this.__spreadArray||function(v,m,k){if(k||arguments.length===2)for(var I,P=0,T=m.length;P<T;P++)!I&&P in m||(I||(I=Array.prototype.slice.call(m,0,P)),I[P]=m[P]);return v.concat(I||Array.prototype.slice.call(m))};Object.defineProperty(p,"__esModule",{value:!0});var C=x(192),b=x(193),y=x(194),g=function(){function v(){}return v.prototype.layout=function(m,k){if(m.routes=new b.default,!k.full){var I=d(m,k);return k.preserveLocation||f(I.n,I.size),u(I.mx,I.n,I.n,I.size),I.n,m.setGlobalBox(),m}var P=(0,y.split)(m);if(P.length==1&&P[0].root!==null)return new C.default().layout(P[0].g,k);(m=P[0].g).routes=new b.default;var T,H,$,L,j,M=d(m,k);return k.preserveLocation||f(M.n,M.size,function(F,S){if(!S)return F[0].g.getNodes()[0].id;var R=S;if(F[0].g.getNodes().find(function(Y){return Y.id===S}))return R;for(var B=1;B<F.length;B++)if(F[B].g.getNodes().find(function(Y){return Y.id===S})){R=F[B].root;break}return R}(P,k.root)),u(M.mx,M.n,M.n,M.size),M.n,k.full&&(function(F,S,R,B){R.length,R.forEach(function(V){return V.iss=""});var Y=[].concat(R).filter(function(V){return V.links.length>=3}).sort(function(V,A){return V.links.length>A.links.length?-1:V.links.length==A.links.length?0:1});if(Y.map(function(V){var A=[];return V.links.forEach(function(N){var W=Math.atan2(N.x-V.x,N.y-V.y)+Math.PI,Q=Math.ceil(W/(2*r))*2*r,X=Math.floor(W/(2*r))*2*r;A.push([N,Q,Math.abs(W-Q)]),A.push([N,X,Math.abs(W-X)])}),A.sort(function(N,W){return N[2]>W[2]?1:-1}),[V,A]}).forEach(function(V){var A=V[0],N=V[1],W=A.x,Q=A.y;A.x=Math.round(A.x/B)*B,A.y=Math.round(A.y/B)*B;for(var X=0;X<N.length;X++){var K=N[X],ne=K[0];if(!F.getRoute(A.id,ne.id)){var ie=t(A,ne,K[1],B,W,Q),oe=ie[0],re=ie[1],le=ie[2],ue=ie[3];F.hasRoute(A.id,le,ue)||F.isAligned(ne.id)||(ne.x+=oe,ne.y+=re,F.addRoute(A.id,ne.id,le,ue))}}}),u(S,R,R.filter(function(V){return!F.isAligned(V.id)}),B),Y.forEach(function(V){F.isAligned(V.id)||(V.x=Math.round(V.x/B)*B,V.y=Math.round(V.y/B)*B),V.links.forEach(function(A){A.links.length==2&&s(V,A,F,B)})}),Y.length===0){var q=R[0],U=R[0].links[0];U.x=Math.round(U.x/B)*B,U.y=Math.round(U.y/B)*B,s(q,U,F,B)}}(m.routes,M.mx,M.n,M.size),T=m,H=M.mx,$=P.slice(1).sort(c),L=M.size,j=T.getNodes().length,$.forEach(function(F){var S=F.g,R=F.root;new C.default().layout(S,{root:S.getNodes()[0].id});var B=function(q,U,V,A,N,W,Q){return U.map(function(X){if(!X[2]&&!X[3]&&V.routes.hasRoute(N,X[0],X[1]))return null;var K=A.copy(),ne=V.copy(),ie=K.getRoot(),oe=ne.hash[N];K.rotate({x:-X[0],y:X[1]});var re=K.getBox(),le=re[0][1]-re[0][0],ue=re[1][1]-re[1][0];(function(ge,ce,he,ve,be,xe,ye,z){var ae,Ce,Ee=ce.x+(z[2]||z[0])*ye,Fe=ce.y+(z[3]||z[1])*ye;if(a(ge,Ee-ye/2,Ee+ye/2,Fe-ye/2,Fe+ye/2))e(ge,Ee-ye/2*z[0],Fe-ye/2*z[1],he,ve,z,ye);else{var He,ke,Pe,Se,Lt=(z[0]?he:ve)/ye-1;if(!(Lt<=0)){var Ze=.45*ye;z[0]?(ke=(He=Ee+ye/2*z[0])+he*z[0],Se=(Pe=Fe-ve/2-Ze-xe)+ve+2*Ze):(ke=(He=Ee-he/2-Ze-be)+he+2*Ze,Se=(Pe=Fe+ye/2*z[1])+ve*z[1]),Pe>Se&&(Pe=(ae=[Se,Pe])[0],Se=ae[1]),He>ke&&(He=(Ce=[ke,He])[0],ke=Ce[1]),a(ge,He,ke,Pe,Se)&&e(ge,Ee,Fe,he,ve,z,ye)}}})(ne,oe,le,ue,ie.x-re[0][0]-le/2,ie.y-re[1][0]-ue/2,W,X),function(ge,ce,he,ve,be,xe){var ye=he.x+be*(xe[0]||xe[2])-ve.x,z=he.y+be*(xe[1]||xe[3])-ve.y;ce.translate({x:ye,y:z}),ge.importNodes(ce.getNodes())}(ne,K,oe,ie,W,X);var de=function(ge,ce){for(var he,ve,be=ce.length,xe=0,ye=0;ye<be;ye++){he=0,ve=0;for(var z=ce[ye],ae=ge[z.isn],Ce=0;Ce<be;Ce++)if(z.isn!=Ce){var Ee=ce[Ce],Fe=ae[Ee.isn],He=.5/(Fe*Fe),ke=z.x-Ee.x,Pe=z.y-Ee.y,Se=Math.sqrt(Math.pow(ke,2)+Math.pow(Pe,2));Se&&(he+=He*(ke-Fe*ke/Se),he+=He*(Pe-Fe*Pe/Se))}xe+=Math.sqrt(Math.pow(he,2)+Math.pow(ve,2))}return xe}(q,ne.getNodes().slice(0,Q));return{g:ne,s:de,dir:X}}).reduce(function(X,K){return!X||K&&K.s<X.s?K:X})}(H,i,T,S,R,L,j);if(B){T=B.g;var Y=S.getRoot().id;return B.dir[2]||B.dir[3]||T.routes.addRoute(R,S.getRoot().id,B.dir[0],B.dir[1]),T.hash[R].links.push(T.hash[Y]),void T.hash[Y].links.push(T.hash[R])}console.log("Can't position sub tree")}),m=T),m.setGlobalBox(),m},v}();function d(v,m){var k=v.getNodes(),I=0;k.forEach(function(T,H){T.isn=H,I+=T.w+T.h}),I=Math.round(I/(2*k.length)),m.itemPadding?I+=m.itemPadding:I*=2;var P=function(T){for(var H=[],$=T.getNodes(),L=0;L<$.length;L++){var j=H[L]=[];j[$[L].isn]=0,_($[L],j,L,1)}return H}(v);return{n:k,mx:P,size:I}}function _(v,m,k,I){for(var P=[v],T=[];P.length;){for(var H=0;H<P.length;H++)for(var $=P[H],L=0;L<$.links.length;L++){var j=$.links[L],M=j.isn;M==k||m[M]||(m[M]=I,T.push(j))}I++,P=T,T=[]}}function f(v,m,k){var I=v.findIndex(function($){return $.id===k});I>0&&v.unshift.apply(v,v.splice(I,1));var P=2*Math.PI/v.length,T=0,H=5*m;v.forEach(function($,L){$.x=Math.round(Math.cos(T)*H),$.y=Math.round(Math.sin(T)*H),T+=P}),I>0&&v.splice.apply(v,w([I,0],v.splice(0,1),!1))}function l(v,m,k,I){for(var P,T,H=0,$=0,L=0,j=0,M=m.length,F=k.length,S=0;S<F;S++){P=0,T=0;for(var R=k[S],B=v[R.isn],Y=0;Y<M;Y++)if(R.isn!=Y){var q=.5/((oe=B[(ie=m[Y]).isn])*oe),U=R.x-ie.x,V=R.y-ie.y;(re=Math.sqrt(Math.pow(U,2)+Math.pow(V,2)))&&(P+=q*(U-I*oe*U/re),T+=q*(V-I*oe*V/re))}var A=Math.sqrt(Math.pow(P,2)+Math.pow(T,2));A>$&&(H=R.isn,$=A,L=P,j=T)}var N,W=0,Q=0,X=0,K=m[H],ne=v[H];for(Y=0;Y<M;Y++)if(H!=Y){q=.5/((oe=ne[(ie=m[Y]).isn])*oe);var ie,oe,re,le=(U=K.x-ie.x)*U,ue=(V=K.y-ie.y)*V;(re=Math.sqrt(Math.pow(le+ue,3)))&&(W+=q*(1-I*oe*ue/re),Q+=q*I*oe*V*U/re,X+=q*(1-I*oe*le/re))}return[H,$,N=(-L/W+Q*j/(X*W))/(1+Q*Q/(X*W)),(-j-Q*N)/X]}function u(v,m,k,I){for(var P=0;P++<100;){var T=l(v,m,k,I),H=T[0],$=T[1],L=T[2],j=T[3];if($<10)break;m[H].x+=L,m[H].y+=j}}p.default=g;var r=Math.PI/4;function s(v,m,k,I){for(;;){var P=m.links[0];if(P==v&&(P=m.links[1]),v=m,(m=P).links.length>2)break;for(var T=Math.atan2(m.x-v.x,m.y-v.y)+Math.PI,H=2*Math.ceil(T/(2*r))*r,$=2*Math.floor(T/(2*r))*r,L=Math.abs(T-H)<Math.abs(T-$)?[H,$]:[$,H],j=0;j<L.length;j++){var M=t(v,m,L[j],I,v.x,v.y),F=M[0],S=M[1],R=M[2],B=M[3];if(!k.hasRoute(v.id,R,B)){if(k.isAligned(m.id))return;m.x+=F,m.y+=S,k.addRoute(v.id,m.id,R,B);break}}}}function t(v,m,k,I,P,T){return k<=r||k>7*r?[v.x-m.x,n(v.y,m.y,T,I),0,-1]:k<=3*r&&k>r?[n(v.x,m.x,P,I),v.y-m.y,-1,0]:k<=5*r&&k>3*r?[v.x-m.x,n(v.y,m.y,T,I),0,1]:[n(v.x,m.x,P,I),v.y-m.y,1,0]}function n(v,m,k,I){var P=Math.sign(k-m);return v-m-(Math.round((k-m)/I)||P)*I}var i=[[0,1,0,0],[1,0,0,0],[-1,0,0,0],[0,-1,0,0]].concat([[0,1,-1,1],[-1,0,-1,1],[0,1,1,1],[1,0,1,1],[1,0,1,-1],[0,-1,1,-1],[-1,0,-1,-1],[0,-1,-1,-1]]);function e(v,m,k,I,P,T,H){v.getNodes().forEach(function($){T[1]?Math.sign($.y-k)==T[1]&&($.y+=(P+H/2)*T[1]):T[0]&&Math.sign($.x-m)==T[0]&&($.x+=(I+H/2)*T[0])})}function a(v,m,k,I,P){for(var T=v.getNodes(),H=0;H<T.length;H++){var $=T[H];if($.x>=m&&$.x<=k&&$.y>=I&&$.y<=P)return!0}return!1}function c(v,m){var k=v.g.getNodes().length,I=m.g.getNodes().length;return k>I?-1:k===I?0:1}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0});var w=x(92),C=x(56),b=function(){function y(){this._step=0}return y.prototype.layout=function(g,d){g.root(g.toTree(g.hash[d.root]));var _=g.getNodes();d.levelPadding=d.levelPadding||this._getStep(_),d.itemPadding=d.itemPadding||this._getStep(_),d.dir=d.dir||w.Direction.Bottom,d.rotate=d.dir===w.Direction.Right||d.dir===w.Direction.Left;var f=w.DirVectors[d.dir];this._layout(g,d),g.setBox(),d.dir!==w.Direction.Bottom&&g.rotate(f);var l=g.getBox();return g.translate({x:-1*l[0][0],y:-1*l[1][0]}),g.setBox(),g},y.prototype._layout=function(g,d){var _=this,f=g.getRoot();if(f.x=f.y=0,g.getLevels().length==1)return g._symmetry=!0,"0";var l=f.kids.map(function(a){return new C.default(g,a,d)}),u={};l.forEach(function(a){var c=_._layout(a,d);u[c]?u[c].push(a):u[c]=[a]});for(var r=Object.keys(u).sort(function(a,c){var v=u[a][0],m=u[c][0],k=v._width,I=m._width;if(k>I)return-1;if(k<I)return 1;var P=v.getLevels().length,T=m.getLevels().length;return P>T?-1:P<T||a<c?1:-1}),s=0,t=0,n=0;n<r.length;n++)u[r[n]].length%2==1&&(s++,t=n);var i=!1,e=!1;return s==1?(u[r[t]][0]._symmetry&&(e=!0),i=!0,t!==0&&(r.unshift(r[t]),r.splice(t+1,1))):s===0&&(e=!0),g._symmetry=e,this._layout_place(g,u,r,i,d),g.getIString()},y.prototype._layout_place=function(g,d,_,f,l){for(var u={x:0,y:l.levelPadding},r=!0,s=0;s<_.length;s++)d[_[s]].forEach(function(t){if(f){f=!1,t.translate(u);for(var n=0,i=0,e=t.getLevelBounds(),a=0;a<e.length;a++){var c=e[a],v=c[0],m=c[1];g._bounds[a+1]=[v,m],v<n&&(n=v),m>i&&(i=m)}g._tbounds=[n,i]}else{var k=r?1:0,I=r?0:1;r&&t.mirror();var P=void 0,T=void 0;T=P=999999*(r?-1:1);for(var H=l.itemPadding,$=0;$<t._bounds.length;$++){var L=g.getBounds($+1,H,l.wide)[k]-t.getBounds($,H,l.wide)[I];(r&&L>T||!r&&L<T)&&(T=L)}t.translate({x:T,y:u.y});for(var j=0;j<g._bounds.length;j++){var M=void 0;M=j==0||j>t._bounds.length?g._bounds[j][k]:g._bounds[j][k]=t._bounds[j-1][k],(r&&M>P||!r&&M<P)&&(P=M)}g._tbounds[k]=P,r=!r}})},y.prototype._getStep=function(g){if(this._step===0){var d=g.length,_=0;g.forEach(function(f){return _+=f.w+f.h}),this._step=_/d}return this._step},y}();p.default=b},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0});var w=[1,2,4,8,0,16,32,64,128],C=function(){function b(){this._map={}}return b.prototype.getRoute=function(y,g){var d=this._map[y];return d&&d.map[g]||null},b.prototype.addRoute=function(y,g,d,_){this.addPath(y,g,d,_),this.addPath(g,y,-d,-_)},b.prototype.hasRoute=function(y,g,d){var _=this._map[y];return!!_&&(_.dir&this._code(g,d))>0},b.prototype.isAligned=function(y){return!!this._map[y]},b.prototype.isAxisAligned=function(y,g,d){var _=this._map[y];if(!_)return null;for(var f in _.map){var l=_.map[f];if(g&&l.dy||d&&l.dx)return!1}return!0},b.prototype.addPath=function(y,g,d,_,f){var l=this._map[y];l||(l=this._map[y]={map:{},dir:0}),l.map[g]={dx:d,dy:_,points:f},l.dir=l.dir|this._code(d,_)},b.prototype._code=function(y,g){return w[Math.sign(y)+1+3*(Math.sign(g)+1)]},b}();p.default=C},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.split=void 0;var w=x(56);function C(b,y){var g=new w.default;return g.importNodes(b),{g,root:y}}p.split=function(b){var y=b.getNodes();if(y.length<3)return[{g:b}];for(var g=y[0],d=[],_=y.length+1;_!=y.length;)_=y.length,y=y.filter(function(r){if(r.links.length==1){var s=b.hash[r.links[0].id];return s&&(s.links=s.links.filter(function(t){return t.id!=r.id})),d.push(r),!1}return!0});if(y.length<2)return d.filter(function(r){return r.links.length>0}).forEach(function(r){r.links[0].links.push(r)}),b.root(b.toTree(g)),[{g:b}];var f={};d.forEach(function(r){return f[r.id]=r});var l=d.filter(function(r){return!f[r.links[0].id]}).map(function(r){return[r]});d.forEach(function(r){var s=f[r.links[0].id];s&&s.links.push(r)});var u=l.map(function(r){for(var s,t=0;s=r[t++];){var n=s.links.length;if(n>1)for(var i=1;i<n;i++){var e=s.links[i];r.push(e)}}var a=r[0].links.splice(0,1)[0].id;return C(r,a)});return[C(y,null)].concat(u)}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.compose=void 0,p.compose=function(w,C){if(w.length<2)return w[0]||null;var b=w[0].getBox(),y=C.padding,g=w.reduce(function(d,_){var f=_.getBox();return _.translate({x:b[0][1]-f[0][0]+y,y:b[1][0]-f[1][0]}),d.importNodes(_.getNodes()),y+=C.padding+f[0][1]-f[0][0],d});return w.length&&g.setGlobalBox(),g}},function(O,p,x){function w(C,b){b[C.id]=1,C.links.forEach(function(y){b[y.id]||w(y,b)})}Object.defineProperty(p,"__esModule",{value:!0}),p.decompose=void 0,p.decompose=function(C){for(var b=[],y=function(){var d={},_=C.getNodes();if(!_.length)return{value:b};w(_[0],d);var f=C.split(function(l){return!d[l.id]});if(b.push(C),!f)return{value:b};C=f};;){var g=y();if(typeof g=="object")return g.value}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(s){for(var t,n=1,i=arguments.length;n<i;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e]);return s},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.placeMindmap=void 0;var C=x(1),b=x(39),y=x(93);function g(s){var t=[];return s.forEach(function(n){n.forEach(function(i){!t.includes(i)&&i&&t.push(i)})}),t}function d(s,t){var n=[];return function i(e){return e.forEach(function(a){var c=s.getItem(a[1]);if(c.$connection)i(c.$connection);else{var v=c.parent&&c.parent.toString()||s.getItem(s.getId(0)).id,m=[];for(m.push(c.id.toString());v;)m.push(v.toString()),v=s.getItem(v).parent;m.reverse(),n.push(m)}}),n}(t),n}function _(s,t,n,i,e,a){var c=g(s),v=0,m=t.margin,k=m.itemX,I=m.itemY,P=s.map(function(H){var $=[],L=[],j=i;H.forEach(function(S){if(e)(R=w({},n.getItem(S))).parent&&(j-=+k+ +R.width),$.push(j),L.push(v);else{var R=w({},n.getItem(S));$.push(j),L.push(v),j+=+k+ +R.width}});var M=H.map(function(S,R){var B=w({},n.getItem(S));return B._x=$[R],B._y=L[R],B}),F=function(S,R){for(var B,Y=0,q=0;q<S.length;q++){var U=(B=R.getItem(S[1]))===null||B===void 0?void 0:B.height;U&&U>Y&&(Y=U)}return Y}(H,n);return v+=I+F,M}),T=c.map(function(H){var $=[];P.forEach(function(M){var F=M.find(function(S){return S.id===H},!0);F&&$.push({x:F._x,y:F._y})});var L=$[0].x,j=$.reduce(function(M,F){return M+F.y},0)/$.length;return{id:H,x:L,y:j}});a.push(T[0]),c.forEach(function(H,$){if(H){var L=n.getItem(H);L.x=T[$].x,L.y=T[$].y,delete L._x,delete L._y}})}function f(s,t,n){g(s).forEach(function(i){i&&n.getIndex(i)!==0&&(n.getItem(i).y+=t)})}var l=function(s,t,n){return n.indexOf(s)===t};function u(s,t){var n=t.map(function(i){var e=!1;return i.map(function(a){if(!e)return s.getItem(a).open===!1&&(e=!0),a}).filter(function(a){return a})});return n.map(function(i){return JSON.stringify(i)}).filter(l).map(function(i){return JSON.parse(i)})}function r(s,t,n,i,e,a){if(a){var c=u(s,d(s,n));return i=function(m,k,I){var P=[];return m.forEach(function(T){P.push(function(H,$,L){var j=[];return H.length>1&&H.forEach(function(M,F){var S=$.getItem(M);F!==0&&!S.hidden&&$.getItem(S.parent).open&&j.push(S.width+L.margin.itemX)}),j.length||j.push(0),j.reduce(function(M,F){return M+F})}(T,k,I))}),Math.max.apply(Math,P)}(c,s,t),_(c,t,s,i,!0,e),{allLeftBranches:c,leftBranchWidth:i}}var v=u(s,d(s,n));return _(v,t,s,i,!1,e),{allRightBranches:v}}p.placeMindmap=function(s,t){var n=s.getRoots();if(n.length===1){var i=s.getItem(n[0]);if(i!=null&&i.$connection){var e,a,c=function(T,H,$){var L,j,M=$.typeConfig,F=T.$connection,S=[],R=[],B=((L=M==null?void 0:M.side)===null||L===void 0?void 0:L.hasOwnProperty("left"))&&M.side.left.length,Y=((j=M==null?void 0:M.side)===null||j===void 0?void 0:j.hasOwnProperty("right"))&&M.side.right.length;if(!M||(M==null?void 0:M.direction)!=="left"&&(M==null?void 0:M.direction)!=="right")if(M&&(B||Y))F.forEach(function(U,V){B&&M.side.left.includes(U[1])?S.push(U):Y&&M.side.right.includes(U[1])?R.push(U):V%2?S.push(U):R.push(U)});else{var q=Math.floor(F.length/2);F.forEach(function(U,V){var A=H.getItem(U[1]);A.dir==="verticalLeft"?S.push(U):A.dir==="verticalRight"||V<q?R.push(U):S.push(U)})}else F.forEach(function(U){M.direction==="left"?S.push(U):R.push(U)});return{leftTree:S,rightTree:R}}(i,s,t),v=c.leftTree,m=c.rightTree,k=[],I=0;[v,m].forEach(function(T,H){if(T.length)if(H===0){var $=r(s,t,T,I,k,!0);a=$.allLeftBranches,I=$.leftBranchWidth}else $=r(s,t,T,I,k),e=$.allRightBranches}),v.length&&m.length&&function(T,H,$,L,j){T[1]&&T[0].y>T[1].y?(f(H,T[0].y-T[1].y,L),j.y=T[0].y):T[1]&&T[0].y<T[1].y&&(f($,T[1].y-T[0].y,L),j.y=T[1].y)}(k,e,a,s,i);var P=[];[v,m].forEach(function(T,H){if(T.length){var $=H===0?"verticalLeft":"verticalRight",L=$==="verticalLeft"?a:e;!P.includes($)&&P.push($),i.dir=P,T.forEach(function(j){s.getItem(j[1]).dir=$}),function(j,M,F,S,R){j.forEach(function(B){var Y=F.getItem(B),q=Y.$connection;Y.id!==R.id&&(Y.dir=M),q&&(Y.$count=q.length,q.forEach(function(U){if(j.includes(U[1])){var V=F.getItem(U[1]),A=F.getItem(U[0]);A.connectType="curved",(0,b.directLinkPath)(A,Y,V,S)}}))})}(g(L),$,s,t,i)}}),Array.isArray(i.dir)&&((0,C.isEmptyObj)(i.openDir)&&(i.openDir={}),i.dir.includes("verticalLeft")&&!Object.keys(i.openDir).includes("left")&&(i.openDir.left=i.open===void 0||i.open),i.dir.includes("verticalRight")&&!Object.keys(i.openDir).includes("right")&&(i.openDir.right=i.open===void 0||i.open),i.open===!1&&(i.openDir={right:!1,left:!1})),i.$connection.forEach(function(T){for(var H=s.getItem(T[1]).dir.toLowerCase(),$=0,L=Object.entries(i.openDir);$<L.length;$++){var j=L[$],M=j[0],F=j[1];H.includes(M)&&!F&&s.update(T[1],{hidden:!0},!0)}})}else i.x=0,i.y=0;(0,y.setHeaderColor)(s)}}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.placeOrgonogram=void 0;var w=x(39),C=x(93);function b(g,d,_,f,l){var u,r=d.$connection,s=d.$assistants,t=(u=d.$partners)===null||u===void 0?void 0:u.common;(d.dir==="vertical"&&(t!=null&&t.length)||d.$level===0&&(d.openDir||Array.isArray(d.dir))||d.dir==="verticalLeft"||d.dir==="verticalRight")&&(delete d.dir,delete d.openDir);var n=d.dir==="vertical",i=n?_.margin.itemX/2:0,e=0,a=0,c=0;if(r&&d.open!==!1&&!d.assistant&&!d.partner){for(var v=0,m=0;m<r.length;m++)if(!(j=g.getItem(r[m][1])).hidden&&!j.assistant&&!j.partner){var k=b(g,j,_,f+i,i);n?e=Math.max(e,k):e+=k,v++}v&&!n&&(e+=(v-1)*_.margin.itemX),d.$count=v}if(t!=null&&t.length){for(var I=0,P=0,T=0,H=0;H<t.length;H++){var $=(j=g.getItem(t[H])).height+_.margin.itemY,L=j.width+_.margin.itemX;j.$even=!!(H%2),j.hidden||(j.$even?P+=$:I+=$,T=Math.max(T,L),++d.$count)}c=Math.max(I,P),e=Math.max(e,P?2*T+d.width:2*Math.max(T-_.margin.itemX/2,d.width+_.margin.itemX/2)),d.$partners.leftHeight=I,d.$partners.rightHeight=P}if(s!=null&&s.length){for(T=0,I=0,P=0,H=0;H<s.length;H++){var j;$=(j=g.getItem(s[H])).height+_.margin.itemY,L=j.width+_.margin.itemX/2,j.$even=!!(H%2),j.hidden||(j.$even?P+=$:I+=$,T=Math.max(T,L),++d.$count)}n?(e=Math.max(e,T),a=I+P):(e=Math.max(e,2*T),a=Math.max(P,I))}if(e=Math.max(d.width,e),n)d.x=f;else{var M=_.gridStep||1;L=(e-d.width)/2+f,d.x=Math.ceil(L/M)*M}return d.y=0,d.$width=e,d.$baseHeight=c||d.height+_.margin.itemY,d.$height=a+d.$baseHeight,e+l}function y(g,d,_,f,l,u){var r,s=d.$connection,t=d.$assistants,n=(r=d.$partners)===null||r===void 0?void 0:r.common,i=d.dir==="vertical",e=0;if(d.x+=_,d.y+=f,l.gridStep&&(d.y=Math.ceil(d.y/l.gridStep)*l.gridStep),t==null?void 0:t.length)for(var a=l.margin.itemX/2,c=d.x+d.width/2,v=d.y+d.$baseHeight,m=d.y+d.$baseHeight,k=0;k<t.length;k++){var I=($=g.getItem(t[k])).height+l.margin.itemY;$.hidden||(i?($.x=d.x+a,$.y=m,m+=I):$.$even?($.y=m,$.x=c+a,m+=I):($.y=v,$.x=c-(a+$.width),v+=I))}if(n!=null&&n.length){var P=d.y+(d.$baseHeight/2-(d.height+l.margin.itemY)/2),T=P-d.y,H=P-T+(d.$baseHeight-d.$partners.leftHeight)/2;if(m=P-T+(d.$baseHeight-d.$partners.rightHeight)/2,n.length>1)for(k=0;k<n.length;k++)I=($=g.getItem(n[k])).height+l.margin.itemY,$.hidden||($.$even?($.x=d.x+d.width+l.margin.itemX,$.y=m,m+=I):($.x=d.x-$.width-l.margin.itemX,$.y=H,H+=I));else d.x=d.x+d.width/2+l.margin.itemX/2,($=g.getItem(n[0])).x=d.x-$.width-l.margin.itemX,$.y=H;d.y=P}if(f+=d.$height,d.open!==!1&&s){for(var $=void 0,L=0;L<s.length;L++)if(!($=g.getItem(s[L][1])).hidden){if(!$.assistant&&!$.partner){var j=y(g,$,_,f,l);i?(f+=j,e+=j):(e=Math.max(e,j),_+=$.$width+l.margin.itemX)}(0,w.directLinkPath)(g.getItem(s[L][0]),d,$,l)}}return d.$height+e}p.placeOrgonogram=function(g,d){var _=g.getRoots();if(_.length===1){var f=g.getItem(_[0]);b(g,f,d,0,0),y(g,f,0,0,d),(0,C.setHeaderColor)(g)}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(f){for(var l,u=1,r=arguments.length;u<r;u++)for(var s in l=arguments[u])Object.prototype.hasOwnProperty.call(l,s)&&(f[s]=l[s]);return f},w.apply(this,arguments)},C=this&&this.__spreadArray||function(f,l,u){if(u||arguments.length===2)for(var r,s=0,t=l.length;s<t;s++)!r&&s in l||(r||(r=Array.prototype.slice.call(l,0,s)),r[s]=l[s]);return f.concat(r||Array.prototype.slice.call(l))};Object.defineProperty(p,"__esModule",{value:!0}),p.Editor=p.EditorEvents=void 0;var b,y=x(0),g=x(2),d=x(14);(function(f){f.beforeEditorOpen="beforeEditorOpen",f.afterEditorOpen="afterEditorOpen",f.beforeEditorClose="beforeEditorClose",f.afterEditorClose="afterEditorClose",f.beforeEditorEditing="beforeEditorEditing",f.afterEditorEditing="afterEditorEditing"})(b||(p.EditorEvents=b={}));var _=function(){function f(l){var u=this;this._currentValue=" ",this.data=l.data,this.events=l.events,this._keyManager=new d.KeyManager,this._dblDuration=300,this._documentClick=function(r){(0,g.locate)(r,"dhx_editor_id")||u.closeEditor()},this._handlers={edit:function(r){u.edit(r.target.innerText)},didInsert:function(r){var s=r==null?void 0:r.el;if(s!=null&&s.childNodes[0]){var t=document.createRange(),n=window.getSelection();t.setStart(s.childNodes[0],s.innerText.length),t.collapse(!0),n&&(n.removeAllRanges(),n.addRange(t)),s.focus()}}}}return f.prototype.openEditor=function(l,u,r){var s,t;u===void 0&&(u="text");var n=this.data.getItem(l);if(!n||this._editable||!this.events.fire(b.beforeEditorOpen,[l,u,r]))return!1;this._addHotkeys(),this._initOuterClick(),this.data.update(l,{$editable:!0},!0),this._editableItem=n,this._editable=!0,this._key=u,this._subId=r;var i=this._editableItem.$item.getBaseType();if(i==="group"||i==="swimlane")if(r){var e=this._editableItem,a=e.subHeaderRows,c=e.subHeaderCols,v=[];a!=null&&a.enable&&(!((s=a==null?void 0:a.headers)===null||s===void 0)&&s.length)&&(v=a.headers);var m=[];c!=null&&c.enable&&(!((t=c==null?void 0:c.headers)===null||t===void 0)&&t.length)&&(m=c.headers);var k=C(C([],v,!0),m,!0).find(function(I){return(I==null?void 0:I.id)===r});this._currentValue=k==null?void 0:k[u]}else this._currentValue=this._editableItem.header[u];else this._currentValue=this._editableItem[u];return this.events.fire(b.afterEditorOpen,[l,this._key,this._subId]),!0},f.prototype.closeEditor=function(){var l=this._editableItem.id;return!!this.events.fire(b.beforeEditorClose,[l,this._key,this._subId])&&(this._removeHotkeys(),this._removeClickListener(),this.data.update(l,{$editable:!1},!0),this._editable=!1,this.events.fire(b.afterEditorClose,[l,this._key,this._subId]),this._editableItem=null,this._subId=null,this._currentValue=" ",!0)},f.prototype.isEditable=function(){return this._editable},f.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.data=this.events=this._editable=this._editableItem=this._currentValue=this._keyManager=null},f.prototype.render=function(){var l=this._editableItem.id;return(0,y.el)("div.dhx_diagram_inline_editor",{dhx_editor_id:l+"_editor",contentEditable:!0,oninput:this._handlers.edit,_hooks:{didInsert:this._handlers.didInsert}},this._currentValue||" ")},f.prototype.edit=function(l){var u,r,s,t,n=this;if(this._editableItem&&this.events.fire(b.beforeEditorEditing,[l,this._currentValue,this._editableItem.id,this._key,this._subId])){var i=this._editableItem,e=i.id,a=i.header,c=i.$item,v=i.subHeaderCols,m=i.subHeaderRows;this._currentValue=l;var k=c.getBaseType();if(k==="group"||k==="swimlane")if(this._subId){var I,P=(s=m==null?void 0:m.headers)===null||s===void 0?void 0:s.findIndex(function(H){return(H==null?void 0:H.id)===n._subId}),T=(t=v==null?void 0:v.headers)===null||t===void 0?void 0:t.findIndex(function(H){return(H==null?void 0:H.id)===n._subId});T>-1&&((I=C([],v.headers,!0))[T][this._key]=this._currentValue,this.data.update(e,{subHeaderCols:w(w({},v),{headers:I})})),P>-1&&((I=C([],m.headers,!0))[P][this._key]=this._currentValue,this.data.update(e,{subHeaderRows:w(w({},m),{headers:I})}))}else this.data.update(e,{header:w(w({},a),(u={},u[this._key]=this._currentValue,u))});else this.data.update(e,((r={})[this._key]=this._currentValue,r));this.events.fire(b.afterEditorEditing,[this._currentValue,e,this._key,this._subId])}},f.prototype._addHotkeys=function(){var l=this;this._keyManager.addHotKey("escape",function(){l.closeEditor()})},f.prototype._removeHotkeys=function(){this._keyManager.removeHotKey()},f.prototype._initOuterClick=function(){var l=this;setTimeout(function(){document.addEventListener("pointerdown",l._documentClick)},this._dblDuration)},f.prototype._removeClickListener=function(){document.removeEventListener("pointerdown",this._documentClick)},f}();p.Editor=_},function(O,p,x){var w=this&&this.__spreadArray||function(d,_,f){if(f||arguments.length===2)for(var l,u=0,r=_.length;u<r;u++)!l&&u in _||(l||(l=Array.prototype.slice.call(_,0,u)),l[u]=_[u]);return d.concat(l||Array.prototype.slice.call(_))};Object.defineProperty(p,"__esModule",{value:!0}),p.CellManager=p.CellManagerEvents=void 0;var C,b=x(1),y=x(0);(function(d){d.beforeCellsAdd="beforeCellsAdd",d.afterCellsAdd="afterCellsAdd",d.beforeCellsMove="beforeCellsMove",d.afterCellsMove="afterCellsMove",d.beforeCellsRemove="beforeCellsRemove",d.afterCellsRemove="afterCellsRemove",d.beforeCellsValidation="beforeCellsValidation",d.afterCellsValidation="afterCellsValidation"})(C||(p.CellManagerEvents=C={}));var g=function(){function d(_,f){this.events=f,this.data=_,this.swimlane=null}return d.prototype.setSwimlane=function(_){var f,l=this.data.getItem(_);return((f=l==null?void 0:l.$item)===null||f===void 0?void 0:f.getBaseType())==="swimlane"&&(this.swimlane=l,!0)},d.prototype.resetSwimlane=function(){var _=this;(0,y.awaitRedraw)().then(function(){_.swimlane=null})},d.prototype.add=function(_,f,l){var u=this;(0,y.awaitRedraw)().then(function(){var r,s,t=u.getDirectionType(f),n=u.getUniqueLayout(),i=t==="col"?((r=n[0])===null||r===void 0?void 0:r.length)-1:(n==null?void 0:n.length)-1;if(_>=0&&_<=i&&u.events.fire(C.beforeCellsAdd,[u.swimlane.id])&&(l||u.validation(_,f,"add"))){var e,a,c=u.swimlane.layout,v=_,m=t==="col"?c[0][v]:c[v][0],k=u.data.getItem(m),I=t==="col"?k==null?void 0:k.$colCount:k==null?void 0:k.$rowCount,P=u.swimlane[t==="col"?"subHeaderCols":"subHeaderRows"],T=(P==null?void 0:P.enable)&&((s=P==null?void 0:P.headers)===null||s===void 0?void 0:s.length);T&&(e=u.swimlane[t==="col"?"subHeaderCols":"subHeaderRows"].headers,a=u.getSubHeaderIndex(u.getCellId(_,t),t));var H=1/0,$=v;f!=="right"&&f!=="down"||($+=I,T&&a++),$<0&&($=0);for(var L={},j={},M={},F=0;F<c.length;F++)for(var S=c[F],R=0;R<S.length;R++){var B;if(t==="col"&&((B=u.data.getItem(S[R]))&&H>B.width&&(H=B.width),R===v&&(j[B.id]?c[F].splice($,0,j[B.id]):(L[Y=(0,b.uid)()]={id:Y,type:"$sgroup"},c[F].splice($,0,Y),j[B.id]=Y))),t==="row"&&((B=u.data.getItem(S[R]))&&H>B.height&&(H=B.height),F===v)){var Y=(0,b.uid)();R===0&&c.splice($,0,[]),j[B.id]?c[$][R]=j[B.id]:(L[Y]={id:Y,type:"$sgroup"},c[$][R]=Y,j[B.id]=Y)}}for(F=0;F<c.length;F++)for(S=c[F],R=0;R<S.length;R++){if(t==="col"){var q=S[R];R>$&&!M[q]&&(u.data.eachChild(q,function(V){V.x+=H}),M[q]=!0)}t==="row"&&(q=S[R],F>$&&!M[q]&&(u.data.eachChild(q,function(V){V.y+=H}),M[q]=!0))}T&&e.splice(a,0,{text:"Untitled",id:(0,b.uid)()});var U={layout:c};t==="col"?U.width=u.swimlane.width+H:U.height=u.swimlane.height+H,u.data.add(Object.values(L)),u.data.update(u.swimlane.id,U),u.events.fire(C.afterCellsAdd,[u.swimlane.id])}})},d.prototype.move=function(_,f,l){var u=this;(0,y.awaitRedraw)().then(function(){var r,s,t,n=u.getDirectionType(f),i=u.getUniqueLayout(),e=n==="col"?((s=i[0])===null||s===void 0?void 0:s.length)-1:(i==null?void 0:i.length)-1;if(_>=0&&_<=e&&u.events.fire(C.beforeCellsMove,[u.swimlane.id])&&(l||u.validation(_,f,"move"))){var a,c,v=u.swimlane.layout,m=u.swimlane[n==="col"?"subHeaderCols":"subHeaderRows"],k=(m==null?void 0:m.enable)&&((t=m==null?void 0:m.headers)===null||t===void 0?void 0:t.length);k&&(a=u.swimlane[n==="col"?"subHeaderCols":"subHeaderRows"].headers,c=u.getSubHeaderIndex(u.getCellId(_,n),n));for(var I=_,P=n==="col"?v[0][I]:v[I][0],T=u.data.getItem(P),H=f==="right"||f==="down"?c+1:c-1,$=u.swimlane[n==="col"?"subHeaderCols":"subHeaderRows"].headers[H].id,L=u.data.getItem(u.getSubHeaderCellId($)),j=n==="col"?T==null?void 0:T.$colCount:T==null?void 0:T.$rowCount,M=n==="col"?L==null?void 0:L.$colCount:L==null?void 0:L.$rowCount,F=f==="left"||f==="up"?I-M:I+j,S={},R=[],B=0;B<v.length;B++)for(var Y=v[B],q=function(V){var A,N;if(n==="col"&&V===I){var W=v[B][I],Q=v[B][F],X=u.data.getItem(W),K=u.data.getItem(Q);S[W]||(u.data.eachChild(W,function(oe){f==="left"?oe.x-=K.width:oe.x+=K.width}),S[W]=!0),S[Q]||(u.data.eachChild(Q,function(oe){f==="left"?oe.x+=X.width:oe.x-=X.width}),S[Q]=!0),B===0&&k&&(A=[a[H],a[c]],a[c]=A[0],a[H]=A[1]),R[B]=v[B].splice(V,j)}if(n==="row"&&B===I){W=v[I][V],Q=v[F][V];var ne=u.data.getItem(W),ie=u.data.getItem(Q);S[W]||(u.data.eachChild(W,function(oe){f==="up"?oe.y-=ie.height:oe.y+=ie.height}),S[W]=!0),S[Q]||(u.data.eachChild(Q,function(oe){f==="up"?oe.y+=ne.height:oe.y-=ne.height}),S[Q]=!0),V===Y.length-1&&(k&&(N=[a[H],a[c]],a[c]=N[0],a[H]=N[1]),R.push(v.splice(B,j)))}},U=0;U<Y.length;U++)q(U);for(f!=="right"&&f!=="down"||(F=I+M),B=0;B<v.length;B++)for(Y=v[B],U=0;U<Y.length;U++)(f==="left"&&U===F||f==="right"&&U===I)&&(r=v[B]).splice.apply(r,w([F,0],R[B],!1)),(f==="up"&&B===F||f==="down"&&B===I)&&U===0&&v.splice.apply(v,w([F,0],R[0],!1));u.data.update(u.swimlane.id,u.swimlane),u.events.fire(C.afterCellsMove,[u.swimlane.id])}})},d.prototype.remove=function(_,f,l){var u=this;(0,y.awaitRedraw)().then(function(){var r,s,t=f==="col"?"left":"up",n=u.getUniqueLayout(),i=f==="col"?((r=n[0])===null||r===void 0?void 0:r.length)-1:(n==null?void 0:n.length)-1;if(_>=0&&_<=i&&u.events.fire(C.beforeCellsRemove,[u.swimlane.id])&&(l||u.validation(_,t,"remove"))){var e,a,c=u.swimlane.layout,v=u.swimlane[f==="col"?"subHeaderCols":"subHeaderRows"],m=(v==null?void 0:v.enable)&&((s=v==null?void 0:v.headers)===null||s===void 0?void 0:s.length);m&&(e=u.swimlane[f==="col"?"subHeaderCols":"subHeaderRows"].headers,a=u.getSubHeaderIndex(u.getCellId(_,f),f));for(var k=_,I=f==="col"?c[0][k]:c[k][0],P=u.data.getItem(I),T={},H={},$=[],L=0;L<c.length;L++)for(var j=c[L],M=0;M<j.length;M++){var F=c[L][M];f==="col"&&M===k||f==="row"&&L===k?(T[F]=!0,m&&(f==="col"&&L===0||f==="row"&&M===0)&&e.splice(a,1)):T[F]||($[L]?$[L].push(F):$[L]=[F]),T[F]||H[F]||(f==="col"&&k<M?(u.data.eachChild(F,function(R){R.x-=P.width}),H[F]=!0):f==="row"&&k<L&&(u.data.eachChild(F,function(R){R.y-=P.height}),H[F]=!0))}var S={layout:$.filter(function(R){return R})};f==="col"?S.width=u.swimlane.width-P.width:S.height=u.swimlane.height-P.height,u.data.remove(Object.keys(T)),u.data.update(u.swimlane.id,S),u.events.fire(C.afterCellsRemove,[u.swimlane.id])}})},d.prototype.validation=function(_,f,l){var u,r=this.getDirectionType(f),s=this.getUniqueLayout(),t=r==="col"?((u=s[0])===null||u===void 0?void 0:u.length)-1:(s==null?void 0:s.length)-1;if(_>=0&&_<=t&&this.events.fire(C.beforeCellsValidation,[this.swimlane.id,l])){if(t===0&&l!=="add")return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,l]),!1;var n,i=this.swimlane.layout,e=_,a=!0;if(e>=0)for(var c=0;c<i.length;c++)for(var v=i[c],m=0;m<v.length;m++){var k=r==="col"?v[e]:i[e][m];if(r==="col"&&m===e){var I=this.data.getItem(k).$colCount;if(c===0)n=I;else if(n!==I){if(l==="remove"||l==="move")return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,l]),!1;a=!1}}if(r==="row"&&c===e){var P=this.data.getItem(k).$rowCount;if(m===0)n=P;else if(n!==P){if(l==="remove"||l==="move")return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,l]),!1;a=!1}}}if(f&&!a||l==="move"){var T=r==="col"?i[0][e]:i[e][0],H=this.data.getItem(T),$=r==="col"?H==null?void 0:H.$colCount:H==null?void 0:H.$rowCount;if(f==="right"||f==="down"?e+=$:e-=1,e>=0&&!(r==="row"&&e>i.length-1))for(c=0;c<i.length;c++)for(v=i[c],m=0;m<v.length;m++){var L=r==="col"?v[e]:i[e][m];if(r==="col"&&m===e){if(I=this.data.getItem(L).$colCount,c===0)n=I;else if(n!==I)return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,l]),!1}if(r==="row"&&c===e){if(P=this.data.getItem(L).$rowCount,m===0)n=P;else if(n!==P)return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!1,l]),!1}}}return this.events.fire(C.afterCellsValidation,[this.swimlane.id,!0,l]),!0}},d.prototype.getSubHeaderCellIndex=function(_){if(this.swimlane&&arguments.length){var f=this.getSubHeaderType(_),l=this.getSubHeaderCellId(_);return this.getCellIndex(l,f)}},d.prototype.getSubHeaderCellId=function(_){var f;if(this.swimlane&&arguments.length){var l=this.getSubHeaderType(_),u=(f=this.swimlane[l==="col"?"subHeaderCols":"subHeaderRows"])===null||f===void 0?void 0:f.headers;if(u!=null&&u.length){for(var r=u.findIndex(function(a){return a.id===_}),s=[],t=0;t<this.swimlane.layout.length;t++)for(var n=this.swimlane.layout[t],i=0;i<n.length;i++){var e=n[i];(l==="col"&&t===0||l==="row"&&i===0)&&!s.includes(e)&&s.push(e)}return s[r]}}},d.prototype.getSubHeaderType=function(_){var f;if(this.swimlane&&arguments.length){var l,u=this.swimlane,r=u.subHeaderCols,s=u.subHeaderRows,t=(s==null?void 0:s.enable)&&((f=s==null?void 0:s.headers)===null||f===void 0?void 0:f.length),n=(r==null?void 0:r.enable)&&(r==null?void 0:r.headers.length),i=-1,e=-1;return t&&(i=s.headers.findIndex(function(a){var c=a.id;return _===c}),i!==-1&&(l="row")),n&&(e=r.headers.findIndex(function(a){var c=a.id;return _===c}),e!==-1&&(l="col")),l}},d.prototype.getCellIndex=function(_,f){var l,u;if(this.swimlane&&(!((u=(l=this.swimlane)===null||l===void 0?void 0:l.groupChildren)===null||u===void 0)&&u.includes(_))&&!(arguments.length<2)){for(var r=this.swimlane.layout,s=0;s<r.length;s++)for(var t=r[s],n=0;n<t.length;n++)if(t[n]==_)return f==="col"?n:s}},d.prototype.getCellId=function(_,f){if(this.swimlane&&!(arguments.length<2))return this.swimlane.layout[f==="row"?_:0][f==="col"?_:0]},d.prototype.getSubHeaderIndex=function(_,f){var l,u;if(this.swimlane&&(!((u=(l=this.swimlane)===null||l===void 0?void 0:l.groupChildren)===null||u===void 0)&&u.includes(_))&&!(arguments.length<2))for(var r=this.swimlane.layout,s={},t=-1,n=0;n<r.length;n++)for(var i=r[n],e=0;e<i.length;e++){var a=i[e];if(!s[a]&&((f==="col"&&n===0||f==="row"&&e===0)&&t++,s[a]=!0,_==a))return t}},d.prototype.getDirectionType=function(_){return _==="left"||_==="right"||_==="col"?"col":"row"},d.prototype.getUniqueLayout=function(){if(this.swimlane){for(var _=[],f=0;f<this.swimlane.layout.length;f++){var l=this.swimlane.layout[f];_[f]||(_[f]=[]);for(var u=0;u<l.length;u++){var r=l[u];_[f].includes(r)||_[f].push(r)}}return _}},d}();p.CellManager=g},function(O,p,x){var w,C=this&&this.__extends||(w=function(f,l){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u[s]=r[s])},w(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=f}w(f,l),f.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}),b=this&&this.__assign||function(){return b=Object.assign||function(f){for(var l,u=1,r=arguments.length;u<r;u++)for(var s in l=arguments[u])Object.prototype.hasOwnProperty.call(l,s)&&(f[s]=l[s]);return f},b.apply(this,arguments)},y=this&&this.__spreadArray||function(f,l,u){if(u||arguments.length===2)for(var r,s=0,t=l.length;s<t;s++)!r&&s in l||(r||(r=Array.prototype.slice.call(l,0,s)),r[s]=l[s]);return f.concat(r||Array.prototype.slice.call(l))};Object.defineProperty(p,"__esModule",{value:!0}),p.Line=void 0;var g=x(0),d=x(1),_=function(f){function l(u,r){var s=f.call(this,u,r)||this;return s.id=s.config.id=u.id||(0,d.uid)(),u.width&&(u.width=parseFloat(u.width)),u.height&&(u.height=parseFloat(u.height)),u.x&&(u.x=parseFloat(u.x)),u.y&&(u.y=parseFloat(u.y)),u.strokeWidth&&(u.strokeWidth=parseFloat(u.strokeWidth)),s}return C(l,f),l.prototype.getBaseType=function(){return"line"},l.prototype.setDefaults=function(u,r){return u.connectType=u.connectType==="curved"?"elbow":u.connectType||"elbow",u.stroke=u.stroke||(r==null?void 0:r.stroke)||"#CCC",u.strokeType=u.strokeType||(r==null?void 0:r.strokeType)||u.type,u.strokeWidth=u.strokeWidth||(r==null?void 0:r.strokeWidth)||2,u.cornersRadius=u.cornersRadius||(r==null?void 0:r.cornersRadius)||0,u.backArrow=u.backArrow||(r==null?void 0:r.backArrow)||"none",u.forwardArrow=u.forwardArrow||(r==null?void 0:r.forwardArrow)||"none",u},l.prototype.getBox=function(){var u=this.config.points.reduce(function(e,a){return e.x=Math.max(e.x,a.x),e.y=Math.max(e.y,a.y),e},{x:0,y:0}),r=u.x-this.config.x,s=u.y-this.config.y,t=this.config.x,n=t+r,i=this.config.y;return{left:t,right:n,top:i,bottom:i+s}},l.prototype.render=function(){var u=this.config,r=u.id,s=u.stroke,t=u.strokeWidth,n=this._getPoints(),i=this._getArrowLine()||[];return(0,g.sv)("g",{"data-dhx-id":r,_key:r,class:"dhx_diagram_item dhx_diagram_line "+(this.config.$selected?"dhx_diagram_line--selected":"")+(this.config.css||"")},y([(0,g.sv)("path",{d:n,fill:"none","stroke-dasharray":this._getType(),"stroke-linejoin":"round","stroke-width":t,stroke:s})],i,!0))},l.prototype._getType=function(){if(this.config.strokeType&&(this.config.type=this.config.strokeType),this.config.type)switch(this.config.type){case"line":default:return"";case"dash":return"5, 5"}},l.prototype._getPoints=function(){return this._getStringPoints()},l.prototype._getStringPoints=function(){return this.config.width=Math.abs(this.config.points[this.config.points.length-1].x-this.config.points[0].x),this.config.height=Math.abs(this.config.points[this.config.points.length-1].y-this.config.points[0].y),this.config.x=this.config.points[0].x,this.config.y=this.config.points[0].y,this.config.connectType!=="straight"&&this.config.connectType!=="curved"||(this.config.points=[this.config.points[0],this.config.points[this.config.points.length-1]],this.config.connectType!=="curved")?"M ".concat(this.config.x,",").concat(this.config.y," ")+this.config.points.map(function(u){return u.x1&&u.y1?"Q".concat(u.x1,",").concat(u.y1," ").concat(u.x,",").concat(u.y):"L "+u.x+","+u.y}).join(" "):this._getCurvedPoints(this.config)},l.prototype._getCurvedPoints=function(u){var r=u.points[0].x,s=u.points[1].x,t=u.points[0].y,n=u.points[1].y,i=.5*(s-r),e=r+i,a=s-i;return"M".concat(r,",").concat(t," C").concat(e,",").concat(t," ").concat(a,",").concat(n," ").concat(s,",").concat(n)},l.prototype._getArrowLine=function(){var u=this.config.points,r=this.config.backArrow==="filled",s=this.config.forwardArrow==="filled";if(r||s)return[r?this._getArrow(u[1],u[0]):null,s?this._getArrow(u[u.length-2],u[u.length-1]):null]},l.prototype._getArrow=function(u,r){var s=u.x-r.x,t=u.y-r.y,n=s===0&&t===0,i=1/Math.sqrt(Math.pow(s,2)+Math.pow(t,2)),e=s*i,a=t*i,c={x:r.x,y:r.y},v=r.x-5,m=r.y-5,k=r.x+5,I=r.y-5,P=Math.atan((r.x-u.x)/(r.y-u.y))*(-180/3.14);u.y>r.y&&(P+=180);var T={};return n||(T.transform="translate(".concat(e," ").concat(a,") rotate(").concat(P,",").concat(c.x,",").concat(c.y,")")),(0,g.sv)("path",b({d:"M".concat(v,",").concat(m," L").concat(c.x,",").concat(c.y," L").concat(k,",").concat(I," Z"),class:"dhx_diagram_arrow "+this.getCss(),"shape-rendering":"auto",stroke:this.config.stroke,fill:this.config.stroke},T))},l}(x(54).BaseItem);p.Line=_},function(O,p,x){var w,C=this&&this.__extends||(w=function(r,s){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},w(r,s)},function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function t(){this.constructor=r}w(r,s),r.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}),b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.LineTitle=void 0;var y=x(0),g=x(2),d=x(1),_=x(28),f=x(19),l=x(40),u=function(r){function s(t,n){var i=r.call(this,t,n)||this;return i.id=i.config.id=t.id||(0,d.uid)(),i.config=i.setDefaults(t),i}return C(s,r),s.prototype.render=function(){var t=this.parent.$level+(this.parent.$group||this.parent.$selected?this.parent.$selected?3:2:1);this.config.$selected&&++t;var n=this.getSize(this.config.text),i=n.width,e=n.height;this.config.width=i>20?i+4:20,this.config.height=e>16?e+2:16;var a=this.getTitlePosition(this.parent,this.config),c=a.x,v=a.y;this.config.$x=c,this.config.$y=v;var m=this.config.$selected?"dhx_diagram_line_title--selected":"";return(0,y.el)("div",{_key:this.config.id,class:"dhx_diagram_line_title "+m,"data-dhx-id":this.config.id,"data-dhx-parent-id":this.parent.id,style:b({zIndex:t,position:"absolute",top:v,left:c,transform:"rotate(".concat(this.config.$angle,"deg)")},(0,f.getShapeCss)(this.config))},[this.getContent()])},s.prototype.getBaseType=function(){return"lineTitle"},s.prototype.setDefaults=function(t,n){return t.$angle=t.$angle||0,t.distance=(n==null?void 0:n.distance)||t.distance||50,t.editable=typeof t.editable!="boolean"||t.editable,t.fixed=!!t.fixed,t.autoPosition=!!t.autoPosition,t.fill=(n==null?void 0:n.fill)||t.fill||"#FFFFFF",t.lineHeight=(n==null?void 0:n.lineHeight)||t.lineHeight||14,t.fontSize=(n==null?void 0:n.fontSize)||t.fontSize||14,t.fontColor=(n==null?void 0:n.fontColor)||t.fontColor||"#4C4C4C",t.fontStyle=(n==null?void 0:n.fontStyle)||t.fontStyle||"normal",t.fontWeight=(n==null?void 0:n.fontWeight)||t.fontWeight||"normal",t.textAlign=(n==null?void 0:n.textAlign)||t.textAlign||"center",t.width=(t.width||0)<40?40:t.width,t.height=(t.height||0)<18?18:t.height,t},s.prototype.getContent=function(){var t=this.config,n=t.$editable,i=t.text,e=t.fill;return(0,y.el)("span.dhx_diagram_line_title__text",{style:{backgroundColor:e}},n?[this.getEditorNode()]:i)},s.prototype.getSize=function(t){var n=this.config,i=n.fontSize,e=n.lineHeight,a=n.fontWeight,c=n.fontStyle,v={fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",fontSize:"".concat(i,"px"),lineHeight:"".concat(e,"px"),fontWeight:a,fontStyle:c};return(0,g.getStrSize)(t,v)},s.prototype.getCenterCoords=function(t,n){var i=t.width,e=t.height;return{x:n.x-i/2,y:n.y-e/2}},s.prototype.getStraightCoords=function(t,n,i){i===void 0&&(i=.5);var e=t.x,a=t.y;return{x:e*(1-i)+n.x*i,y:a*(1-i)+n.y*i}},s.prototype.getTitlePosition=function(t,n){var i,e,a,c=(0,l.getDistanceFactor)(n.distance);if(t.connectType==="straight"||((i=t.points)===null||i===void 0?void 0:i.length)===2){var v=(e=t.points)===null||e===void 0?void 0:e[0],m=(a=t.points)===null||a===void 0?void 0:a[t.points.length-1];return this.config.$angle=n.autoPosition?(0,l.getLineAngle)(v,m):0,this.getCenterCoords(n,this.getStraightCoords(v,m,c))}for(var k=t.points,I=[],P=0,T=0;T<k.length-1;T++){var H=k[T],$=k[T+1],L=(0,l.getLineLength)(H,$);P+=L,I.push(L)}var j=P/100*parseFloat(n.distance),M={x:0,y:0},F={x:0,y:0},S=0;for(T=0;T<k.length-1;T++)if((S+=I[T])>=j){M=k[T],F=k[T+1],c=1-(0,l.getDistanceFactor)((S-j)/I[T]*100);break}return this.config.$angle=n.autoPosition?(0,l.getLineAngle)(M,F):0,this.getCenterCoords(n,this.getStraightCoords(M,F,c))},s.prototype.getBox=function(){var t=this.config,n=t.$x,i=n===void 0?0:n,e=t.$y,a=e===void 0?0:e;return{left:i,right:i+t.width,top:a,bottom:a+t.height}},s}(_.BaseShape);p.LineTitle=u},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(_){for(var f,l=1,u=arguments.length;l<u;l++)for(var r in f=arguments[l])Object.prototype.hasOwnProperty.call(f,r)&&(_[r]=f[r]);return _},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=function(){function _(){}return _.prototype.layout=function(f,l){f.setRoot();var u=f.getRoot();return f.root(f.toTree(f.hash[u.id])),y(f,u,b(u,u,{minSpaceBetweenGen:l.levelPadding||20,minSpaceBetweenSibling:l.itemPadding||5})),f.translate({x:1e3,y:1e3}),f},_}();function b(_,f,l,u,r,s){var t;u===void 0&&(u={startAngle:0,endAngle:360}),r===void 0&&(r=0),s===void 0&&(s={});var n,i=(u.endAngle-u.startAngle)/f.kids.length;if(f.kids.length){var e=r+1;s[e]=(t=s[e])!==null&&t!==void 0?t:{radius:0,chord:0};var a=0;f.kids.forEach(function(I,P,T){var H,$,L,j,M,F,S,R,B=u.startAngle+i*(P+.5),Y=(((H=s[r])===null||H===void 0?void 0:H.radius)||0)+(F=f,S=((M=I).w+F.w)/2,R=(M.h+F.h)/2,Math.ceil(Math.sqrt(S*S+R*R)))+l.minSpaceBetweenGen;if(a=Math.max(s[e].radius,Y),f.kids.length>1){var q=P!==T.length-1?P+1:0,U=g(I,X=d({startAngle:B,endAngle:B+i}))+g(T[q],X)+l.minSpaceBetweenSibling;s[e].chord=Math.max(s[e].chord,U)}else{var V=($=_.kids)===null||$===void 0?void 0:$.findIndex(function(ne){return ne.id===f.id}),A=V===((L=_.kids)===null||L===void 0?void 0:L.length)-1?0:V+1,N=V===0?((j=_.kids)===null||j===void 0?void 0:j.length)-1:V-1;if(V>-1){var W=_.kids[A].kids[0],Q=_.kids[N].kids[_.kids[N].kids.length-1];if(W||Q){var X,K=(u.endAngle-u.startAngle)/_.kids[W?A:N].kids.length;U=g(I,X=d({startAngle:B,endAngle:B+.5*(i+K)}))+g(W||Q,X)+l.minSpaceBetweenSibling+20,s[e].chord=Math.max(s[e].chord,U)}}}});var c=Math.max(a,(n=i,s[e].chord/(2*Math.sin(n/2*Math.PI/180))));if(c>s[e].radius&&s[e+1]){var v=c-s[e].radius;for(var m in s)Number(m)>e&&(s[m].radius+=v)}s[e].radius=c;var k=w({},u);return f.kids.forEach(function(I){k.endAngle=k.startAngle+i,I.kids.length&&(s=b(f,I,l,k,e,s)),k.startAngle+=i}),s}}function y(_,f,l,u,r){u===void 0&&(u={startAngle:0,endAngle:360}),r===void 0&&(r=0);var s,t,n,i,e,a=_.getRoot(),c=a.id===f.id,v=f.kids;if(c)f.x=0,f.y=0;else{var m=(u.startAngle+u.endAngle)/2,k=(s=m,t=l[r].radius,n=a.x,i=a.y,e=s*Math.PI/180,{x:n+t*Math.cos(e),y:i-t*Math.sin(e)});f.x=k.x,f.y=k.y}if(v.length){var I=(u.endAngle-u.startAngle)/v.length;v.forEach(function(P,T){var H={startAngle:u.startAngle+I*T,endAngle:u.startAngle+I*(T+1)};y(_,P,l,H,r+1)})}}function g(_,f){var l=Math.cos(Math.atan(_.h/_.w)),u=Math.cos(f*Math.PI/180);return Math.abs(u)>l?_.w/(2*Math.abs(u)):_.h/(2*Math.abs(Math.sin(f*Math.PI/180)))}function d(_){return 90-_.endAngle/2+_.startAngle/2-(_.startAngle>180?_.startAngle-180:_.startAngle)}p.default=C},function(O,p,x){var w,C=this&&this.__extends||(w=function(u,r){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,t){s.__proto__=t}||function(s,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])},w(u,r)},function(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=u}w(u,r),u.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)});Object.defineProperty(p,"__esModule",{value:!0}),p.DiagramEditor=p.DiagramShapes=p.DataEvents=p.DataCollection=p.setTheme=p.awaitRedraw=void 0;var b=x(0);Object.defineProperty(p,"awaitRedraw",{enumerable:!0,get:function(){return b.awaitRedraw}}),Object.defineProperty(p,"setTheme",{enumerable:!0,get:function(){return b.setTheme}});var y=x(8);Object.defineProperty(p,"DataCollection",{enumerable:!0,get:function(){return y.DataCollection}}),Object.defineProperty(p,"DataEvents",{enumerable:!0,get:function(){return y.DataEvents}});var g=x(53);Object.defineProperty(p,"DiagramShapes",{enumerable:!0,get:function(){return g.shapes}});var d=x(5),_=x(1),f=x(205),l=function(u){function r(s,t){t===void 0&&(t={});var n,i=u.call(this,s,t)||this;return n=["org","mindmap"].includes(t.type)?new f.OrgChartEditor(s,t):new f.DefaultEditor(s,t),(0,_.extend)(i,n),i}return C(r,u),r.prototype.paint=function(){},r.prototype.destructor=function(){throw new Error("Method not implemented.")},r.prototype.import=function(s){},r.prototype.parse=function(s){},r.prototype.serialize=function(){return[]},r.prototype.zoomIn=function(s){},r.prototype.zoomOut=function(s){},r}(d.View);p.DiagramEditor=l},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(206),p),C(x(276),p),C(x(99),p),C(x(37),p)},function(O,p,x){var w,C=this&&this.__extends||(w=function(t,n){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])},w(t,n)},function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}w(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}),b=this&&this.__assign||function(){return b=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var a in n=arguments[i])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.OrgChartEditor=void 0;var y=x(29),g=x(1),d=x(64),_=x(59),f=x(98),l=x(37),u=x(100),r=x(112),s=function(t){function n(i,e){return t.call(this,i,(0,g.extend)({itemsDraggable:!0,shapeType:e.type==="org"?"card":"topic",view:{toolbar:!0,editbar:!0}},e))||this}return C(n,t),n.prototype._initDiagram=function(){this.diagram=new y.Diagram(null,{type:this.config.type,defaultShapeType:this.config.shapeType,margin:{y:70,x:40},defaults:this._getDefaults(),toolbar:this._getToolbarConfig(this.config),lineConfig:b({},this.config.lineConfig),gridStep:this.config.gridStep,scale:this.config.scale,select:!0,scroll:!0,$isEditor:!0}),this.diagram.data.parse([{id:(0,g.uid)(),x:0,y:0,text:"main"}])},n.prototype._initUI=function(i){var e=this;this.view=new u.View(i,this);var a=this.view.getViews(),c=a.toolbar,v=a.editbar;this.toolbar=c,this.editbar=v,this.menu=new d.ContextMenu(null),this._resizer=new _.Controls(this.events,this.diagram,{magnetic:!1,connectionPoints:!1,resizePoints:this.config.resizePoints}),this.diagram.config.$svg=function(m){var k,I=(k=e.diagram.selection.getItem())===null||k===void 0?void 0:k.id,P=e.diagram.data.getItem(I);return e._selectionBox&&e._selectionBox.isValid()?e._selectionBox.render():e.diagram.selection.getIds().length<=1?e._resizer.render(P,m):null},this.diagram.config.$grid=function(){return!!e.config.grid}},n.prototype._setHandlers=function(){var i=this;t.prototype._setHandlers.call(this),this.diagram.events.on(y.DataEvents.load,function(){i.history.reset()}),this.diagram.events.on(y.DiagramEvents.shapeIconClick,function(e,a){var c=i.diagram.selection.getItem(),v=i.diagram.selection.getIds().map(function(k){return i.diagram.data.getItem(k)});if(i.events.fire(l.DiagramEditorEvents.beforeShapeIconClick,[e,i.diagram.data.getItem(c.id)])){var m=v.map(function(k){return{id:(0,g.uid)(),parent:k.id,dx:k.dx,dy:k.dy,headerColor:(0,r.getHeaderColor)(k)}});switch(e){case"add":m.forEach(function(k){i.diagram.data.add(k),i.diagram.selection.add({id:k.id}),i.diagram.showItem(k.id)});break;case"addLeft":m.forEach(function(k){i.diagram.data.add(b({dir:"verticalLeft"},k)),i.diagram.selection.add({id:k.id}),i.diagram.showItem(k.id,"left")});break;case"addRight":m.forEach(function(k){i.diagram.data.add(b({dir:"verticalRight"},k)),i.diagram.selection.add({id:k.id}),i.diagram.showItem(k.id,"right")});break;case"remove":v.forEach(function(k){i._removeItem(k.id)});break;case"menu":i.menu.data.parse(i._getContextMenuData(c)),i.menu.showAt(a)}i.events.fire(l.DiagramEditorEvents.afterShapeIconClick,[e,i.diagram.data.getItem(c.id)])}}),this.events.on(l.DiagramEditorEvents.afterShapeMove,function(e){var a=e.id,c=e.batch,v=e.event;if(i.config.itemsDraggable){var m=i.diagram.data.getItem(a);if(m.giveItem!==!1){var k=!1;i.diagram.data.mapVisible(function(I){if(I){var P=I==null?void 0:I.$item.isLocate({width:m.width,height:m.height,x:m.x+(m.dx||0),y:m.y+(m.dy||0)});m.id!=I.id&&m.parent!=I.id&&I.$item.getBaseType()==="shape"&&(P&&!k?(k=!0,I.$target=!0,i.events.fire(l.DiagramEditorEvents.itemTarget,[{id:m.id,batch:c,targetId:I.id,event:v}])):I.$target=!1)}})}}}),this.events.on(l.DiagramEditorEvents.shapeMoveEnd,function(e){var a=e.id,c=e.batch,v=e.event;if(i.config.itemsDraggable){var m=i.diagram.data.getItem(a);if(m.giveItem!==!1){var k=!1;i.diagram.data.mapVisible(function(I){if(I){I.$target=!1;var P=I.$item.isLocate({width:m.width,height:m.height,x:m.x+(m.dx||0),y:m.y+(m.dy||0)});if(m.id!=I.id&&m.parent&&m.parent!=I.id&&I.$item.getBaseType()==="shape"&&!I.assistant&&!I.partner&&!k&&P){if(k=!0,I.catchItem===!1||!i.events.fire(l.DiagramEditorEvents.beforeItemCatch,[{id:m.id,batch:c,targetId:I.id,event:v}]))return;var T=new Set(c);T.forEach(function(H){var $=i.diagram.data.getItem(H);i.diagram.data.update(H,{dx:I.dx,dy:I.dy},!0),T.has($.parent.toString())||(i.diagram.data.update(H,{parent:I.id},!0),i.diagram.data.remove($.$parent),i.diagram.data.add({type:"line",from:I.id,to:H}))}),i.diagram.expandItem(I.id),i.events.fire(l.DiagramEditorEvents.afterItemCatch,[{id:m.id,batch:c,targetId:I.id,event:v}])}}})}}}),this.menu.events.on("click",function(e){var a=i.diagram.selection.getItem();if(i.events.fire(l.DiagramEditorEvents.beforeShapeIconClick,[e,i.diagram.data.getItem(a.id)])){var c={id:(0,g.uid)(),parent:a.id,dx:a.dx,dy:a.dy,headerColor:(0,r.getHeaderColor)(a)};switch(e){case"vertical":case"horizontal":i.diagram.data.update(a.id,{dir:e});break;case"addAssistant":i.diagram.data.add(b(b({},c),{assistant:!0,headerColor:(0,r.getHeaderColor)(a,"assistant")})),i.diagram.selection.add({id:c.id}),i.diagram.showItem(c.id);break;case"addPartner":i.diagram.data.add(b(b({},c),{partner:!0,headerColor:(0,r.getHeaderColor)(a,"partner")})),i.diagram.selection.add({id:c.id}),i.diagram.showItem(c.id);break;case"remove":i._removeItem(a.id)}i.events.fire(l.DiagramEditorEvents.afterShapeIconClick,[e,i.diagram.data.getItem(a.id)])}})},n.prototype._getContextMenuData=function(i){var e,a,c=[{id:"addPartner",value:y.locale.menuAddPartner,icon:"dxi dxi-plus"},{id:"addAssistant",value:y.locale.menuAddAssistant,icon:"dxi dxi-plus"}];return i.$connection&&i.$connection.length&&(i.dir==="vertical"||!((a=(e=i==null?void 0:i.$partners)===null||e===void 0?void 0:e.common)===null||a===void 0)&&a.length?i.dir==="vertical"&&c.push({id:"horizontal",value:y.locale.menuAlignChildrenHorizontally,icon:"dxi dxi-chart-horizontal"}):c.push({id:"vertical",value:y.locale.menuAlignChildrenVertically,icon:"dxi dxi-chart-vertical"})),i.$parent&&c.push({type:"separator"},{id:"remove",value:y.locale.menuDelete,icon:"dxi dxi-delete-outline",hotkey:"Del"}),c},n.prototype._getDefaults=function(){var i={text:{text:"Text"}};return["card","img-card","topic"].forEach(function(e){i[e]={text:"Text",title:"Title",height:e!=="topic"?90:30,width:e==="img-card"?210:140}}),i=b(b({},i),this.config.defaults)},n}(f.BaseDiagramEditor);p.OrgChartEditor=s},function(O,p,x){var w=this&&this.__spreadArray||function(d,_,f){if(f||arguments.length===2)for(var l,u=0,r=_.length;u<r;u++)!l&&u in _||(l||(l=Array.prototype.slice.call(_,0,u)),l[u]=_[u]);return d.concat(l||Array.prototype.slice.call(_))};Object.defineProperty(p,"__esModule",{value:!0}),p.getConnectPoints=p.Connect=void 0;var C=x(1),b=x(0),y=function(){function d(_,f){var l=this;this.createConnector=function(u){var r,s,t=(0,C.uid)();l._connector={id:t,from:u.id,fromSide:u.side};var n="line",i=l._nearShape.$item.getPoint(u.dx,u.dy);l._diagram.data.add({id:t,type:n,points:[{x:i.x,y:i.y},{x:i.x,y:i.y}],stroke:((s=(r=l._diagram.config.defaults)===null||r===void 0?void 0:r[n])===null||s===void 0?void 0:s.stroke)||"#2196F3",$move:!0}),l._diagram.selection.add({id:t})},this._setNearPoint=function(u){l._nearPoint&&u.side===l._nearPoint.side||(l._nearPoint=u,l._diagram.paint())},this._removeNearPoint=function(){l._nearPoint&&(l._nearPoint=null,l._diagram.paint())},this._controls=_,this._diagram=f,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type)}return d.prototype.getItemId=function(){return this._nearShape?this._nearShape.id:""},d.prototype.getPoints=function(_,f){var l=this;if(this._nearShape&&this._nearShape.$item.canResize()){var u=this._isOrgType?10:8,r=this._diagram.config.scale;if(_&&_.$item.getBaseType()==="line"&&_.$move){var s=this._diagram.data.map(function(c){var v=c.$item.getBaseType(),m=!0;if(l._diagram.data.eachParent(c.id,function(H){(H==null?void 0:H.open)===!1&&(m=!1)}),v!=="shape"||!c.$item.canResize()||!m)return null;var k=c.$item.getBox(),I=v==="group"||v==="swimlane",P=c[I?"$width":"width"]*r,T=c[I?"$height":"height"]*r;return(0,b.el)(".dhx_connect",{style:{width:P,height:T,position:"absolute",top:(k.top-f.top)*r,left:(k.left-f.left)*r,pointerEvents:"none",touchAction:"none",transform:"rotate(".concat(c.angle||0,"deg)")}},l._getConnectionPoints(g(c,u),r))});return(0,b.el)("div",s)}var t=this._nearShape.$item.getBaseType(),n=this._nearShape.$item.getBox(),i=t==="group"||t==="swimlane",e=this._nearShape[i?"$width":"width"]*r,a=this._nearShape[i?"$height":"height"]*r;return(0,b.el)(".dhx_connect",{style:{width:e,height:a,position:"absolute",top:(n.top-f.top)*r,left:(n.left-f.left)*r,pointerEvents:"none",touchAction:"none",transform:"rotate(".concat(this._nearShape.angle||0,"deg)")}},this._getConnectionPoints(g(this._nearShape,u),r))}},d.prototype._getConnectionPoints=function(_,f){var l=this;return _.map(function(u){return(0,b.el)(".dhx_connect_point",{style:{top:u.y*f-15,left:u.x*f-15},_key:(0,C.uid)(),class:"".concat((l._nearPoint&&l._nearPoint.side)==u.side&&u.id==l._nearPoint.id?"dhx_connect_nearest":""),_data:{resizer:l._controls,p:u},onpointerover:[l._setNearPoint,u],onpointerleave:[l._removeNearPoint],onpointerdown:[l.createConnector,u]},[(0,b.el)(".dhx_connect_grip",{_data:{resizer:l._controls,p:u}})])})},d.prototype.setNearShape=function(_){_!==this._nearShape&&(this._nearShape=_,this._diagram.paint())},d.prototype.toggleNearShape=function(_){this._nearShape=this._nearShape&&this._nearShape.id==_.id?null:_,this._diagram.paint()},d.prototype.removeNearShape=function(){this._nearShape=null,this._nearPoint=null},d.prototype.moveConnector=function(_,f,l,u){var r,s,t=this._controls.getPoint(_.clientX,_.clientY);if(this._connector){var n=this._diagram.data.getItem(this._connector.id);return n.points[n.points.length-1]={x:t.x,y:t.y},void this._diagram.paint()}var i=0,e=w([],f.points,!0),a=f.from&&f.to&&f.from===f.to;if(e[u.i])if(u.$slide)if(a)u.$slide==="horizontal"?(e[u.i].x+=l.x,a&&(e[u.i-1].x+=l.x)):(e[u.i].y+=l.y,a&&(e[u.i-1].y+=l.y)),e[u.i].custom=!0,e[u.i-1].custom=!0;else{var c=f.points[f.points.length-1],v=f.points[f.points.length-2];i=u.$slide==="horizontal"?Math.abs(c.x-v.x-l.x):Math.abs(c.y-v.y-l.y)}else e[u.i].x+=l.x,e[u.i].y+=l.y,e[u.i].custom=!0,u.side&&(s=u.side);this._nearPoint&&s?this._diagram.data.update(f.id,((r={points:e,$move:!0})[s]=this._nearPoint.id,r[s+"Side"]=this._nearPoint.side,r.customGap=i,r)):this._diagram.data.update(f.id,{points:e,$move:!0,customGap:i}),this._diagram.paint()},d.prototype.onUp=function(_){var f,l=this._diagram.selection.getItem();if(l&&l.$item.getBaseType()==="line"){delete l.$move;var u=this._controls.getPoint(_.clientX,_.clientY);if(this._findNearShape(u),this._nearShape&&this._connector){var r=this._connector.from,s=this._nearShape.id;l&&r&&s&&this._nearPoint?this._diagram.data.update(l.id,((f={from:this._connector.from,to:this._nearShape.id,fromSide:this._connector.fromSide,toSide:this._nearPoint.side,points:null,strokeType:this._diagram.config.lineConfig.lineType})[this._diagram.config.lineConfig.lineDirection]=this._diagram.config.lineConfig.arrowsHidden?"":"filled",f)):l!=null&&l.id&&this._diagram.data.remove(l.id)}!this._nearShape&&this._connector&&(l!=null&&l.id)&&this._diagram.data.remove(l.id),this._connector=null,this._nearShape=null,this._nearPoint=null}},d.prototype._getDistanceBetweenPoints=function(_){var f,l=_.side,u=_.shape,r=_.point;switch(l){case"top":f={x:u.x+u.width/2,y:u.y};break;case"right":f={x:u.x+u.width,y:u.y+u.height/2};break;case"bottom":f={x:u.x+u.width/2,y:u.y+u.height};break;case"left":f={x:u.x,y:u.y+u.height/2};break;case"center":f={x:u.x+u.width/2,y:u.y+u.height/2}}return Math.sqrt(Math.pow(r.x-f.x,2)+Math.pow(r.y-f.y,2))},d.prototype._findNearShape=function(_){var f=this;if(this._nearPoint){this._nearShape=null;var l=20;this._diagram.data.forEach(function(u){if(!u.hidden&&u.$item.getBaseType()==="shape"){var r=f._getDistanceBetweenPoints({side:f._nearPoint.side,shape:u,point:_});(0,C.isDefined)(r)&&r<=l&&(f._nearShape=u,l=r)}})}},d}();function g(d,_){if(!d)return[];var f=d.$item.getBaseType(),l=d.$item.getBox(),u=f==="group"||f==="swimlane",r=d[u?"$width":"width"],s=d[u?"$height":"height"],t=l.left-_/2,n=l.top-_/2;return[{dx:t+r/2,dy:n+s/2,x:0+r/2,y:0+s/2,id:d.id,side:"center"},{x:0+r/2,y:0,dx:t+r/2,dy:n,id:d.id,side:"top"},{x:0+r,y:0+s/2,dx:t+r,dy:n+s/2,id:d.id,side:"right"},{x:0+r/2,y:0+s,dx:t+r/2,dy:n+s,id:d.id,side:"bottom"},{x:0,y:0+s/2,dx:t,dy:n+s/2,id:d.id,side:"left"}]}p.Connect=y,p.getConnectPoints=g},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(f){for(var l,u=1,r=arguments.length;u<r;u++)for(var s in l=arguments[u])Object.prototype.hasOwnProperty.call(l,s)&&(f[s]=l[s]);return f},w.apply(this,arguments)},C=this&&this.__spreadArray||function(f,l,u){if(u||arguments.length===2)for(var r,s=0,t=l.length;s<t;s++)!r&&s in l||(r||(r=Array.prototype.slice.call(l,0,s)),r[s]=l[s]);return f.concat(r||Array.prototype.slice.call(l))};Object.defineProperty(p,"__esModule",{value:!0}),p.getRectPoints=p.getConnectorPoints=p.Resize=void 0;var b=x(0),y=x(59),g=function(){function f(l,u){this._controls=l,this._diagram=u,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type)}return f.prototype.getPoints=function(l,u){var r=this;if(l){var s="dhx_diagram_resizer_grip",t=l.$item.getBaseType(),n=l.$item.getBox(),i=this._isOrgType?10:8,e=this._diagram.config.scale,a=0;t==="line"&&(a=2,s+=" dhx_diagram_resizer_grip--line");var c=_(l,e).map(function(T){return T.$slide&&(s+=" dhx_slide dhx_slide--".concat(T.$slide)),(0,b.el)("div",{style:{cursor:T.cursor,position:"absolute",top:T.y-a-i/2,left:T.x-a-i/2,pointerEvents:"auto",touchAction:"auto",outline:"none"},tabindex:-1,class:s,_data:{resizer:r._controls,p:T}})}),v=t==="group"||t==="swimlane",m=l[v?"$width":"width"]*e,k=l[v?"$height":"height"]*e,I=(!l.angle||l.angle===0||l.angle===360)&&(t==="shape"||v)||t==="line",P=l==null?void 0:l.$group;return(0,b.el)(".dhx_diagram_resizer",{style:{width:m,height:k,top:(n.top-u.top)*e,left:(n.left-u.left)*e,transform:"rotate(".concat(l.angle||0,"deg)")}},[t==="shape"&&!this._isOrgType&&!P&&(0,b.el)("div.dhx_editor_icon.dhx_editor_icon-rotate",{style:{width:20,height:20,position:"absolute",top:k/2-10,left:m+10,zIndex:1e4,pointerEvents:"auto",touchAction:"auto"},_data:{resizer:this._controls,p:{rotate:!0}}},[(0,b.el)("i.dhx_editor_icon--no-touch.dxi.dxi-rotate-right")])].concat(I?c:null))}},f}();function d(f,l){var u=w({},f.points[0]);u.x*=l,u.y*=l;var r=[],s=f.points.map(function(t,n,i){if((t=w({},t)).x*=l,t.y*=l,t.cursor="pointer",t.i=n,n===0&&(t.side="from"),n===f.points.length-1&&(t.side="to"),f.connectType!=="flex"&&i[n+1]){var e=w({},i[n+1]);e.x*=l,e.y*=l;var a=i[n+2]&&{x:i[n+2].x,y:i[n+2].y},c=i[n-1]&&{x:i[n-1].x,y:i[n-1].y},v=c&&e&&a&&(c.x===t.x||c.y===t.y)&&(e.x===t.x||e.y===t.y)&&e.x!==c.x&&e.y!==c.y&&(a.x===e.x||a.y===e.y)&&a.x!==t.x&&a.y!==t.y;if((0,y.getLength)(t,e)>20){var m=(t.x+e.x)/2,k=(t.y+e.y)/2;v&&r.push({x:m-u.x+1,y:k-u.y+1,dx:m/l,dy:k/l,$slide:t.x===e.x?"horizontal":"vertical",i:n+1})}}return t.dx=t.x,t.dy=t.y,t.x=t.x-u.x+2,t.y=t.y-u.y+2,t});return C(C([],s,!0),r,!0)}function _(f,l){var u=f.$item.getBaseType();if(u==="line")return d(f,l);var r=u==="group"||u==="swimlane",s=f[r?"$width":"width"]*l,t=f[r?"$height":"height"]*l;return[{cursor:"nw-resize",x:0,y:0,dx:1,dy:1},{cursor:"n-resize",x:0+s/2,y:0,dx:0,dy:1},{cursor:"ne-resize",x:0+s,y:0,dx:-1,dy:1},{cursor:"e-resize",x:0+s,y:0+t/2,dx:-1,dy:0},{cursor:"se-resize",x:0+s,y:0+t,dx:-1,dy:-1},{cursor:"s-resize",x:0+s/2,y:0+t,dx:0,dy:-1},{cursor:"sw-resize",x:0,y:0+t,dx:1,dy:-1},{cursor:"w-resize",x:0,y:0+t/2,dx:1,dy:0}]}p.Resize=g,p.getConnectorPoints=d,p.getRectPoints=_},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.SelectionBox=void 0;var w=x(0),C=function(){function b(y,g){this.start=y,this._diagram=g,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type)}return b.prototype.render=function(){var y=Math.abs(this.start.$rx-this.end.$rx),g=Math.abs(this.start.$ry-this.end.$ry),d=this.start.$rx<this.end.$rx?this.start.$rx:this.end.$rx,_=this.start.$ry<this.end.$ry?this.start.$ry:this.end.$ry;return(0,w.el)(".dhx_selection_box",{"data-dhx-id":"dhx_selection_box",style:{left:d,top:_,width:this.start.$rx<this.end.$rx?y:this.start.$rx-d,height:this.start.$ry<this.end.$ry?g:this.start.$ry-_}})},b.prototype.isValid=function(){return this.start&&this.end&&Math.abs(this.start.$rx-this.end.$rx)>10&&Math.abs(this.start.$ry-this.end.$ry)>10},b.prototype.addSelected=function(y){var g=this;y===void 0&&(y={start:this.start,end:this.end});var d=y.start.x<y.end.x?y.start.x:y.end.x,_=y.end.x>y.start.x?y.end.x:y.start.x,f=y.start.y<y.end.y?y.start.y:y.end.y,l=y.end.y>y.start.y?y.end.y:y.start.y,u=[],r=[];this._diagram.data.mapVisible(function(s){if(!g._isOrgType||s.$item.getBaseType()!=="line"){var t=s.$item.getBox();t.left>=d&&t.right<=_&&t.top>=f&&t.bottom<=l&&(u.push(s),r.push(s.id))}}),u.forEach(function(s,t){g._diagram.selection.add({id:s.id,join:!!t,batch:r})})},b}();p.SelectionBox=C},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(g){for(var d,_=1,f=arguments.length;_<f;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},w.apply(this,arguments)},C=this&&this.__spreadArray||function(g,d,_){if(_||arguments.length===2)for(var f,l=0,u=d.length;l<u;l++)!f&&l in d||(f||(f=Array.prototype.slice.call(d,0,l)),f[l]=d[l]);return g.concat(f||Array.prototype.slice.call(d))};Object.defineProperty(p,"__esModule",{value:!0}),p.CopyManager=void 0;var b=x(1),y=function(){function g(d){this._copiedStyles={},this._copiedItems=[],this._props=["type","extraLinesStroke","fill","fontColor","fontSize","fontStyle","fontWeight","lineHeight","stroke","strokeDash","strokeType","strokeWidth","textAlign","textVerticalAlign","headerColor","fill","overFill","partiallyFill","borderStyle","iconColor"],this._editor=d,this._data=d.diagram.data}return g.prototype.copy=function(d){var _=this;this._editor.config.type!=="mindmap"&&this._editor.config.type!=="org"&&(d!=null&&d.length||(d=this._editor.diagram.selection.getIds()),this._copiedItems=[],d.forEach(function(f){var l=_._data.getItem(f),u=l.$item.getBaseType();if(l.$group||_._copiedItems.push(l),u==="group"||u==="swimlane"){var r={};_._data.eachChild(f,function(s){var t=s.id;r[t]=!0}),_._data.forEach(function(s){var t;((t=s==null?void 0:s.$item)===null||t===void 0?void 0:t.getBaseType())==="line"&&r[s==null?void 0:s.from]&&r[s==null?void 0:s.to]&&_._copiedItems.push(s)})}}))},g.prototype.paste=function(){var d=this;if(this._copiedItems.length&&this._editor.config.type!=="mindmap"&&this._editor.config.type!=="org"){this._editor.diagram.selection.remove();var _=[],f={},l={},u=function(r,s){s===void 0&&(s=0),r.$group?s+=r.$gx:s=r.x+r.width+40+s;var t,n=[];if(t=r.$item.getBaseType()==="swimlane"?d._data.add(w(w({},r),{groupChildren:n,id:(0,b.uid)(),x:s,layout:[]})):d._data.add(w(w({},r),{groupChildren:n,id:(0,b.uid)(),x:s})),d._data.eachChild(r.id,function(m){var k;m.$item.getBaseType()==="group"?(k=u(m,s),l[m.id]=k):k=d._data.add(w(w({},m),{$group:null,id:(0,b.uid)(),x:s+m.$gx})),n.push(k),f[m.id]=k},!1),r.$item.getBaseType()==="swimlane"){for(var i=JSON.parse(JSON.stringify(C([],r.layout,!0))),e=0;e<i.length;e++)for(var a=i[e],c=0;c<a.length;c++){var v=a[c];i[e][c]=l[v]}d._data.update(t,{groupChildren:n,layout:i})}else d._data.update(t,{groupChildren:n});return f[r.id]=t,t};this._copiedItems.forEach(function(r,s){var t;switch(r.$item.getBaseType()){case"shape":t=d._data.add(w(w({},r),{id:(0,b.uid)(),x:r.x+200})),f[r.id]=t;break;case"group":case"swimlane":t=u(r)}_.push(t)}),this._copiedItems.forEach(function(r){var s;if(f.hasOwnProperty(r.from)&&f.hasOwnProperty(r.to)){var t=w(w({},r),{id:(0,b.uid)(),title:w({},r.title),from:f[r.from],to:f[r.to]});s=d._data.add(t),d._data.eachChild(r.id,function(n){_.push(d._data.add(w(w({},n),{parent:s,id:(0,b.uid)()})))}),_.push(s)}}),_.forEach(function(r,s){d._editor.diagram.selection.add({id:r,join:!!s,batch:_})})}},g.prototype.copyStyles=function(d){(0,b.isDefined)(d)||(d=this._editor.diagram.selection.getIds()[0]);var _=this._editor.diagram.data.getItem(d);if(_){for(var f in this._copiedStyles={},_)this._props.includes(f)&&(this._copiedStyles[f]=_[f]);if(_.header)for(var f in this._copiedStyles.header={},_.header)this._props.includes(f)&&(this._copiedStyles.header[f]=_.header[f]);if(_.style)for(var f in this._copiedStyles.style={},_.style)this._props.includes(f)&&(this._copiedStyles.style[f]=_.style[f])}},g.prototype.pasteStyles=function(d){var _=this;d!=null&&d.length||(d=this._editor.diagram.selection.getIds());var f=this._copiedStyles.type;d.forEach(function(l){var u=_._data.getItem(l),r=u.type;if(r===f&&f==="line"||r!=="line"&&f!=="line"){var s=w({},_._copiedStyles);delete s.type,u.type==="$group"||u.type==="$swimlane"?(u.header||delete s.header,u.style||delete s.style,(0,b.extend)(u,s,!0),_._data.update(u.id,w({},u))):_._data.update(u.id,w({},s))}})},g}();p.CopyManager=y},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.getDefaultShapeToolbar=p.getMindmapShapeToolbar=p.getOrgShapeToolbar=void 0,p.getOrgShapeToolbar=function(w){return[{id:"add",content:"<i class='dxi dxi-plus-box'>",check:function(C){return!Array.isArray(C)&&!C.assistant&&!C.partner},tooltip:w.addShape},{id:"menu",content:"<i class='dxi dxi-dots-vertical'>",check:function(C){return!Array.isArray(C)&&!C.assistant&&!C.partner},tooltip:w.menu},{id:"remove",content:"<i class='dxi dxi-delete-outline'>",check:function(C){return C.assistant||C.partner||Array.isArray(C)},css:function(){return"dhx_diagram_toolbar__icon--remove"},tooltip:w.remove}]},p.getMindmapShapeToolbar=function(w){return[{id:"add",content:"<i class='dxi dxi-plus-box'>",check:function(C){return!Array.isArray(C)&&C.$level!==0},tooltip:w.addShape},{id:"addLeft",content:"<i class='dxi dxi-plus-box'>",check:function(C){return!Array.isArray(C)&&C.$level===0},tooltip:w.addLeftShape},{id:"addRight",content:"<i class='dxi dxi-plus-box'>",check:function(C){return!Array.isArray(C)&&C.$level===0},tooltip:w.addRightShape},{id:"remove",content:"<i class='dxi dxi-delete-outline'>",check:function(C){return!Array.isArray(C)&&!!C.$parent||Array.isArray(C)},css:function(){return"dhx_diagram_toolbar__icon--remove"},tooltip:w.remove}]},p.getDefaultShapeToolbar=function(w,C){return[{id:"lineTitleAutoPositionEnable",content:"<i class='dxi dxi-format-text-rotation-angle-up'>",check:function(b){var y;return((y=b.$item)===null||y===void 0?void 0:y.getBaseType())==="lineTitle"&&b.autoPosition},tooltip:w.lineTitleAutoPositionEnable},{id:"lineTitleAutoPositionDisable",content:"<i class='dxi dxi-format-text-rotation-none'>",check:function(b){var y;return((y=b.$item)===null||y===void 0?void 0:y.getBaseType())==="lineTitle"&&!b.autoPosition},tooltip:w.lineTitleAutoPositionDisable},{id:"addLineTitle",content:"<i class='dxi dxi-format-annotation-plus'>",check:function(b){var y;return((y=b.$item)===null||y===void 0?void 0:y.getBaseType())==="line"&&!b.$selectedPoint},tooltip:w.addLineTitle},{id:"addColumnLast",content:"<i class='dxi dxi-table-column-plus-after'>",check:function(b){var y;return((y=b.$item)===null||y===void 0?void 0:y.getBaseType())==="swimlane"},tooltip:w.addColumnLast},{id:"addRowLast",content:"<i class='dxi dxi-table-row-plus-after'>",check:function(b){var y;return((y=b.$item)===null||y===void 0?void 0:y.getBaseType())==="swimlane"},tooltip:w.addRowLast},{id:"copy",content:"<i class='dxi dxi-copy'>",check:function(b){var y,g;return((y=b.$item)===null||y===void 0?void 0:y.getBaseType())!=="line"&&((g=b.$item)===null||g===void 0?void 0:g.getBaseType())!=="lineTitle"&&!b.$group},tooltip:w.copy},{id:"connect",content:"<i class='dxi dxi-line-connect'>",check:function(b){var y;return C.connectionPoints&&((y=b.$item)===null||y===void 0?void 0:y.getBaseType())==="shape"},css:function(b){return b.$connectMode?" dhx_diagram_toolbar__icon--active":""},tooltip:w.connect},{id:"remove",content:"<i class='dxi dxi-delete-outline'>",css:function(){return"dhx_diagram_toolbar__icon--remove"},check:function(b){return!b.$selectedPoint},tooltip:w.remove},{id:"removePoint",content:"<i class='dxi dxi-delete-outline'>",check:function(b){var y;return((y=b.$item)===null||y===void 0?void 0:y.getBaseType())==="line"&&b.$selectedPoint},tooltip:w.removePoint},{id:"alignHorizontalLeft",content:"<i class='dxi dxi-align-horizontal-left'>",check:function(b){return Array.isArray(b)&&b.length>1},tooltip:w.alignHorizontalLeft},{id:"alignHorizontalCenter",content:"<i class='dxi dxi-align-horizontal-center'>",check:function(b){return Array.isArray(b)&&b.length>1},tooltip:w.alignHorizontalCenter},{id:"alignHorizontalRight",content:"<i class='dxi dxi-align-horizontal-right'>",check:function(b){return Array.isArray(b)&&b.length>1},tooltip:w.alignHorizontalRight},{id:"alignHorizontalDistribute",content:"<i class='dxi dxi-align-horizontal-distribute'>",check:function(b){return Array.isArray(b)&&b.length>1},tooltip:w.alignHorizontalDistribution},{id:"alignVerticalDistribute",content:"<i class='dxi dxi-align-vertical-distribute'>",check:function(b){return Array.isArray(b)&&b.length>1},tooltip:w.alignVerticalDistribution},{id:"alignVerticalTop",content:"<i class='dxi dxi-align-vertical-top'>",check:function(b){return Array.isArray(b)&&b.length>1},tooltip:w.alignVerticalTop},{id:"alignVerticalMiddle",content:"<i class='dxi dxi-align-vertical-center'>",check:function(b){return Array.isArray(b)&&b.length>1},tooltip:w.alignVerticalMiddle},{id:"alignVerticalBottom",content:"<i class='dxi dxi-align-vertical-bottom'>",check:function(b){return Array.isArray(b)&&b.length>1},tooltip:w.alignVerticalBottom}]}},function(O,p,x){var w,C=this&&this.__extends||(w=function(r,s){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},w(r,s)},function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function t(){this.constructor=r}w(r,s),r.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}),b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},b.apply(this,arguments)},y=this&&this.__rest||function(r,s){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&s.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)s.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]])}return t};Object.defineProperty(p,"__esModule",{value:!0}),p.Toolbar=void 0;var g=x(102),d=x(30),_=x(1),f=x(45),l=x(101),u=function(r){function s(t,n){var i=r.call(this,null,{css:t.css,navigationType:t.navigationType||"click"})||this;return i._editor=n,i._meta=(0,l.meta)(f.i18n.diagram,i._editor.config.type),i.parse(t.items),[d.NavigationBarEvents.click,d.NavigationBarEvents.inputChange].forEach(function(e){i.events.on(e,function(a,c){var v=i.data.getItem(a);typeof v.handler=="function"&&v.handler(i._editor,c),typeof v.checkIcon=="function"&&i.checkIcons()})}),i.events.on(d.NavigationBarEvents.openMenu,function(){i.checkIcons()}),i}return C(s,r),s.prototype.parse=function(t){this.data.parse(this.getPreparedItems(t))},s.prototype.getPreparedItems=function(t){var n=this;return t.map(function(i){if(typeof i=="string"&&n._meta[i])return(m=(0,_.getCloneObject)(n._meta[i])).items&&(m.items=n.getPreparedItems(m.items)),typeof m.checkIcon=="function"&&(m.icon=m.checkIcon(n._editor)||""),m;if(typeof i=="object"){if(n._meta[i.type]){var e=i,a=e.items,c=e.type,v=y(e,["items","type"]);return(m=(0,_.getCloneObject)(n._meta[c])).items&&(m.items=n.getPreparedItems(a||m.items)),typeof m.checkIcon=="function"&&(m.icon=m.checkIcon(n._editor)||""),b(b({},m),v)}var m;return i.items?((m=(0,_.getCloneObject)(i)).items&&(m.items=n.getPreparedItems(m.items)),typeof m.checkIcon=="function"&&(m.icon=m.checkIcon(n._editor)||""),m):i}return{}})},s.prototype.checkIcons=function(){var t=this;this.data.forEach(function(n){typeof n.checkIcon=="function"&&t.data.update(n.id,{icon:n.checkIcon(t._editor)})})},s}(g.ProToolbar);p.Toolbar=u},function(O,p,x){var w,C=this&&this.__extends||(w=function(u,r){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,t){s.__proto__=t}||function(s,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])},w(u,r)},function(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=u}w(u,r),u.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}),b=this&&this.__assign||function(){return b=Object.assign||function(u){for(var r,s=1,t=arguments.length;s<t;s++)for(var n in r=arguments[s])Object.prototype.hasOwnProperty.call(r,n)&&(u[n]=r[n]);return u},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.ProToolbar=void 0;var y=x(103),g=x(34),d=x(0),_=x(2),f=x(21),l=function(u){function r(s,t){var n=u.call(this,s,t)||this;return n.scrollView=new g.ScrollView(function(){return n.getRootView()}),n}return C(r,u),r.prototype._draw=function(s){var t=this,n=this.data.getLength()?this.data.reduce(function(e,a){switch(a.type){case"title":return e||20;case"button":return a.size==="small"&&(!e||e<=28)?28:e||32;default:return 32}},0)+24:null,i=[(0,d.el)("ul.dhx_navbar.dhx_navbar--horizontal",b(b({"data-dhx-widget-id":this._uid,tabindex:0},function(e){return{role:"toolbar","aria-label":e||""}}(s)),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,onkeydown:this._handlers.onkeydown,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,_hooks:{didInsert:function(e){e.el.addEventListener("keyup",function(a){if(a.which===9){var c=(0,_.locateNode)(document.activeElement);if(c){var v=c.getAttribute("data-dhx-id"),m=t.data.getItem(v);m!=null&&m.tooltip&&(0,f.tooltip)(m.tooltip,{node:c,position:f.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(e){return t._factory(e)},this.data.getRoot(),!1))];return(0,d.el)("nav.dhx_widget.dhx_toolbar",{style:{height:n},class:this.config.css?this.config.css:""},this.scrollView&&this.scrollView.config.enable?[].concat(this.scrollView.render(i)):i)},r}(y.Toolbar);p.ProToolbar=l},function(O,p,x){var w,C=this&&this.__extends||(w=function(t,n){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])},w(t,n)},function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}w(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}),b=this&&this.__assign||function(){return b=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var a in n=arguments[i])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Shapebar=void 0;var y=x(1),g=x(0),d=x(2),_=x(5),f=x(29),l=x(95),u=x(96),r=x(94),s=function(t){function n(i,e){var a=t.call(this,null,i)||this;a._dropdowns=[],a._pull={},a._handleMove=function(v){(!(Math.abs(v.pageX-a._pressedShapeInfo.$x+v.pageY-a._pressedShapeInfo.$y)<10)||a._shadow)&&a._pressedShapeInfo&&(a._shadow||(a._shadow=(0,g.create)({render:function(){return a._getShadow()}},a),a._shadow.mount(a._editor.view.getRootView().node.el)),a._pressedShapeInfo.$x=v.clientX,a._pressedShapeInfo.$y=v.clientY,a._shadow.redraw())},a._handleUp=function(v){document.removeEventListener("pointermove",a._handleMove),document.removeEventListener("pointerup",a._handleUp),a.events.fire("shapesUp",[b({},a._pressedShapeInfo)]),a._pressedShapeInfo=null,a._shadow&&(a._shadow.unmount(),a._shadow=null)},a._toggle=function(v){a._dropdowns[v]=!a._dropdowns[v]},a.events=e.events,a._shapes=e.diagram.flowShapes||{},a._defaults=e.diagram.config.defaults||{},a._data=e.diagram.data||[],a._editor=e,a._htmlEvents={onpointerdown:(0,d.eventHandler)(function(v){return(0,d.locate)(v)},{dhx_editor_shapebar__preview:function(v,m){v.which===1&&(a._pressedShapeInfo=b(b({},a._pull[m]),{$x:v.x,$y:v.y}),document.addEventListener("pointermove",a._handleMove),document.addEventListener("pointerup",a._handleUp))}})};var c=(0,g.create)({render:function(v){return a._render(v)}},a);return a.mount(null,c),a}return C(n,t),n.prototype._getTextIcon=function(){return(0,g.el)("i.dhx_editor_icon-text.dxi.dxi-format-textbox")},n.prototype._wrapDropdown=function(i,e,a){a===void 0&&(a=!0);var c=i,v=this._dropdowns[i]=this._dropdowns[i]?this._dropdowns[i]:a;return(0,g.el)(".dhx_editor_shapebar__section",[(0,g.el)("input",{class:"dhx_editor_shapebar__checkbox",id:c,name:c,type:"checkbox",checked:v,onchange:[this._toggle,i]}),(0,g.el)("label",{class:"dhx_editor_shapebar__label",for:c},i),e])},n.prototype._getShadow=function(){if(!this._pressedShapeInfo)return this._shadow;var i,e=this._pressedShapeInfo,a=f.shapes[e.type];switch(e.type){case"$swimlane":i=this.getSwimlaneNode(b(b({},e),{width:2*e.width,height:2*e.height}),{data:this._data});break;case"$group":i=this.getGroupNode(e,{data:this._data});break;case"text":i=this._getTextIcon();break;default:i=a?new a(e,{defaults:this._defaults[e.type]||{},shapes:this._shapes}).render():new f.CustomShape(e,{defaults:this._defaults[e.type]||{},shapes:this._shapes}).render()}return(0,g.el)(".dhx_editor_shapebar__shadow",{_key:e.$key,style:{top:e.$y,left:e.$x}},[].concat(i))},n.prototype._getWrapped=function(i,e,a){var c,v,m,k,I,P,T,H,$,L,j=f.shapes[i],M=((c=this._defaults[i])===null||c===void 0?void 0:c.preview)||{};this._defaults[i]&&typeof M=="string"?L=M:(M.img&&(L=M.img),M.gap&&($=M.gap),M.scale&&(H=M.scale),M.width&&(P=M.width),M.height&&(T=M.height));var F,S,R=H||((v=this.config.preview)===null||v===void 0?void 0:v.scale),B=$||((m=this.config.preview)===null||m===void 0?void 0:m.gap);if(L)return(0,g.el)(".dhx_editor_shapebar__preview",{_key:e.$key,"data-dhx-id":e.$key,style:{width:P||"calc(100%/3)",height:T||"100%",margin:B}},[(0,g.el)("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:L||"",alt:i}),(0,g.el)("div.dhx_editor_shapebar__preview-img-overlay")]);var Y,q=e.width,U=e.height;switch(Object.keys(f.flowShapes).includes(i)?(F=((k=this._defaults[i])===null||k===void 0?void 0:k.width)*R||140*R,S=((I=this._defaults[i])===null||I===void 0?void 0:I.height)*R||90*R):(F=q*R,S=U*R),i){case"$group":Y=this.getGroupNode(b(b({},e),{type:i,width:q,height:U}),{data:this._data});break;case"$swimlane":Y=this.getSwimlaneNode(b(b({},e),{type:i,width:q,height:U}),{data:this._data});break;default:Y=j?new j(e,{defaults:this._defaults[i]||{},shapes:this._shapes}).render():new f.CustomShape(e,{defaults:this._defaults[i]||{},shapes:this._shapes}).render()}return(0,g.el)(".dhx_editor_shapebar__preview",{_key:e.$key,"data-dhx-id":e.$key,style:{width:F,height:S,margin:B}},[a||(0,g.el)("div",{style:{transform:"scale(".concat(R,")"),transformOrigin:(0,d.isIE)()?"0":"50%"}},[Y])])},n.prototype.getGroupNode=function(i,e){return new l.Group(i,e).render()},n.prototype.getSwimlaneNode=function(i,e){var a={},c=i.layout;if(i.layout.length){var v=new Set(c.flat(1/0));i.groupChildren=Array.from(v);for(var m=0;m<c.length;m++)for(var k=c[m],I=0;I<k.length;I++){var P=c[m][I];a[P]||(a[P]={type:"$sgroup",id:P,groupChildren:[]},a[P].$item=new u.GroupSwimlane(a[P],e))}}return new r.Swimlane(i,e).render(Object.values(a))},n.prototype._shapeInit=function(i){var e,a=["circle","junction","or"].includes(i.type),c=this._defaults[i.type],v=i.text||(c==null?void 0:c.text)||i.type[0].toUpperCase()+i.type.slice(1);switch(i.width=i.width||(c==null?void 0:c.width)||(a?90:140),i.height=i.height||(c==null?void 0:c.height)||90,i.fontColor=i.fontColor||(c==null?void 0:c.fontColor)||"var(--dhx-shapebar-item-font-color)",i.type){case"text":i.text=v,e=this._getTextIcon();break;case"card":case"img-card":i.text=i.text||(c==null?void 0:c.text)||f.locale.text,i.title=i.title||(c==null?void 0:c.text)||f.locale.title;break;case"topic":return i.text=i.text||(c==null?void 0:c.text)||f.locale.text,i.height=i.height||(c==null?void 0:c.height)||30,this._getWrapped(i.type,i);default:i.fill=i.fill||(c==null?void 0:c.fill)||"var(--dhx-shapebar-item-background)",i.stroke=i.stroke||(c==null?void 0:c.stroke)||"var(--dhx-shapebar-item-border-color)",i.text=v}return this._getWrapped(i.type,i,e)},n.prototype._barCreator=function(){var i=this,e=[],a=0,c={increaseValue:function(){return++a},getValue:function(){return a}};if(this.config.sections){var v=function(H){var $=[];m.config.sections[H].forEach(function(L){var j=["org","group","swimlane","flowShapes"].find(function(M){return L[M]===!0});j&&!L.type?$.push(i._getShapeSection(j,c)):(i._addToPull(c,L),$.push(i._shapeInit(i._pull[a])))}),e.push(m._wrapDropdown(H,(0,g.el)(".dhx_editor_shapebar__area",$)))},m=this;for(var k in this.config.sections)v(k)}else{var I=Object.keys(this._defaults).map(function(H){return i._addToPull(c,H),i._shapeInit(i._pull[a])}),P=this._getShapeSection("group",c),T=this._getShapeSection("swimlane",c);e.push(this._wrapDropdown(f.locale.shapebar.shapeSections,(0,g.el)(".dhx_editor_shapebar__area",I)),this._wrapDropdown(f.locale.shapebar.groupSections,(0,g.el)(".dhx_editor_shapebar__area",P)),this._wrapDropdown(f.locale.shapebar.swimlaneSections,(0,g.el)(".dhx_editor_shapebar__area",T)))}return e},n.prototype._getShapeSection=function(i,e){var a=this,c="var(--dhx-shapebar-item-background)",v="var(--dhx-shapebar-item-font-color)",m="var(--dhx-shapebar-item-border-color)";switch(i){case"group":return[{type:"$group",header:{text:f.locale.shapebar.group,closable:!0,fill:c,fontColor:v},style:{stroke:m},height:300,width:480}].map(function(k){return a._addToPull(e,k),a._shapeInit(a._pull[e.getValue()])});case"swimlane":return[{type:"$swimlane",height:340,width:480,header:{text:f.locale.shapebar.swimlaneRows,closable:!0,fill:c,fontColor:v},style:{stroke:m},layout:[[(0,y.uid)()],[(0,y.uid)()],[(0,y.uid)()]],subHeaderRows:{enable:!0,fill:c,fontColor:v},subHeaderCols:{enable:!0,fill:c,fontColor:v}},{type:"$swimlane",height:340,width:480,header:{text:f.locale.shapebar.swimlaneCols,closable:!0,fill:c,fontColor:v},style:{stroke:m},layout:[[(0,y.uid)(),(0,y.uid)(),(0,y.uid)()]],subHeaderRows:{enable:!0,fill:c,fontColor:v},subHeaderCols:{enable:!0,fill:c,fontColor:v}},{type:"$swimlane",height:340,width:480,header:{text:f.locale.shapebar.swimlaneMix,closable:!0,fill:c,fontColor:v},style:{stroke:m},layout:[[(0,y.uid)(),(0,y.uid)(),(0,y.uid)()],[(0,y.uid)(),(0,y.uid)(),(0,y.uid)()],[(0,y.uid)(),(0,y.uid)(),(0,y.uid)()]],subHeaderRows:{enable:!0,fill:c,fontColor:v},subHeaderCols:{enable:!0,fill:c,fontColor:v}}].map(function(k){return a._addToPull(e,k),a._shapeInit(a._pull[e.getValue()])});case"org":return["card","img-card"].map(function(k){return a._addToPull(e,k),a._shapeInit(a._pull[e.getValue()])});default:return Object.keys(f.flowShapes).map(function(k){return a._addToPull(e,k),a._shapeInit(a._pull[e.getValue()])})}},n.prototype._addToPull=function(i,e){i.increaseValue();var a=i.getValue();this._pull[a]={$key:a,type:e},(0,y.isObject)(e)&&(this._pull[a]=b(b({},this._pull[a]),e))},n.prototype._render=function(i){return(0,g.el)(".dhx_editor_shapebar__wrapper",{onpointerdown:this._htmlEvents.onpointerdown},[].concat(this._barCreator()))},n}(_.View);p.Shapebar=s},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.base=void 0,p.base={shapebar:{width:300,scale:.5,gap:"6px 8px"},editbar:{width:300}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Editbar=void 0;var C=x(217),b=x(45),y=x(1),g=x(8),d=x(27),_=x(43),f=x(247),l=x(275),u=function(){function r(s,t,n){var i=this;if(this._activeControls={},this._cell=s,this._editor=n,this._diagram=this._editor.diagram,this._properties=w(w({},(0,l.default)(b.i18n.diagram)[this._editor.config.type]),t.properties),this._controls=(0,f.default)(b.i18n.diagram),t.controls)for(var e=0,a=Object.entries(t.controls);e<a.length;e++){var c=a[e],v=c[0],m=c[1];this._controls[v]=w(w({},this._controls[m.type||v]),m)}this._diagram.data.getLength()||this.setControls({type:"$default"}),this._diagram.events.on(d.SelectionEvents.afterSelect,function(k){var I=k.id,P=k.batch;P.length>1?I===P[P.length-1]&&i.setControls({type:"$default"}):i._diagram.selection.getIds().length>1?i.setControls({type:"$default"}):i.setControls({id:I})}),this._diagram.events.on(d.SelectionEvents.afterUnSelect,function(k){var I=k.id,P=k.batch;P.length>1?I===P[P.length-1]&&i.setControls({type:"$default"}):i.setControls({type:"$default"})}),this._diagram.events.on(d.DataEvents.change,function(k,I){var P=i._diagram.selection.getItem();({add:!0,update:!0})[I]&&(P==null?void 0:P.id)===k&&Object.keys(i._activeControls).forEach(function(T){i.useSetValue({id:T,item:P})})}),[d.DataEvents.load,d.DataEvents.removeAll].forEach(function(k){i._diagram.events.on(k,function(){return i.setControls({type:"$default"})})})}return r.prototype.isFocused=function(){var s,t;return(t=(s=this._cell.getCellView())===null||s===void 0?void 0:s.el)===null||t===void 0?void 0:t.contains(document.activeElement)},r.prototype.setControls=function(s){var t=s.type,n=s.id;this._activeControls={};var i=this._diagram.data.getItem(n);n&&(t=i.type),this.setForm(this.getFormLayout(this.getTypeProperties(t,i)),i),this._cell.attach(this._form)},r.prototype.getFormLayout=function(s,t){var n=this;return s.map(function(i){return n.getControlLayout(n.getControlProperties(w(w({},i),{$parent:t})))})},r.prototype.getControlLayout=function(s){var t=this._controls[s.type];t||s.rows||s.cols||(0,g.dhxError)("".concat(s.type," control does not exist. See doc: https://docs.dhtmlx.com/diagram/"));for(var n=0,i=Object.entries(s);n<i.length;n++){var e=i[n],a=e[0],c=e[1];a!=="rows"&&a!=="cols"||(s[a]=this.getFormLayout(c,s.id||s.$parent))}return typeof(t==null?void 0:t.$layout)=="function"&&t.$layout(s)||s},r.prototype.getControlProperties=function(s){var t,n,i=this._controls[s.type];if(i){var e=s.name||s.id||(0,y.uid)(),a=(n=(t=this._activeControls[s.$parent])===null||t===void 0?void 0:t.$properties)===null||n===void 0?void 0:n[s.key],c=this._activeControls[e]=w(w(w({id:e},i),s),a);for(var v in c)v.startsWith("$")||(s[v]=c[v])}return s},r.prototype.getTypeProperties=function(s,t){var n=t==null?void 0:t.$item.getBaseType(),i=this._properties[s]||this._properties["$".concat(n)];return typeof i=="function"?i({item:t,editor:this._editor}):i},r.prototype.setForm=function(s,t){var n=this;s===void 0&&(s=[]),this._form&&this._form.destructor(),this._form=new C.ProForm(null,{padding:"16px 16px 0 16px",rows:s}),Object.entries(this._activeControls).forEach(function(i){var e,a=i[0],c=i[1];typeof c.$setValue=="function"&&n.useSetValue({id:a,item:t});var v=c.$on&&Object.entries(c.$on);v&&v.forEach(function(m){var k=m[0],I=m[1],P=n._form.getItem(a);P==null||P.events.on(k,function(T){if(typeof I=="function")return I({control:P,editor:n._editor,id:t==null?void 0:t.id},T)})}),(e=n._form.getItem(a))===null||e===void 0||e.events.on(C.ItemEvent.input,function(m){n.useHandler({id:a,value:m,item:t})})}),this._form.events.on(C.FormEvents.change,function(i,e){n.useHandler({id:i,value:e,item:t})})},r.prototype.useHandler=function(s){var t=s.id,n=s.value,i=s.item,e=this._activeControls[t];if(e&&typeof e.$handler=="function"){if(n===(0,_.getValueFromObjectByKeys)(i,e.key))return;e.$handler({id:i==null?void 0:i.id,key:e.key,editor:this._editor,control:this._form.getItem(t),value:n}),this._editor.paint()}},r.prototype.useSetValue=function(s){var t=s.id,n=s.item,i=this._activeControls[t];if(i&&typeof i.$setValue=="function"){var e=(0,_.getValueFromObjectByKeys)(n,i.key),a=this._form.getItem(i.id);if(a.getValue()===e)return;i.$setValue({control:a,value:e,editor:this._editor})}},r}();p.Editbar=u},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(104),p),C(x(245),p),C(x(4),p)},function(O,p,x){var w,C=this&&this.__extends||(w=function(i,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},w(i,e)},function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=i}w(i,e),i.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}),b=this&&this.__spreadArray||function(i,e,a){if(a||arguments.length===2)for(var c,v=0,m=e.length;v<m;v++)!c&&v in e||(c||(c=Array.prototype.slice.call(e,0,v)),c[v]=e[v]);return i.concat(c||Array.prototype.slice.call(e))};Object.defineProperty(p,"__esModule",{value:!0}),p.DatePicker=void 0;var y=x(48),g=x(24),d=x(3),_=x(0),f=x(1),l=x(9),u=x(11),r=x(4),s=x(6),t=x(14),n=function(i){function e(a,c){var v=i.call(this,null,c)||this;return v.events=new d.EventSystem,v._popupIsFocus=!1,v._propsItem=["required","validation","valueFormat","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],v._propsCalendar=["mode","mark","disabledDates","weekStart","weekNumbers","timePicker","dateFormat","timeFormat","thisMonthOnly"],v._props=b(b(b([],s.baseProps,!0),v._propsItem,!0),v._propsCalendar,!0),v._keyManager=new t.KeyManager(function(){var m,k,I,P=document.activeElement;return((I=(k=(m=v.getRootView())===null||m===void 0?void 0:m.refs)===null||k===void 0?void 0:k.input)===null||I===void 0?void 0:I.el)===P||v._popup.isVisible()}),v._initView(c),v._initHandlers(),v._initHotkeys(),v.mount(a,(0,_.create)({render:function(){return v._draw()}})),v}return C(e,i),e.prototype.destructor=function(){this._popup&&this._popup.destructor(),this._keyManager&&this._keyManager.destructor(),this.calendar&&this.calendar.destructor(),this.events&&this.events.clear(),this.events=this._uid=this._propsCalendar=this._propsItem=this._props=this._keyManager=null,i.prototype._destructor.call(this)},e.prototype.setProperties=function(a){if(a&&!(0,f.isEmptyObj)(a)&&this.events.fire(r.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var c in a)this._props.includes(c)&&(this.config[c]=a[c],this._propsCalendar.includes(c)&&(this.calendar.config[c]=a[c]));this.events.fire(r.ItemEvent.afterChangeProperties,[this.getProperties()]),this.calendar.paint(),this.paint()}},e.prototype.getProperties=function(){for(var a={},c=0,v=this._props;c<v.length;c++){var m=v[c];a[m]=this.config[m]}return a},e.prototype.show=function(){var a=this.config,c=a.value;a.hidden&&this.events.fire(r.ItemEvent.beforeShow,[c])&&(this.config.hidden=!1,this.events.fire(r.ItemEvent.afterShow,[c]))},e.prototype.hide=function(a){var c=this.config,v=c.value;c.hidden&&!a||!this.events.fire(r.ItemEvent.beforeHide,[v,a])||(this.config.hidden=!0,this.events.fire(r.ItemEvent.afterHide,[v,a]))},e.prototype.isVisible=function(){return!this.config.hidden},e.prototype.disable=function(){this.config.disabled=!0,this.paint()},e.prototype.enable=function(){var a;this.config.disabled=!1,!((a=this.parent)===null||a===void 0)&&a.isDisabled()&&this.parent.enable(),this.paint()},e.prototype.isDisabled=function(){return!!this.config.disabled},e.prototype.validate=function(a){var c;a===void 0&&(a=!1);for(var v=[],m=1;m<arguments.length;m++)v[m-1]=arguments[m];var k=v.length?v[0]:this.getValue(),I=((c=this.config.valueFormat)===null||c===void 0?void 0:c.toLowerCase())==="date"?k instanceof Date:(0,g.stringToDate)(k,this.calendar.config.dateFormat,!0);if(!a&&!this.events.fire(r.ItemEvent.beforeValidate,[k]))return!1;var P=!0;return(this.config.required||v.length)&&(P=!!I),typeof this.config.validation=="function"&&(P=this.config.validation(k)),a||(this.setValidationStatus(P?"success":"error"),this.events.fire(r.ItemEvent.afterValidate,[k,P]),this.paint()),P},e.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},e.prototype.setValue=function(a){a!==void 0&&a!==this.config.value&&this.calendar.setValue(a)},e.prototype.getValue=function(a){var c;return this.calendar.getValue(((c=this.config.valueFormat)===null||c===void 0?void 0:c.toLowerCase())==="date"||a)||""},e.prototype.focus=function(){var a=this;(0,_.awaitRedraw)().then(function(){a.getRootView().refs.input.el.focus()})},e.prototype.blur=function(){var a=this;(0,_.awaitRedraw)().then(function(){a._popup.hide(),a.getRootView().refs.input.el.blur()})},e.prototype.clear=function(){this.config.value!==""&&this.calendar.clear()},e.prototype.getWidget=function(){return this.calendar},e.prototype._initView=function(a){if((0,f.isEmptyObj)(a))throw new Error("Check the configuration is correct");for(var c in this.calendar&&this.calendar.destructor(),this._popup&&this._popup.destructor(),this.config={type:a.type,id:a.id,name:a.name,disabled:!1,editable:!1,hidden:!1,value:"",mode:"calendar",weekStart:"sunday",weekNumbers:!1,timePicker:!1,dateFormat:"%d/%m/%y",timeFormat:24,thisMonthOnly:!1,valueFormat:"string",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},a)c!=="id"&&c!=="type"&&c!=="name"&&(this.config[c]=a[c]);this._popup=new u.Popup,this.calendar=new y.Calendar(null,(0,s.widgetConfig)(a)),this._popup.attach(this.calendar)},e.prototype._initHandlers=function(){var a=this;this.calendar.events.on(y.CalendarEvents.beforeChange,function(c){var v;return c!==""&&((v=a.config.valueFormat)===null||v===void 0?void 0:v.toLowerCase())!=="date"&&(c=(0,g.getFormattedDate)(a.calendar.config.dateFormat,c)),a.events.fire(r.ItemEvent.beforeChange,[c])}),this.calendar.events.on(y.CalendarEvents.change,function(c,v,m,k){var I;a.config.value=a.calendar.getValue(((I=a.config.valueFormat)===null||I===void 0?void 0:I.toLowerCase())==="date"),a.events.fire(r.ItemEvent.change,[a.config.value]),(0,s.isVerify)(a.config)&&(k==="clear"?a.setValidationStatus(a.validate(!0)?"success":"error"):a.validate()),a._popup.hide(),a.paint()}),this.events.on(r.ItemEvent.blur,function(){a._popupIsFocus=!1,a.paint()}),this._popup.events.on(u.PopupEvents.afterHide,function(){document.activeElement!==a.getRootView().refs.input.el&&a.events.fire(r.ItemEvent.blur,[a.getValue()]),a.paint()})},e.prototype._getHandlers=function(){var a=this;return{onblur:function(){a._popup.isVisible()||a.events.fire(r.ItemEvent.blur,[a.getValue()]),a.paint()},onfocus:function(){if(!a._popup.isVisible()){var c=a.getRootView().refs.input.el;a._popup.show(c,{theme:c}),a.events.fire(r.ItemEvent.focus,[a.getValue()]),a.paint()}},oninput:function(c){var v=c.target.value;a.events.fire(r.ItemEvent.input,[v])},onchange:function(c){var v=c.target.value;a.config.editable&&(0,g.stringToDate)(v,a.calendar.config.dateFormat,!0)?a.setValue(v):v===""&&a.clear()},onkeydown:function(c){var v,m,k,I=document.activeElement;(((k=(m=(v=a.getRootView())===null||v===void 0?void 0:v.refs)===null||m===void 0?void 0:m.input)===null||k===void 0?void 0:k.el)===I||a._popup.isVisible())&&a.events.fire(r.ItemEvent.keydown,[c])},onmousedown:function(){a._popup.getContainer()!==document.activeElement&&(a._popupIsFocus=!1)}}},e.prototype._initHotkeys=function(){var a=this,c={"shift+tab":function(){a._applyTab()},tab:function(){a._applyTab()},escape:function(){a._popup.isVisible()&&a.getRootView().refs.input.el.focus(),a._popup.hide()},enter:function(m){if(m.preventDefault(),!a._popup.isVisible()){var k=a.getRootView().refs.input.el;a._popup.show(k,{theme:k})}},arrowRight:function(m){var k=a._popup.getContainer();a._popup.isVisible()&&!a._popupIsFocus&&(m.preventDefault(),k.focus(),a._popupIsFocus=!0)}};for(var v in c)this._keyManager.addHotKey(v,c[v])},e.prototype._draw=function(){var a,c,v,m=this.config,k=m.icon,I=m.required,P=m.disabled,T=m.placeholder,H=m.name,$=m.id,L=m.editable,j=m.label,M=m.helpMessage,F=this.calendar.getValue(),S=this._popup.isVisible()||((v=(c=(a=this.getRootView())===null||a===void 0?void 0:a.refs)===null||c===void 0?void 0:c.input)===null||v===void 0?void 0:v.el)===document.activeElement;return(0,_.el)("div.dhx_form-group",{class:(0,s.getFormItemCss)(this.config,(0,s.isVerify)(this.config),S)},[this._drawLabel(),(0,_.el)(".dhx_input__wrapper",[(0,_.el)("div.dhx_input__container",{},[(0,_.el)(".dhx_input__icon",{class:k||"dxi dxi-calendar-today"}),(0,_.el)("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":H||$,_key:this._uid,_ref:"input",value:F,type:"text",required:I,disabled:P,class:S&&"dhx_input--focus",placeholder:T||"",name:H||"",id:$||this._uid,onfocus:this._handlers.onfocus,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,onmousedown:this._handlers.onmousedown,autocomplete:"off",readOnly:!L,"aria-label":j||"".concat(L?"type or":""," select date"),"aria-describedby":M?"dhx_label__help_".concat($||this._uid):null})]),(0,s.getValidationMessage)(this.config)&&(0,_.el)("span.dhx_input__caption",{},(0,s.getValidationMessage)(this.config))])])},e.prototype._applyTab=function(){var a,c,v;document.activeElement===((v=(c=(a=this._popup.getRootView())===null||a===void 0?void 0:a.refs)===null||c===void 0?void 0:c.content)===null||v===void 0?void 0:v.el)||this._popupIsFocus||this._popup.hide()},e}(l.Label);p.DatePicker=n},function(O,p,x){var w,C=this&&this.__extends||(w=function(s,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])},w(s,t)},function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=s}w(s,t),s.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__assign||function(){return b=Object.assign||function(s){for(var t,n=1,i=arguments.length;n<i;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e]);return s},b.apply(this,arguments)},y=this&&this.__spreadArray||function(s,t,n){if(n||arguments.length===2)for(var i,e=0,a=t.length;e<a;e++)!i&&e in t||(i||(i=Array.prototype.slice.call(t,0,e)),i[e]=t[e]);return s.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0}),p.Button=void 0;var g=x(0),d=x(5),_=x(4),f=x(3),l=x(1),u=x(6),r=function(s){function t(n,i){var e=s.call(this,n,b({disabled:!1,hidden:!1,submit:!1,full:!1,circle:!1,loading:!1,view:"flat",size:"medium",color:"primary",height:"content",url:"",text:"",icon:""},i))||this;return e._propsItem=["submit","url","text","icon","view","size","color","full","circle","loading"],e._props=y(y([],u.baseProps,!0),e._propsItem,!0),e.config.text=e.config.text||e.config.value||"",e.events=new f.EventSystem,e._handlers={onclick:function(a){return e.events.fire(_.ItemEvent.click,[a])},onblur:function(){return e.events.fire(_.ItemEvent.blur,[e.config.text])},onfocus:function(){return e.events.fire(_.ItemEvent.focus,[e.config.text])},onkeydown:function(a){return e.events.fire(_.ItemEvent.keydown,[a])}},e.mount(n,(0,g.create)({render:function(){return e._draw()}})),e}return C(t,s),t.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this._propsItem=this._props=this.events=this._handlers=this._uid=null,this.unmount()},t.prototype.setProperties=function(n){if(n&&!(0,l.isEmptyObj)(n)&&this.events.fire(_.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var i in n)this._props.includes(i)&&(this.config[i]=n[i]);this.config.text=this.config.text||this.config.value,this.events.fire(_.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},t.prototype.getProperties=function(){for(var n={},i=0,e=this._props;i<e.length;i++){var a=e[i];n[a]=this.config[a]}return n},t.prototype.show=function(){var n=this.config,i=n.text,e=i===void 0?"":i;n.hidden&&this.events.fire(_.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(_.ItemEvent.afterShow,[e]))},t.prototype.hide=function(n){n===void 0&&(n=!1);var i=this.config,e=i.text,a=e===void 0?"":e;i.hidden&&!n||!this.events.fire(_.ItemEvent.beforeHide,[a,n])||(this.config.hidden=!0,this.events.fire(_.ItemEvent.afterHide,[a,n]))},t.prototype.isVisible=function(){return!this.config.hidden},t.prototype.disable=function(){this.config.disabled=!0,this.paint()},t.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},t.prototype.isDisabled=function(){return!!this.config.disabled},t.prototype.focus=function(){var n=this;(0,g.awaitRedraw)().then(function(){n.getRootView().refs.button.el.focus()})},t.prototype.blur=function(){var n=this;(0,g.awaitRedraw)().then(function(){n.getRootView().refs.button.el.blur()})},t.prototype._draw=function(){var n=this.config,i=n.color,e=n.size,a=n.view,c=n.loading,v=n.circle,m=n.icon,k=n.text,I=n.disabled,P=n.submit,T=n.id,H=n.name,$=n.full,L={danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[i]||" dhx_button--color_primary",j={small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[e]||" dhx_button--size_medium",M={flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[a]||" dhx_button--view_flat",F=$?" dhx_button--width_full":"",S=v?" dhx_button--circle":"",R=c?" dhx_button--loading":"",B=m&&!k?" dhx_button--icon":"";return(0,g.el)("button",{disabled:I,id:T,"data-dhx-id":H||T,onclick:this._handlers.onclick,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,type:P?"submit":"button",class:"dhx_button "+L+j+M+S+F+R+B,_ref:"button"},[m&&(0,g.el)("span.dhx_button__icon",{class:m}),k&&(0,g.el)("span.dhx_button__text",k),c&&(0,g.el)("span.dhx_button__loading",[(0,g.el)("span.dhx_button__loading-icon.dxi.dxi-loading")])])},t}(d.View);p.Button=r},function(O,p,x){var w,C=this&&this.__extends||(w=function(i,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},w(i,e)},function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=i}w(i,e),i.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}),b=this&&this.__assign||function(){return b=Object.assign||function(i){for(var e,a=1,c=arguments.length;a<c;a++)for(var v in e=arguments[a])Object.prototype.hasOwnProperty.call(e,v)&&(i[v]=e[v]);return i},b.apply(this,arguments)},y=this&&this.__spreadArray||function(i,e,a){if(a||arguments.length===2)for(var c,v=0,m=e.length;v<m;v++)!c&&v in e||(c||(c=Array.prototype.slice.call(e,0,v)),c[v]=e[v]);return i.concat(c||Array.prototype.slice.call(e))};Object.defineProperty(p,"__esModule",{value:!0}),p.CheckboxGroup=void 0;var g=x(0),d=x(16),_=x(3),f=x(105),l=x(9),u=x(4),r=x(1),s=x(6),t=x(11),n=function(i){function e(a,c){var v=i.call(this,null,c)||this;return v.events=new _.EventSystem,v._buttons=[],v._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","options"],v._props=y(y([],s.baseProps,!0),v._propsItem,!0),v._initView(c),v._initHandlers(),v.mount(a,(0,g.create)({render:function(){return v._draw()}})),v}return C(e,i),e.prototype.destructor=function(){this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.events=this._uid=this._propsItem=this._props=this._buttons=null,i.prototype._destructor.call(this),this.unmount()},e.prototype.setProperties=function(a,c){if(a!==void 0&&this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()])){if(typeof a=="object"&&!(0,r.isEmptyObj)(a)){for(var v in a)this._props.includes(v)&&(this.config[v]=a[v]);a.hasOwnProperty("options")&&(this._initView(this.config),this._initHandlers())}if(typeof a=="string"&&c&&!(0,r.isEmptyObj)(c)){var m=this._buttons.find(function(k){return k.config.id===a});m&&m.setProperties(c,!0)}this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},e.prototype.getProperties=function(a){if(a===void 0){var c={};for(var v in this.config)this._props.includes(v)&&(c[v]=this.config[v]);return c}return this._buttons.find(function(m){return m.config.id===a}).getProperties()},e.prototype.getValue=function(a){if(a===void 0){var c={};return this._buttons.forEach(function(m){c[m.config.id]=m.getValue()}),c}var v=this._buttons.find(function(m){return m.config.id===a});if(a&&v)return v.getValue()},e.prototype.setValue=function(a){if(a!==void 0&&!(0,r.isEmptyObj)(a)){for(var c=this.getValue(),v=b({},c),m=function(F,S){var R=k._buttons.find(function(Y){return Y.config.id===F});if(R){var B=R.config.value;v[F]=typeof B=="string"?S&&B||"":!!S}},k=this,I=0,P=Object.entries(a);I<P.length;I++){var T=P[I];m(T[0],T[1])}if(!(0,r.compare)(c,v)&&this.events.fire(u.ItemEvent.beforeChange,[v])){for(var H=function(F,S){var R=$._buttons.find(function(B){return B.config.id===F});R&&R.setValue(!!S,!0)},$=this,L=0,j=Object.entries(a);L<j.length;L++){var M=j[L];H(M[0],M[1])}this.events.fire(u.ItemEvent.change,[this.getValue()]),(0,s.isVerify)(this.config)&&this.validate()}}},e.prototype.isChecked=function(a){if(a===void 0){var c={};return this._buttons.forEach(function(m){c[m.config.id]=m.isChecked()}),c}var v=this._buttons.find(function(m){return m.config.id===a});if(a&&v)return v.isChecked()},e.prototype.focus=function(a){var c=this;(0,g.awaitRedraw)().then(function(){if(c._buttons.length){if(!a)return c._buttons[0].focus();var v=c._buttons.find(function(m){return m.config.id===a});v&&v.focus()}})},e.prototype.blur=function(){var a=this;(0,g.awaitRedraw)().then(function(){a._buttons.length&&a._buttons.forEach(function(c){c.blur()})})},e.prototype.show=function(a){var c,v=a&&this._buttons.find(function(m){return m.config.id===a});(0,r.isDefined)(a)&&!v||(!v&&(this.config.hidden||this._buttons.some(function(m){return m.config.hidden}))||!((c=v==null?void 0:v.config)===null||c===void 0)&&c.hidden)&&this.events.fire(u.ItemEvent.beforeShow,[this.getValue(),a])&&(v?v==null||v.show():this._buttons.forEach(function(m){return m.show()}),this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[this.getValue(),a]))},e.prototype.hide=function(a,c){var v,m=a&&this._buttons.find(function(k){return k.config.id===a});(0,r.isDefined)(a)&&!m||(!m&&this.config.hidden||!((v=m==null?void 0:m.config)===null||v===void 0)&&v.hidden)&&!c||!this.events.fire(u.ItemEvent.beforeHide,[this.getValue(),a,c])||(m?(m==null||m.hide(),this.config.hidden=this._buttons.every(function(k){return k.config.hidden})):(this._buttons.forEach(function(k){return k.hide()}),this.config.hidden=!0),this.events.fire(u.ItemEvent.afterHide,[this.getValue(),a,c]))},e.prototype.isVisible=function(a){var c,v=this._buttons.find(function(m){return m.config.id===a});return!(this.config.hidden||(0,r.isDefined)(a)&&(!((c=v==null?void 0:v.config)===null||c===void 0)&&c.hidden))},e.prototype.enable=function(a){var c,v,m=a&&this._buttons.find(function(k){return k.config.id===a});(0,r.isDefined)(a)&&!m||(!m&&(this.config.disabled||this._buttons.some(function(k){return k.config.disabled}))||!((c=m==null?void 0:m.config)===null||c===void 0)&&c.disabled)&&(m?m==null||m.enable():this._buttons.forEach(function(k){return k.enable()}),this.config.disabled=!1,!((v=this.parent)===null||v===void 0)&&v.isDisabled()&&this.parent.enable(),this.paint())},e.prototype.disable=function(a,c){var v,m=a&&this._buttons.find(function(k){return k.config.id===a});(0,r.isDefined)(a)&&!m||(!m&&this.config.disabled||!((v=m==null?void 0:m.config)===null||v===void 0)&&v.disabled)&&!c||(m?(m==null||m.disable(),this.config.disabled=this._buttons.every(function(k){return k.config.disabled})):(this._buttons.forEach(function(k){return k.disable()}),this.config.disabled=!0),this.paint())},e.prototype.isDisabled=function(a){var c,v=this._buttons.find(function(m){return m.config.id===a});return!!(this.config.disabled||(0,r.isDefined)(a)&&(!((c=v==null?void 0:v.config)===null||c===void 0)&&c.disabled))},e.prototype.clear=function(){if(this._buttons.some(function(c){return c.isChecked()})){var a={};if(this._buttons.forEach(function(c){a[c.config.id]=typeof c.config.value=="string"&&""}),!this.events.fire(u.ItemEvent.beforeChange,[a]))return;this._buttons.forEach(function(c){c.clear(!0)}),this.events.fire(u.ItemEvent.change,[a]),(0,s.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error")}},e.prototype.validate=function(a){a===void 0&&(a=!1);var c=this.getValue();if(!a&&!this.events.fire(u.ItemEvent.beforeValidate,[c]))return!1;var v=!0;return this.config.required&&(v=this._buttons.some(function(m){return m.config.$required&&!!m.config.checked})),a||(this._buttons.forEach(function(m){m.setValidationStatus(v?"success":"error")}),this.setValidationStatus(v?"success":"error"),this.events.fire(u.ItemEvent.afterValidate,[c,v]),this.paint()),v},e.prototype.clearValidate=function(){this.setValidationStatus(),this._buttons.forEach(function(a){a.clearValidate()}),this.paint()},e.prototype._initView=function(a){var c=this;if((0,r.isEmptyObj)(a)||!a.options||(0,r.isEmptyObj)(a.options))throw new Error("Check the configuration is correct");for(var v in this.layout&&this.layout.destructor(),this._buttons.length&&(this._buttons.forEach(function(k){k.destructor()}),this._buttons=[]),this.config={type:a.type,id:a.id,name:a.name,disabled:!1,hidden:!1,options:{},required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},a)v!=="id"&&v!=="type"&&v!=="name"&&(this.config[v]=a[v]);this.config.helpMessage&&(this._helper=new t.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage));var m=this.config.options.rows||this.config.options.cols;m==null||m.forEach(function(k){k.id=k.id||(0,r.uid)(),k.$group=!0}),this.layout=new d.Layout(null,this.config.options),m==null||m.forEach(function(k){var I=new f.Checkbox(null,b(b({},k),{disabled:a.disabled||k.disabled,name:a.name,$required:a.required}));c._buttons.push(I),c.layout.getCell(k.id).attach(I),I.events.on(u.ItemEvent.beforeChange,function(P){var T,H=b(b({},c.getValue()),((T={})[I.config.id]=P,T));return c.events.fire(u.ItemEvent.beforeChange,[H])}),I.events.on(u.ItemEvent.change,function(){c.events.fire(u.ItemEvent.change,[c.getValue()]),(0,s.isVerify)(c.config)&&c.validate()}),I.events.on(u.ItemEvent.focus,function(P,T){c.events.fire(u.ItemEvent.focus,[c.getValue(),T])}),I.events.on(u.ItemEvent.blur,function(P,T){c.events.fire(u.ItemEvent.blur,[c.getValue(),T])}),I.events.on(u.ItemEvent.keydown,function(P,T){c.events.fire(u.ItemEvent.keydown,[P,T])}),I.events.on(u.ItemEvent.afterHide,function(){(0,g.awaitRedraw)().then(function(){var P;(P=c.layout.getCell(I.config.id))===null||P===void 0||P.hide()})}),I.events.on(u.ItemEvent.afterShow,function(){var P;(P=c.layout.getCell(I.config.id))===null||P===void 0||P.show()})}),this.config.value&&this.setValue(this.config.value),this.clearValidate(),!this.config.disabled&&this._buttons.length&&this._buttons.every(function(k){return k.config.disabled})&&(this.config.disabled=!0)},e.prototype._initHandlers=function(){var a=this;this.events.on(u.ItemEvent.change,function(){a.config.value=a.getValue(),a.paint()})},e.prototype._draw=function(){var a=this.config.hidden?" dhx_form-group--hidden":"",c=this.config,v=c.label,m=c.labelWidth,k=c.helpMessage,I=c.required,P=c.name,T=c.id;return(0,g.el)("fieldset.dhx_form-group-fieldset",{},[(0,g.el)("div.dhx_form-group.dhx_form-group--checkbox-group",{class:(0,s.getFormItemCss)(this.config,(0,s.isVerify)(this.config))+a,"data-dhx-id":P||T,role:"radiogroup",_key:T||this._uid},[v||m||k||I?this._drawLabel():null,(0,g.el)("div.dhx_checkbox-group--container",{},[this.layout&&(0,g.inject)(this.layout.getRootView()),I&&(0,s.getValidationMessage)(this.config)&&(0,g.el)("span.dhx_input__caption",(0,s.getValidationMessage)(this.config))])])])},e}(l.Label);p.CheckboxGroup=n},function(O,p,x){var w,C=this&&this.__extends||(w=function(i,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(a[v]=c[v])},w(i,e)},function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=i}w(i,e),i.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}),b=this&&this.__assign||function(){return b=Object.assign||function(i){for(var e,a=1,c=arguments.length;a<c;a++)for(var v in e=arguments[a])Object.prototype.hasOwnProperty.call(e,v)&&(i[v]=e[v]);return i},b.apply(this,arguments)},y=this&&this.__spreadArray||function(i,e,a){if(a||arguments.length===2)for(var c,v=0,m=e.length;v<m;v++)!c&&v in e||(c||(c=Array.prototype.slice.call(e,0,v)),c[v]=e[v]);return i.concat(c||Array.prototype.slice.call(e))};Object.defineProperty(p,"__esModule",{value:!0}),p.RadioGroup=void 0;var g=x(0),d=x(1),_=x(16),f=x(11),l=x(3),u=x(222),r=x(6),s=x(9),t=x(4),n=function(i){function e(a,c){var v=i.call(this,null,c)||this;return v.events=new l.EventSystem,v._buttons=[],v._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","options"],v._props=y(y([],r.baseProps,!0),v._propsItem,!0),v._initView(c),v._initHandlers(),v.config.value&&v._setValue(v.config.value),v.clearValidate(),v.config.helpMessage&&(v._helper=new f.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),v._helper.attachHTML(v.config.helpMessage)),v.mount(a,(0,g.create)({render:function(){return v._draw()}})),v}return C(e,i),e.prototype.destructor=function(){this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.events=this._uid=this._propsItem=this._props=this._buttons=null,i.prototype._destructor.call(this),this.unmount()},e.prototype.setProperties=function(a,c){if(a!==void 0&&this.events.fire(t.ItemEvent.beforeChangeProperties,[this.getProperties()])){if(typeof a=="object"&&!(0,d.isEmptyObj)(a)){for(var v in a)this._props.includes(v)&&(this.config[v]=a[v]);a.hasOwnProperty("options")&&(this._initView(this.config),this._initHandlers())}if(typeof a=="string"&&c&&!(0,d.isEmptyObj)(c)){var m=this._buttons.find(function(k){return k.config.id===a});m&&m.setProperties(c)}this.events.fire(t.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},e.prototype.getProperties=function(a){if(a===void 0){var c={};for(var v in this.config)this._props.includes(v)&&(c[v]=this.config[v]);return c}return this._buttons.find(function(m){return m.config.id===a}).getProperties()},e.prototype.getValue=function(){var a=this;return this._buttons.forEach(function(c){c.getValue()&&(a.config.value=c.getValue()||"")}),this.config.value||""},e.prototype.setValue=function(a){a!==this.config.value&&(this._setValue(a),this.events.fire(t.ItemEvent.change,[a]),(0,r.isVerify)(this.config)&&this.validate())},e.prototype.focus=function(a){var c=this;(0,g.awaitRedraw)().then(function(){if(c._buttons.length){if(!a)return c._buttons[0].focus();var v=c._buttons.find(function(m){return m.config.id===a});if(v)return v.focus()}})},e.prototype.blur=function(){var a=this;(0,g.awaitRedraw)().then(function(){a._buttons.length&&a._buttons.forEach(function(c){return c.blur()})})},e.prototype.show=function(a){var c,v=a&&this._buttons.find(function(m){return m.config.id===a});(0,d.isDefined)(a)&&!v||(!v&&(this.config.hidden||this._buttons.some(function(m){return m.config.hidden}))||!((c=v==null?void 0:v.config)===null||c===void 0)&&c.hidden)&&this.events.fire(t.ItemEvent.beforeShow,[this.getValue(),a])&&(v?v==null||v.show():this._buttons.forEach(function(m){return m.show()}),this.config.hidden=!1,this.events.fire(t.ItemEvent.afterShow,[this.getValue(),a]))},e.prototype.hide=function(a,c){var v,m=a&&this._buttons.find(function(k){return k.config.id===a});(0,d.isDefined)(a)&&!m||(!m&&this.config.hidden||!((v=m==null?void 0:m.config)===null||v===void 0)&&v.hidden)&&!c||!this.events.fire(t.ItemEvent.beforeHide,[this.getValue(),a,c])||(m?(m==null||m.hide(),this.config.hidden=this._buttons.every(function(k){return k.config.hidden})):(this._buttons.forEach(function(k){return k.hide()}),this.config.hidden=!0),this.events.fire(t.ItemEvent.afterHide,[this.getValue(),a,c]))},e.prototype.isVisible=function(a){var c,v=this._buttons.find(function(m){return m.config.id===a});return!(this.config.hidden||(0,d.isDefined)(a)&&(!((c=v==null?void 0:v.config)===null||c===void 0)&&c.hidden))},e.prototype.enable=function(a){var c,v,m=a&&this._buttons.find(function(k){return k.config.id===a});(0,d.isDefined)(a)&&!m||(!m&&(this.config.disabled||this._buttons.some(function(k){return k.config.disabled}))||!((c=m==null?void 0:m.config)===null||c===void 0)&&c.disabled)&&(m?m==null||m.enable():this._buttons.forEach(function(k){return k.enable()}),this.config.disabled=!1,!((v=this.parent)===null||v===void 0)&&v.isDisabled()&&this.parent.enable(),this.paint())},e.prototype.disable=function(a,c){var v,m=a&&this._buttons.find(function(k){return k.config.id===a});(0,d.isDefined)(a)&&!m||(!m&&this.config.disabled||!((v=m==null?void 0:m.config)===null||v===void 0)&&v.disabled)&&!c||(m?(m==null||m.disable(),this.config.disabled=this._buttons.every(function(k){return k.config.disabled})):(this._buttons.forEach(function(k){return k.disable()}),this.config.disabled=!0),this.paint())},e.prototype.isDisabled=function(a){var c,v=this._buttons.find(function(m){return m.config.id===a});return!!(this.config.disabled||(0,d.isDefined)(a)&&(!((c=v==null?void 0:v.config)===null||c===void 0)&&c.disabled))},e.prototype.clear=function(){this.config.value!==""&&(this._buttons.forEach(function(a){a.clear()}),this.config.value="",this.events.fire(t.ItemEvent.change,[this.config.value]),(0,r.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"))},e.prototype.validate=function(a){var c=this;a===void 0&&(a=!1);var v=this.getValue();if(!a&&!this.events.fire(t.ItemEvent.beforeValidate,[v]))return!1;var m=!0;return this.config.required&&(m=this._buttons.some(function(k){return c.config.required&&!!k.config.checked})),a||(this._buttons.forEach(function(k){k.setValidationStatus(m?"success":"error")}),this.setValidationStatus(m?"success":"error"),this.events.fire(t.ItemEvent.afterValidate,[v,m]),this.paint()),m},e.prototype.clearValidate=function(){this.setValidationStatus(),this._buttons.map(function(a){a.clearValidate()}),this.paint()},e.prototype._initView=function(a){var c=this;if((0,d.isEmptyObj)(a)||!a.options||(0,d.isEmptyObj)(a.options))throw new Error("Check the configuration is correct");for(var v in this.layout&&this.layout.destructor(),this._buttons.length&&(this._buttons.forEach(function(k){k.destructor()}),this._buttons=[]),this.config={type:a.type,id:a.id,name:a.name,value:"",disabled:!1,hidden:!1,options:{},required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},a)v!=="id"&&v!=="type"&&v!=="name"&&(this.config[v]=a[v]);var m=this.config.options.rows||this.config.options.cols;m==null||m.forEach(function(k){k.id=k.id||(0,d.uid)()}),this.layout=new _.Layout(null,this.config.options),m==null||m.forEach(function(k){var I=new u.RadioButton(null,b(b({},k),{disabled:a.disabled||k.disabled,$name:a.name,$required:a.required}));c._buttons.push(I),c.layout.getCell(k.id).attach(I),I.events.on(u.RadioButtonEvents.beforeChange,function(){return c.events.fire(t.ItemEvent.beforeChange,[I.config.value||""])}),I.events.on(u.RadioButtonEvents.change,function(){c._buttons.map(function(P){P.config.id!==I.config.id&&P.setValue(!1)}),c.events.fire(t.ItemEvent.change,[c.getValue()]),(0,r.isVerify)(c.config)&&c.validate()}),I.events.on(u.RadioButtonEvents.focus,function(P,T){c.events.fire(t.ItemEvent.focus,[P,T])}),I.events.on(u.RadioButtonEvents.blur,function(P,T){c.events.fire(t.ItemEvent.blur,[P,T])}),I.events.on(u.RadioButtonEvents.keydown,function(P,T){c.events.fire(t.ItemEvent.keydown,[P,T])}),I.events.on(t.ItemEvent.afterHide,function(){(0,g.awaitRedraw)().then(function(){c.layout.getCell(I.config.id).hide()})}),I.events.on(t.ItemEvent.afterShow,function(){c.layout.getCell(I.config.id).show()})}),!this.config.disabled&&this._buttons.length&&this._buttons.every(function(k){return k.config.disabled})&&(this.config.disabled=!0)},e.prototype._initHandlers=function(){var a=this;this.events.on(t.ItemEvent.beforeChange,function(){return a.paint()}),this.events.on(t.ItemEvent.change,function(){a.config.value=a.getValue(),a.paint()})},e.prototype._draw=function(){var a=this.config,c=a.label,v=a.labelWidth,m=a.helpMessage,k=a.required,I=a.hidden,P=a.name,T=a.id,H=I?" dhx_form-group--hidden":"";return(0,g.el)("fieldset.dhx_form-group-fieldset",{},[(0,g.el)("div.dhx_form-group.dhx_form-group--radio-group",{class:(0,r.getFormItemCss)(this.config,(0,r.isVerify)(this.config))+H,"data-dhx-id":P||T,_key:T||this._uid},[c||v||m||k?this._drawLabel():null,(0,g.el)("div.dhx_radio-group--container",{},[this.layout&&(0,g.inject)(this.layout.getRootView()),k&&(0,r.getValidationMessage)(this.config)&&(0,g.el)("span.dhx_input__caption",(0,r.getValidationMessage)(this.config))])])])},e.prototype._setValue=function(a){a!==void 0&&this._buttons.findIndex(function(c){return c.config.value===a})!==-1&&this._buttons.forEach(function(c){c.setValue(a===c.config.value)})},e}(s.Label);p.RadioGroup=n},function(O,p,x){var w,C=this&&this.__extends||(w=function(s,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])},w(s,t)},function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=s}w(s,t),s.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__assign||function(){return b=Object.assign||function(s){for(var t,n=1,i=arguments.length;n<i;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e]);return s},b.apply(this,arguments)},y=this&&this.__spreadArray||function(s,t,n){if(n||arguments.length===2)for(var i,e=0,a=t.length;e<a;e++)!i&&e in t||(i||(i=Array.prototype.slice.call(t,0,e)),i[e]=t[e]);return s.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0}),p.RadioButton=p.RadioButtonEvents=void 0;var g,d=x(1),_=x(0),f=x(3),l=x(6),u=x(9);(function(s){s.beforeChange="beforeChange",s.change="change",s.focus="focus",s.blur="blur",s.keydown="keydown",s.beforeHide="beforeHide",s.afterHide="afterHide",s.beforeShow="beforeShow",s.afterShow="afterShow"})(g||(p.RadioButtonEvents=g={}));var r=function(s){function t(n,i){i===void 0&&(i={});var e=s.call(this,n,b({text:"",width:"content",height:"content",checked:!1},i))||this;return e._propsItem=["text"],e._props=y(y([],l.baseProps,!0),e._propsItem,!0),e._handlers={onchange:function(a){var c=a.target.checked;e.events.fire(g.beforeChange,[c])&&(e.config.checked=c,e.events.fire(g.change,[c]))},onfocus:function(){return e.events.fire(g.focus,[e.getValue()||"",e.config.id])},onblur:function(){var a;return(a=e.events)===null||a===void 0?void 0:a.fire(g.blur,[e.getValue()||"",e.config.id])},onkeydown:function(a){e.events.fire(g.keydown,[a,e.config.id])}},e.events=new f.EventSystem,e.mount(n,(0,_.create)({render:function(){return e._draw()}})),e}return C(t,s),t.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this._handlers=this._uid=this._props=this._propsItem=null,this.unmount()},t.prototype.setProperties=function(n){if(n&&!(0,d.isEmptyObj)(n)){for(var i in n)this._props.includes(i)&&(this.config[i]=n[i]);this.paint()}},t.prototype.getProperties=function(){for(var n={},i=0,e=this._props;i<e.length;i++){var a=e[i];n[a]=this.config[a]}return n},t.prototype.getValue=function(){if(this.config.checked)return this.config.value},t.prototype.setValue=function(n){this.config.checked=n,this.paint()},t.prototype.show=function(){this.config.hidden&&this.events.fire(g.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(g.afterShow,[]))},t.prototype.hide=function(){!this.config.hidden&&this.events.fire(g.beforeHide,[])&&(this.config.hidden=!0,this.events.fire(g.afterHide,[]))},t.prototype.isVisible=function(){return!this.config.hidden},t.prototype.focus=function(){var n=this;(0,_.awaitRedraw)().then(function(){n.getRootView().refs.input.el.focus()})},t.prototype.blur=function(){var n=this;(0,_.awaitRedraw)().then(function(){n.getRootView().refs.input.el.blur()})},t.prototype.disable=function(){this.config.disabled=!0,this.paint()},t.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},t.prototype.isDisabled=function(){return!!this.config.disabled},t.prototype.clear=function(){this.config.checked=!1,this.setValidationStatus(this.validate()?"success":"error"),this.paint()},t.prototype.validate=function(){var n=!!this.config.checked;return this.setValidationStatus(n?"success":"error"),this.paint(),n},t.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},t.prototype._draw=function(){var n=this.config,i=n.id,e=n.value,a=n.checked,c=n.disabled,v=n.$name,m=n.$required,k=n.text;return(0,_.el)("label.dhx_radiobutton.dhx_form-group",{class:(0,l.getFormItemCss)(this.config,!!m)},[(0,_.el)("input.dhx_radiobutton__input",{type:"radio",id:i,_key:i||this._uid,value:e||"",name:v||"",disabled:c,checked:a,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:m,_ref:"input"}),(0,_.el)("span.dhx_radiobutton__visual-input"),(0,_.el)("span.dhx_text",[k])])},t}(u.Label);p.RadioButton=r},function(O,p,x){var w,C=this&&this.__extends||(w=function(s,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])},w(s,t)},function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=s}w(s,t),s.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__assign||function(){return b=Object.assign||function(s){for(var t,n=1,i=arguments.length;n<i;n++)for(var e in t=arguments[n])Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=t[e]);return s},b.apply(this,arguments)},y=this&&this.__spreadArray||function(s,t,n){if(n||arguments.length===2)for(var i,e=0,a=t.length;e<a;e++)!i&&e in t||(i||(i=Array.prototype.slice.call(t,0,e)),i[e]=t[e]);return s.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0}),p.Select=void 0;var g=x(0),d=x(1),_=x(9),f=x(6),l=x(3),u=x(4),r=function(s){function t(n,i){var e=s.call(this,null,i)||this;return e.events=new l.EventSystem,e._propsItem=["required","validation","icon","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],e._props=y(y([],f.baseProps,!0),e._propsItem,!0),e._initView(i),e}return C(t,s),t.prototype.destructor=function(){this.events&&this.events.clear(),this.events=this._uid=this._propsItem=this._props=null,s.prototype._destructor.call(this),this.unmount()},t.prototype.setProperties=function(n){if(n&&!(0,d.isEmptyObj)(n)&&this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var i in n)this._props.includes(i)&&(this.config[i]=n[i]);this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},t.prototype.getProperties=function(){for(var n={},i=0,e=this._props;i<e.length;i++){var a=e[i];n[a]=this.config[a]}return n},t.prototype.show=function(){this.config.hidden&&this.events.fire(u.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[this.getValue()]))},t.prototype.hide=function(n){this.config.hidden&&!n||!this.events.fire(u.ItemEvent.beforeHide,[this.getValue(),!!n])||(this.config.hidden=!0,this.events.fire(u.ItemEvent.afterHide,[this.getValue(),!!n]))},t.prototype.isVisible=function(){return!this.config.hidden},t.prototype.disable=function(n){var i=(0,d.isDefined)(n)&&this.config.options.find(function(e){return e.value===n});(0,d.isDefined)(n)&&!i||!i&&this.config.disabled||i!=null&&i.disabled||(i?(i.disabled=!0,this.config.disabled=this.config.options.every(function(e){return e.disabled})):(this.config.options=this.config.options.map(function(e){return b(b({},e),{disabled:!0})}),this.config.disabled=!0),this.paint())},t.prototype.enable=function(n){var i,e=(0,d.isDefined)(n)&&this.config.options.find(function(a){return a.value===n});(0,d.isDefined)(n)&&!e||(!e&&(this.config.disabled||this.config.options.some(function(a){return a.disabled}))||e!=null&&e.disabled)&&(e?e.disabled=!1:this.config.options=this.config.options.map(function(a){return b(b({},a),{disabled:!1})}),this.config.disabled=!1,!((i=this.parent)===null||i===void 0)&&i.isDisabled()&&this.parent.enable(),this.paint())},t.prototype.isDisabled=function(n){var i=this.config.options.find(function(e){return e.value===n});return!!(this.config.disabled||(0,d.isDefined)(n)&&(i!=null&&i.disabled))},t.prototype.validate=function(n){n===void 0&&(n=!1);var i=this.getValue();if(!n&&!this.events.fire(u.ItemEvent.beforeValidate,[i]))return!1;var e=!0;return this.config.required&&(e=(0,d.isDefined)(i)),typeof this.config.validation=="function"&&(e=this.config.validation(i)),n||(this.setValidationStatus(e?"success":"error"),this.events.fire(u.ItemEvent.afterValidate,[i,e]),this.paint()),e},t.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},t.prototype.clear=function(){var n,i,e=(i=(n=this.config)===null||n===void 0?void 0:n.options[0])===null||i===void 0?void 0:i.value;this.config.value!==e&&this.events.fire(u.ItemEvent.beforeChange,[e])&&(this.config.value=e,this.events.fire(u.ItemEvent.change,[e]),(0,f.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"),this.paint())},t.prototype.setValue=function(n){n!==void 0&&n!==this.config.value&&this.config.options.findIndex(function(i){return i.value===n})!==-1&&this.events.fire(u.ItemEvent.beforeChange,[n])&&(this.config.value=n,this.events.fire(u.ItemEvent.change,[n]),(0,f.isVerify)(this.config)&&this.validate(),this.paint())},t.prototype.focus=function(){var n=this;(0,g.awaitRedraw)().then(function(){n.getRootView().refs.select.el.focus()})},t.prototype.blur=function(){var n=this;(0,g.awaitRedraw)().then(function(){n.getRootView().refs.select.el.blur()})},t.prototype.getValue=function(){return this.config.value},t.prototype.setOptions=function(n){if(!n||!n.length)throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect");this.events.fire(u.ItemEvent.beforeChangeOptions,[y([],n,!0)])&&(this._checkOptions(n),this.config.options=y([],n,!0),this.events.fire(u.ItemEvent.changeOptions,[y([],n,!0)]),this.setValue(this.config.options[0].value),this.paint())},t.prototype.getOptions=function(){return this.config.options},t.prototype._initView=function(n){if((0,d.isEmptyObj)(n))throw new Error("Check the configuration is correct");for(var i in this._checkOptions(n.options),this.config={type:n.type,id:n.id,name:n.name,disabled:!1,hidden:!1,required:!1,icon:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content",options:n.options,value:n.options[0].value},n)i!=="id"&&i!=="type"&&i!=="name"&&(this.config[i]=n[i]);!this.config.disabled&&this.config.options.length&&this.config.options.every(function(e){return e.disabled})&&(this.config.disabled=!0),this.paint()},t.prototype._getHandlers=function(){var n=this;return{onchange:function(i){var e=n.config.options.map(function(a){return a.value}).find(function(a){return a==i.target.value});n.events.fire(u.ItemEvent.beforeChange,[e])&&(n.config.value=e,n.events.fire(u.ItemEvent.change,[e]),(0,f.isVerify)(n.config)&&n.validate(),n.paint())},onblur:function(){n._uid&&(n.events.fire(u.ItemEvent.blur,[n.getValue()]),n.paint())},onfocus:function(){n.events.fire(u.ItemEvent.focus,[n.getValue()]),n.paint()}}},t.prototype._draw=function(){var n,i,e,a=this.config,c=a.id,v=a.options,m=a.icon,k=a.value,I=a.label,P=a.labelWidth,T=a.helpMessage,H=a.required,$=a.name,L=((e=(i=(n=this.getRootView())===null||n===void 0?void 0:n.refs)===null||i===void 0?void 0:i.select)===null||e===void 0?void 0:e.el)===document.activeElement;return(0,g.el)(".dhx_form-group",{class:(0,f.getFormItemCss)(this.config,(0,f.isVerify)(this.config),L)},[(I||P||T)&&this._drawLabel(),(0,g.el)(".dhx_input__wrapper",{},[(0,g.el)("div.dhx_input__container",{},[(0,g.el)(".dhx_input__icon",{class:m||"dxi dxi-menu-down"}),(0,g.el)("select.dhx_select.dhx_input",{id:c,_key:c||this._uid,"data-dhx-id":$||c,tabindex:0,class:L&&"dhx_input--focus",onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,_ref:"select",required:H},v.length&&v.map(function(j){return(0,g.el)("option",{value:j.value,disabled:j.disabled,selected:k===j.value},j.content)}))]),(0,f.getValidationMessage)(this.config)&&(0,g.el)("span.dhx_input__caption",(0,f.getValidationMessage)(this.config))])])},t.prototype._checkOptions=function(n){if(n.length===0)throw new Error("Property options* cannot be empty, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect");n.forEach(function(i){if(!i.hasOwnProperty("value")||!i.hasOwnProperty("content"))throw new Error("The object must contain two required properties value and content, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect")})},t}(_.Label);p.Select=r},function(O,p,x){var w,C=this&&this.__extends||(w=function(r,s){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},w(r,s)},function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function t(){this.constructor=r}w(r,s),r.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}),b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},b.apply(this,arguments)},y=this&&this.__spreadArray||function(r,s,t){if(t||arguments.length===2)for(var n,i=0,e=s.length;i<e;i++)!n&&i in s||(n||(n=Array.prototype.slice.call(s,0,i)),n[i]=s[i]);return r.concat(n||Array.prototype.slice.call(s))};Object.defineProperty(p,"__esModule",{value:!0}),p.Textarea=void 0;var g=x(0),d=x(6),_=x(41),f=x(4),l=x(1),u=function(r){function s(){var t=r!==null&&r.apply(this,arguments)||this;return t._propsItem=["required","validation","placeholder","readOnly","maxlength","minlength","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],t._props=y(y([],d.baseProps,!0),t._propsItem,!0),t}return C(s,r),s.prototype.getValue=function(){var t;return String((t=this.config.value)!==null&&t!==void 0?t:"")},s.prototype.isFocused=function(){var t,n,i;return((i=(n=(t=this.getRootView())===null||t===void 0?void 0:t.refs)===null||n===void 0?void 0:n.textarea)===null||i===void 0?void 0:i.el)===document.activeElement},s.prototype.focus=function(){var t=this;(0,g.awaitRedraw)().then(function(){t.getRootView().refs.textarea.el.focus()})},s.prototype.blur=function(){var t=this;(0,g.awaitRedraw)().then(function(){t.getRootView().refs.textarea.el.blur()})},s.prototype.setProperties=function(t){if(t&&!(0,l.isEmptyObj)(t)&&this.events.fire(f.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var n in t)this._props.includes(n)&&(this.config[n]=t[n]);this.events.fire(f.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},s.prototype.getProperties=function(){for(var t={},n=0,i=this._props;n<i.length;n++){var e=i[n];t[e]=this.config[e]}return t},s.prototype._initView=function(t){if((0,l.isEmptyObj)(t))throw new Error("Check the configuration is correct");for(var n in this.config={type:t.type,id:t.id,name:t.name,disabled:!1,hidden:!1,required:!1,validation:void 0,placeholder:"",readOnly:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)n!=="id"&&n!=="type"&&n!=="name"&&(this.config[n]=t[n]);this.paint()},s.prototype._draw=function(){var t,n,i,e=this,a=this.config,c=a.id,v=a.value,m=a.disabled,k=a.name,I=a.placeholder,P=a.required,T=a.resizable,H=a.readOnly,$=a.maxlength,L=a.minlength,j=a.label,M=a.helpMessage,F=a.height,S=((i=(n=(t=this.getRootView())===null||t===void 0?void 0:t.refs)===null||n===void 0?void 0:n.textarea)===null||i===void 0?void 0:i.el)===document.activeElement;return(0,g.el)("div.dhx_form-group.dhx_form-group--textarea",{class:(0,d.getFormItemCss)(this.config,(0,d.isVerify)(this.config),S)},[this._drawLabel(),(0,g.el)(".dhx_input__wrapper",[(0,g.el)("textarea.dhx_input.dhx_input--textarea",{type:"text",id:c,"data-dhx-id":k||c,placeholder:I||"",value:(0,l.isDefined)(v)?v:"",name:k||"",disabled:m,required:P,readOnly:H,maxlength:$,minlength:L,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onkeydown:this._handlers.onkeydown,_hooks:b(b({},this._getHooks()),{didInsert:function(R){if(F==="content"){var B=R.el;B.style.height=B.scrollHeight+"px"}R.el.addEventListener("compositionend",e._handlers.oninput)}}),style:{resize:T?"both":"none"},_ref:"textarea","aria-label":j||"".concat(H?v:""," type text"),"aria-describedby":M?"dhx_label__help_".concat(c||this._uid):null}),(0,d.getValidationMessage)(this.config)&&(0,g.el)("span.dhx_input__caption",{},(0,d.getValidationMessage)(this.config))])])},s}(_.Input);p.Textarea=u},function(O,p,x){var w,C=this&&this.__extends||(w=function(u,r){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,t){s.__proto__=t}||function(s,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])},w(u,r)},function(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function s(){this.constructor=u}w(u,r),u.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}),b=this&&this.__spreadArray||function(u,r,s){if(s||arguments.length===2)for(var t,n=0,i=r.length;n<i;n++)!t&&n in r||(t||(t=Array.prototype.slice.call(r,0,n)),t[n]=r[n]);return u.concat(t||Array.prototype.slice.call(r))};Object.defineProperty(p,"__esModule",{value:!0}),p.Text=void 0;var y=x(0),g=x(1),d=x(6),_=x(41),f=x(4),l=function(u){function r(){var s=u!==null&&u.apply(this,arguments)||this;return s._propsItem=["inputType","label","labelWidth","labelPosition","hiddenLabel","helpMessage"],s._props=b(b([],d.baseProps,!0),s._propsItem,!0),s}return C(r,u),r.prototype.setProperties=function(s){if(s&&!(0,g.isEmptyObj)(s)&&this.events.fire(f.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var t in s)this._props.includes(t)&&(this.config[t]=s[t]);this.events.fire(f.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},r.prototype.getProperties=function(){for(var s={},t=0,n=this._props;t<n.length;t++){var i=n[t];s[i]=this.config[i]}return s},r.prototype._initView=function(s){if((0,g.isEmptyObj)(s))throw new Error("Check the configuration is correct");for(var t in this.config={type:s.type,id:s.id,name:s.name,disabled:!1,hidden:!1,value:"",inputType:"text",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",width:"content",height:"content"},s)t!=="id"&&t!=="type"&&t!=="name"&&(this.config[t]=s[t]);this.paint()},r.prototype._draw=function(){var s=this.config,t=s.id,n=s.value,i=s.name,e=s.inputType,a=s.label,c=(n??"").toString().length;return(0,y.el)("div.dhx_form-group.dhx_form-group--textinput",{class:(0,d.getFormItemCss)(this.config)},[this._drawLabel(),(0,y.el)(".dhx_input__wrapper",[(0,y.el)("input.dhx_input.dhx_input--textinput",{type:["text","number","password"].includes(e)?e:"text",readOnly:!0,id:t,"data-dhx-id":i||t,value:n??"",name:i,_ref:"input",tabindex:-1,role:"presentation","aria-label":a||n,size:c>20?c:20,onkeydown:this._handlers.onkeydown})])])},r}(_.Input);p.Text=l},function(O,p,x){var w,C=this&&this.__extends||(w=function(s,t){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])},w(s,t)},function(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=s}w(s,t),s.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),b=this&&this.__spreadArray||function(s,t,n){if(n||arguments.length===2)for(var i,e=0,a=t.length;e<a;e++)!i&&e in t||(i||(i=Array.prototype.slice.call(t,0,e)),i[e]=t[e]);return s.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0}),p.Combo=void 0;var y=x(0),g=x(1),d=x(6),_=x(51),f=x(3),l=x(9),u=x(4),r=function(s){function t(n,i){var e=s.call(this,null,i)||this;return e.events=new f.EventSystem,e._propsItem=["required","validation","placeholder","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","readonly","readOnly"],e._propsCombo=["template","filter","multiselection","selectAllButton","itemsCount","itemHeight","virtual","listHeight"],e._props=b(b(b([],d.baseProps,!0),e._propsItem,!0),e._propsCombo,!0),e._isClear=!1,e._initView(i),e._initHandlers(),e}return C(t,s),t.prototype.destructor=function(){this.events&&this.events.clear(),this.combobox&&this.combobox.destructor(),this.events=this._uid=this._propsCombo=this._propsItem=this._props=null,s.prototype._destructor.call(this),this.unmount()},t.prototype.setProperties=function(n){var i=this;(0,y.awaitRedraw)().then(function(){if(n&&!(0,g.isEmptyObj)(n)&&i.events.fire(u.ItemEvent.beforeChangeProperties,[i.getProperties()])){for(var e in n)i._props.includes(e)&&(i.config[e]=n[e]);var a=[];i.getWidget().data.forEach(function(c){return a.push(c)}),i.config.data=a,i._initView(i.config),i._initHandlers(),i.events.fire(u.ItemEvent.afterChangeProperties,[i.getProperties()])}})},t.prototype.getProperties=function(){for(var n={},i=0,e=this._props;i<e.length;i++){var a=e[i];n[a]=this.config[a]}return n},t.prototype.show=function(){var n=this.config,i=n.value;n.hidden&&this.events.fire(u.ItemEvent.beforeShow,[i])&&(this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[i]))},t.prototype.hide=function(n){var i=this.config,e=i.value;i.hidden&&!n||!this.events.fire(u.ItemEvent.beforeHide,[e,n])||(this.config.hidden=!0,this.events.fire(u.ItemEvent.afterHide,[e,n]))},t.prototype.isVisible=function(){return!this.config.hidden},t.prototype.disable=function(){this.config.disabled=!0,this.combobox.disable(),this.paint()},t.prototype.enable=function(){var n;this.config.disabled=!1,this.combobox.enable(),!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},t.prototype.isDisabled=function(){return!!this.config.disabled},t.prototype.clear=function(){this.config.value&&(this.config.value="",this._isClear=!0,this.combobox.clear())},t.prototype.getValue=function(){return this.config.multiselection?this.combobox.getValue(!0)||[]:this.combobox.getValue()||""},t.prototype.setValue=function(n){n!==void 0&&n.toString()!==this.config.value.toString()&&(this._isClear=!1,this.combobox.setValue(n))},t.prototype.validate=function(n){var i=this;n===void 0&&(n=!1);for(var e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];var c,v=e.length?e[0]:this.getValue();if(!n&&!this.events.fire(u.ItemEvent.beforeValidate,[v]))return!1;c=Array.isArray(v)?v.map(function(k){return i._getItemText(k)}):this._getItemText(v)||"";var m=!0;return(this.config.required||e.length)&&(m=this._existData(v)),typeof this.config.validation=="function"&&(m=this.config.validation(v,c)),n||(this.setValidationStatus(m?"success":"error"),this.config.required&&this._validationStatus(),this.events.fire(u.ItemEvent.afterValidate,[v,m]),this.paint()),m},t.prototype.clearValidate=function(){this.setValidationStatus(),this._validationStatus(),this.paint()},t.prototype.getWidget=function(){return this.combobox},t.prototype.focus=function(){var n=this;(0,y.awaitRedraw)().then(function(){n.combobox.focus()})},t.prototype.blur=function(){var n=this;(0,y.awaitRedraw)().then(function(){n.combobox.blur()})},t.prototype._initView=function(n){if((0,g.isEmptyObj)(n))throw new Error("Check the configuration is correct");this.combobox&&this.combobox.destructor(),this.config={type:n.type,id:n.id,name:n.name,disabled:!1,hidden:!1,value:"",readOnly:!1,multiselection:!1,selectAllButton:!1,itemHeight:32,virtual:!1,listHeight:224,required:!1,placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"};var i={};for(var e in n)e!=="id"&&e!=="type"&&e!=="name"&&(this.config[e]=n[e],e!=="validation"&&(i[e]=n[e]));this.combobox=new _.Combobox(null,i),this.paint()},t.prototype._initHandlers=function(){var n=this;this.combobox.events.on(_.ComboboxEvents.beforeChange,function(i){return n.events.fire(u.ItemEvent.beforeChange,[i])}),this.combobox.events.on(_.ComboboxEvents.change,function(){var i=n.config.value=n.getValue();n.events.fire(u.ItemEvent.change,[i]),(0,d.isVerify)(n.config)&&(n._isClear?(n.setValidationStatus(n.validate(!0)?"success":"error"),n._isClear=!1):n.validate()),n.paint()}),this.combobox.events.on(_.ComboboxEvents.focus,function(){n.events.fire(u.ItemEvent.focus,[n.getValue()]),n.paint()}),this.combobox.events.on(_.ComboboxEvents.blur,function(){n.events.fire(u.ItemEvent.blur,[n.getValue()]),n.paint()}),this.combobox.events.on(_.ComboboxEvents.keydown,function(i,e){i.code==="Enter"&&i.preventDefault(),n.events.fire(u.ItemEvent.keydown,[i,e])})},t.prototype._validationStatus=function(){var n,i,e;if(!(this.combobox.popup.isVisible()||((e=(i=(n=this.combobox.getRootView())===null||n===void 0?void 0:n.refs)===null||i===void 0?void 0:i.input)===null||e===void 0?void 0:e.el)===document.activeElement))switch(this.config.$validationStatus){case u.ValidationStatus.success:return this.combobox.config.css=(this.config.css||"")+" dhx_form-group--state_success";case u.ValidationStatus.error:return this.combobox.config.css=(this.config.css||"")+" dhx_form-group--state_error";case u.ValidationStatus.pre:default:return this.combobox.config.css=this.config.css||""}return this.combobox.config.css=this.config.css||""},t.prototype._getRootView=function(){return this.combobox.getRootView()},t.prototype._draw=function(){var n=this.config,i=n.labelWidth,e=n.labelPosition,a=n.name,c=n.id;return(0,y.el)(".dhx_form-group.dhx_form-group--combobox",{"data-dhx-id":a||c},[(0,y.el)("div.dhx_form-combobox__container",[(0,y.inject)(this._getRootView())]),(0,y.el)("div.dhx_form-combobox__wrapper",{style:{"margin-left":"".concat(i&&e==="left"?"calc(".concat(i," + 16px)"):"")},class:this._validationStatus()},[(0,y.el)("span.dhx_input__caption",(0,d.getValidationMessage)(this.config))])])},t.prototype._existData=function(n){var i=this;return!!(0,g.isDefined)(n)&&(n instanceof Array?!!n.length&&n.every(function(e){return i.combobox.data.exists(e)}):this.combobox.data.exists(n))},t.prototype._getItemText=function(n){var i;return(i=this.combobox.data.getItem(n))===null||i===void 0?void 0:i.value},t}(l.Label);p.Combo=r},function(O,p,x){var w,C=this&&this.__extends||(w=function(t,n){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])},w(t,n)},function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}w(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}),b=this&&this.__assign||function(){return b=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var a in n=arguments[i])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},b.apply(this,arguments)},y=this&&this.__spreadArray||function(t,n,i){if(i||arguments.length===2)for(var e,a=0,c=n.length;a<c;a++)!e&&a in n||(e||(e=Array.prototype.slice.call(n,0,a)),e[a]=n[a]);return t.concat(e||Array.prototype.slice.call(n))};Object.defineProperty(p,"__esModule",{value:!0}),p.SliderForm=void 0;var g=x(0),d=x(1),_=x(75),f=x(3),l=x(9),u=x(4),r=x(6),s=function(t){function n(i,e){var a=t.call(this,i,e)||this;return a.events=new f.EventSystem,a._propsItem=["label","labelWidth","labelPosition","hiddenLabel","helpMessage"],a._propsSlider=["min","max","step","mode","range","inverse","tooltip","tick","tickTemplate","majorTick"],a._props=y(y(y([],r.baseProps,!0),a._propsItem,!0),a._propsSlider,!0),a._initView(e),a._initHandlers(),a.mount(i,(0,g.create)({render:function(){return a._drawSlider()}})),a}return C(n,t),n.prototype.destructor=function(){this.events&&this.events.clear(),this.slider&&this.slider.destructor(),this.events=this._uid=this._propsSlider=this._propsItem=this._props=null,t.prototype._destructor.call(this),this.unmount()},n.prototype.setProperties=function(i){if(i&&!(0,d.isEmptyObj)(i)&&this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in i)this._props.includes(e)&&(this.config[e]=i[e]);this._initView(this.config),this._initHandlers(),this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.slider.paint(),this.paint()}},n.prototype.getProperties=function(){for(var i={},e=0,a=this._props;e<a.length;e++){var c=a[e];i[c]=this.config[c]}return i},n.prototype.show=function(){var i=this.config,e=i.value;i.hidden&&this.events.fire(u.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[e]))},n.prototype.hide=function(i){var e=this.config,a=e.value;e.hidden&&!i||!this.events.fire(u.ItemEvent.beforeHide,[a,i])||(this.config.hidden=!0,this.events.fire(u.ItemEvent.afterHide,[a,i]))},n.prototype.isVisible=function(){return!this.config.hidden},n.prototype.disable=function(){this.config.disabled=!0,this.slider.disable(),this.paint()},n.prototype.enable=function(){var i;this.config.disabled=!1,this.slider.enable(),!((i=this.parent)===null||i===void 0)&&i.isDisabled()&&this.parent.enable(),this.paint()},n.prototype.isDisabled=function(){return!!this.config.disabled},n.prototype.clear=function(){var i=this.config,e=i.value,a=i.min;e[0]!==a&&this.slider.setValue(a)},n.prototype.getValue=function(){return this.slider.getValue()},n.prototype.setValue=function(i){i!==void 0&&i.toString()!==this.config.value.toString()&&this.slider.setValue(i)},n.prototype.getWidget=function(){return this.slider},n.prototype.focus=function(i){var e=this;(0,g.awaitRedraw)().then(function(){e.slider.focus(i)})},n.prototype.blur=function(){var i=this;(0,g.awaitRedraw)().then(function(){i.slider.blur()})},n.prototype._initView=function(i){if((0,d.isEmptyObj)(i))throw new Error("Check the configuration is correct");this.slider&&this.slider.destructor();var e={type:i.type,id:i.id,name:i.name,mode:"horizontal",min:0,max:100,step:1,range:!1,inverse:!1,tooltip:!0,disabled:!1,hidden:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",width:"content",height:"content"};for(var a in i)a!=="id"&&a!=="type"&&a!=="name"&&(e[a]=i[a]);this.config=b({type:this.config.type},e),this.slider=new _.Slider(null,e),this.config.disabled&&this.slider.disable(),this.config.value=this.slider.getValue()},n.prototype._initHandlers=function(){var i=this;this.slider.events.on(_.SliderEvents.beforeChange,function(e,a,c){var v=[e];if(i.config.range){var m=i.getValue(),k=m[0],I=m[1];v=c?[k,e]:[e,I]}return i.events.fire(u.ItemEvent.beforeChange,[v])}),this.slider.events.on(_.SliderEvents.change,function(){if(i._uid){var e=i.config.value=i.slider.getValue();i.events.fire(u.ItemEvent.change,[e]),i.paint()}}),this.slider.events.on(_.SliderEvents.focus,function(){i.events.fire(u.ItemEvent.focus,[i.getValue()])}),this.slider.events.on(_.SliderEvents.blur,function(){i.events.fire(u.ItemEvent.blur,[i.getValue()])}),this.slider.events.on(_.SliderEvents.keydown,function(e){i.events.fire(u.ItemEvent.keydown,[e])})},n.prototype._drawSlider=function(){var i=this.config,e=i.name,a=i.id;return(0,g.el)("div.dhx_form-group",{"data-dhx-id":e||a},[(0,g.inject)(this.slider.getRootView())])},n}(l.Label);p.SliderForm=s},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(b,y,g,d){d===void 0&&(d=g);var _=Object.getOwnPropertyDescriptor(y,g);_&&!("get"in _?!y.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,d,_)}:function(b,y,g,d){d===void 0&&(d=g),b[d]=y[g]}),C=this&&this.__exportStar||function(b,y){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(y,g)||w(y,b,g)};Object.defineProperty(p,"__esModule",{value:!0}),C(x(107),p),C(x(229),p),C(x(42),p)},function(O,p,x){var w,C=this&&this.__extends||(w=function(T,H){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,L){$.__proto__=L}||function($,L){for(var j in L)Object.prototype.hasOwnProperty.call(L,j)&&($[j]=L[j])},w(T,H)},function(T,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function $(){this.constructor=T}w(T,H),T.prototype=H===null?Object.create(H):($.prototype=H.prototype,new $)}),b=this&&this.__assign||function(){return b=Object.assign||function(T){for(var H,$=1,L=arguments.length;$<L;$++)for(var j in H=arguments[$])Object.prototype.hasOwnProperty.call(H,j)&&(T[j]=H[j]);return T},b.apply(this,arguments)},y=this&&this.__spreadArray||function(T,H,$){if($||arguments.length===2)for(var L,j=0,M=H.length;j<M;j++)!L&&j in H||(L||(L=Array.prototype.slice.call(H,0,j)),L[j]=H[j]);return T.concat(L||Array.prototype.slice.call(H))};Object.defineProperty(p,"__esModule",{value:!0}),p.Vault=void 0;var g=x(1),d=x(0),_=x(3),f=x(2),l=x(34),u=x(5),r=x(8),s=x(16),t=x(21),n=x(102),i=x(30),e=x(60),a=x(42),c=x(107),v=x(230),m=x(231),k=x(232),I=x(233),P=function(T){function H($,L){L===void 0&&(L={});var j=T.call(this,null,(0,g.extend)({mode:a.VaultMode.list,toolbar:!0,updateFromResponse:!0,scaleFactor:4,customScroll:!0,uploader:{},progressBar:{}},L))||this;return j.config.toolbar||(j.config.uploader.autosend=!0),L.data?(j.data=L.data,j.events=L.data.events,j.events.context=j):(j.events=new _.EventSystem(j),j.data=new r.DataCollection({},j.events)),j.data.config.init=function(M){return M.status=M.status||a.FileStatus.uploaded,M.file?(M.size=M.file.size,M.name=M.file.name):(M.size=M.size||0,M.name=M.name||""),j.config.mode===a.VaultMode.grid&&M.file&&(0,m.isImage)(M)&&j._readStack.add(M,j.uploader.config.autosend),M},j._readStack=new I.ReadStackPreview(j.data),j.uploader=new c.Uploader(j.config.uploader,j.data,j.events),j._scrollView=new l.ScrollView(function(){return j._vaultView.getRootView()}),j._progressBar=new k.ProgressBar(j.events,j.config.progressBar),j.events.on(a.UploaderEvents.uploadProgress,function(M,F,S){return j._progressBar.setState(M,{current:F,total:S})}),j._initHandlers(),j._initUI($),j._initEvents(),j}return C(H,T),H.prototype.destructor=function(){this.toolbar.destructor(),this._readStack.stop(),this.uploader.unlinkDropArea(),this.uploader.abort()},H.prototype.getRootView=function(){return this._layout.getRootView()},H.prototype._initUI=function($){var L=this,j=this.config.toolbar?v.layoutConfig:v.layoutConfigWithoutTopbar;j.on=this._getDragEvents();var M=this._layout=new s.Layout($,j),F=this.toolbar=new n.Toolbar(null,{css:"vault-toolbar"});this.toolbar.data.parse([{id:"add",tooltip:e.default.add,type:"button",icon:"dxi-plus"},{id:"upload",tooltip:e.default.upload,type:"button",icon:"dxi icon-upload"},{id:"spacer",type:"spacer"},{id:"remove-all",tooltip:e.default.clearAll,type:"button",icon:"dxi-delete-forever"}]),this._hideUploadAndDeleteButtons(),this._vaultView=(0,u.toViewLike)((0,d.create)({render:function(){return L._draw()}})),this.config.toolbar&&M.getCell("topbar").attach(F),M.getCell("vault").attach(this._vaultView)},H.prototype._initHandlers=function(){var $=this;this._handlers={onclick:{".action-add":function(){return $.uploader.selectFile()},".action-remove-file":function(L){var j=(0,f.locate)(L);j&&($.data.update(j,{$toRemove:!0}),setTimeout(function(){$.data.update(j,{$toRemove:!1},!0),$.data.remove(j)},200))}},onmouseover:{".action-download":function(L){(0,t.tooltip)(e.default.download,{node:L.target,position:t.Position.bottom})},".action-remove-file":function(L){(0,t.tooltip)(e.default.clear,{node:L.target,position:t.Position.bottom})},".title-content, .dhx-file-name":function(L){var j=(0,f.locate)(L),M=$.data.getItem(j);(0,t.tooltip)(M.name,{node:L.target,position:t.Position.bottom,css:"tooltip-light"})}}}},H.prototype._getDragEvents=function(){var $=this,L={left:null,top:null,width:null,height:null};return{dragleave:function(j){$._canDrop&&(j.pageX>L.left+L.width-1||j.pageX<L.left||j.pageY>L.top+L.height-1||j.pageY<L.top)&&($._canDrop=!1,$.config.toolbar&&$._layout.getCell("topbar").show(),$._layout.config.css="vault-layout",$._layout.paint())},dragenter:function(j){if(j.preventDefault(),!$.uploader.isActive&&!$._canDrop){for(var M=0,F=j.dataTransfer.types;M<F.length;M++){var S=F[M];if(S!=="Files"&&S!=="application/x-moz-file")return void($._canDrop=!1)}$._canDrop=!0;var R=$.getRootView().node.el.getBoundingClientRect();L.left=R.left+window.pageXOffset,L.top=R.top+window.pageYOffset,L.width=R.width,L.height=R.height,$._canDrop=!0,$.config.toolbar&&$._layout.getCell("topbar").hide(),$._layout.config.css="vault-layout dhx-dragin",$._layout.paint()}},dragover:function(j){j.preventDefault()},drop:function(j){if(j.preventDefault(),$._canDrop){var M=j.dataTransfer;$.uploader.parseFiles(M),$._canDrop=!1,$.config.toolbar&&$._layout.getCell("topbar").show(),$._layout.config.css="vault-layout",$._layout.paint()}}}},H.prototype._hideUploadAndDeleteButtons=function(){this.toolbar.hide(["upload","remove-all"])},H.prototype._showUploadAndDeleteButtons=function(){this.uploader.config.autosend?this.toolbar.show("remove-all"):this.toolbar.show(["upload","remove-all"])},H.prototype._initEvents=function(){var $=this;this.data.events.on(r.DataEvents.change,function(){$.data.getLength()?$._showUploadAndDeleteButtons():$._hideUploadAndDeleteButtons(),$._vaultView.paint()}),this.events.on(a.UploaderEvents.uploadBegin,function(){$.config.toolbar&&$._layout.getCell("topbar").attach($._progressBar)}),this.events.on(a.UploaderEvents.uploadComplete,function(){$.config.mode===a.VaultMode.grid&&$.uploader.config.autosend&&$._readStack.read(),$.config.toolbar&&$._layout.getCell("topbar").attach($.toolbar)}),this.toolbar.events.on(i.NavigationBarEvents.click,function(L){switch(L){case"add":$.uploader.selectFile();break;case"remove-all":$.data.removeAll();break;case"upload":$.uploader.send()}}),this.events.on(a.ProgressBarEvents.cancel,function(){$.uploader.abort(),$._vaultView.paint()})},H.prototype._draw=function(){var $=!this.data.getLength(),L=this.config.mode===a.VaultMode.grid?this._drawGrid():this._drawList();return(0,d.el)("div",b(b({class:"vault dhx_widget"+(this._canDrop?" drop-here":"")},this._handlers),{"data-dhx-widget-id":this._uid}),[this._canDrop||$?this._drawDropableArea():this.config.customScroll?this._scrollView.render(L):L])},H.prototype._getFileActions=function($){var L=[],j=[],M=[(0,d.el)(".dhx-default-actions",L),(0,d.el)(".dhx-hover-actions",j)];if($.status===a.FileStatus.inprogress)return M;if($.status!==a.FileStatus.failed&&$.link){var F=(this.config.downloadURL||"")+$.link,S=F.split("/").pop().split("?")[0],R=(0,d.el)("a",{download:S,class:"download-link",href:F},[(0,d.el)(".icon-btn.dxi.dxi-download.action-download")]);j.push(R)}var B=(0,d.el)(".icon-btn.dxi.dxi-delete-forever.action-remove-file");if(j.push(B),$.status===a.FileStatus.failed){var Y=(0,d.el)(".dxi.dxi-alert-circle.warning-status");L.push(Y)}if($.status===a.FileStatus.uploaded){var q=(0,d.el)(".dxi.dxi-checkbox-marked-circle.uploaded-status");L.push(q)}return M},H.prototype._drawList=function(){var $=this;return(0,d.el)(".dhx-files-block.dhx-webkit-scroll",this.data.map(function(L){var j=L.status===a.FileStatus.failed&&L.request,M=L.status===a.FileStatus.inprogress,F=L.status===a.FileStatus.queue,S=L.status!==a.FileStatus.uploaded;return(0,d.el)("div",{class:"dhx-file-item"+(L.$toRemove?" to-remove":"")+(F?" in-queue":""),"data-dhx-id":L.id,_key:L.id},[(0,d.el)(".dhx-file-icon",[(0,d.el)("div",{class:"dhx-file-type "+(0,m.getFileClassName)(L)+(S?" not-loaded":"")})]),(0,d.el)(".dhx-file-title",[(0,d.el)(".dhx-title-content",L.name),(0,d.el)(".dhx-file-info",[j&&(0,d.el)(".warn-message",L.request.statusText||e.default.error),M?(0,d.el)(".progress-value",(100*L.progress).toFixed(1)+"%"):(0,d.el)(".dhx-size"+(j?".dhx-size-error":""),(0,m.getBasis)(L.size))])]),M&&(0,d.el)(".dhx-download-progress",{style:{width:(100*L.progress).toFixed(1)+"%"}}),!M&&(0,d.el)(".dhx-file-action",$._getFileActions(L))])}))},H.prototype._drawDropableArea=function(){return(0,d.el)(".dhx-dropable-area.drop-files-here",[(0,d.el)(".dhx-big-icon-block",[(0,d.el)(".dxi.icon-upload")]),!this._canDrop&&(0,d.el)(".drop-area-bold-text",e.default.dragAndDrop),!this._canDrop&&(0,d.el)(".drop-area-bold-text",e.default.filesOrFoldersHere),!this._canDrop&&(0,d.el)(".drop-area-light-text",e.default.or),!this._canDrop&&(0,d.el)("button.dhx_btn.dhx_btn--flat.dhx_btn--small.action-add",e.default.browse)])},H.prototype._drawGrid=function(){var $=this;return(0,d.el)("div",{class:"dhx-files-grid dhx-webkit-scroll"},[(0,d.el)(".dhx-grid-content",this.data.map(function(L){var j=L.status===a.FileStatus.inprogress,M=L.status===a.FileStatus.queue,F=L.status===a.FileStatus.failed;return(0,d.el)("div",{class:"dhx-file-grid-item"+(j?" in-progress":"")+(L.$toRemove?" to-remove":"")+(M?" in-queue":"")+(F?" failed":""),"data-dhx-id":L.id,_key:L.id},[(0,d.el)(".dhx-preview-wrapper",y(y([L.preview?(0,d.el)(".dhx-server-file-preview",[(0,d.el)("img",{src:L.preview})]):L.image?(0,d.el)("canvas",{width:98*$.config.scaleFactor,height:98*$.config.scaleFactor,_hooks:{didInsert:function(S){var R=(0,m.calculateCover)(L.image),B=R.dx,Y=R.dy,q=R.sx,U=R.sy,V=R.sHeight,A=R.sWidth;S.el.getContext("2d").drawImage(L.image,q,U,A,V,B,Y,98*$.config.scaleFactor,98*$.config.scaleFactor)}}}):(0,d.el)("div",{class:"dhx-file-preview dhx-file-type "+(0,m.getFileClassName)(L)}),j&&$._drawCircle(L.progress)],$._getFileActions(L),!0),[(0,d.el)(".dhx-file-info",[F&&(0,d.el)(".warn-message",L.request.statusText||e.default.error),!j&&(0,d.el)(".dhx-size"+(F?".dhx-size-error":""),(0,m.getBasis)(L.size))])],!1)),(0,d.el)(".dhx-file-name",(0,m.truncateWord)(L.name))])}))])},H.prototype._drawCircle=function($){return(0,d.el)(".progress-layout",[(0,d.el)(".progress-amount",(100*$).toFixed(1)+"%"),(0,d.sv)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"progress-circle",viewBox:"0 0 60 60"},[(0,d.sv)("circle",{cx:30,cy:30,r:28,"stroke-width":4,class:"progress-bar-background"}),(0,d.sv)("circle.active-circle",{cx:30,cy:30,r:28,"stroke-width":4,"stroke-dasharray":"175.9 175.9","stroke-dashoffset":175.9*(1-$),class:"progress-bar-active"})])])},H}(u.View);p.Vault=P},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.layoutConfigWithoutTopbar=p.layoutConfig=void 0,p.layoutConfig={css:"vault-layout",rows:[{id:"topbar",css:"vault-topbar"},{id:"vault",css:"vault-file-grid"}]},p.layoutConfigWithoutTopbar={css:"vault-layout",rows:[{id:"vault",css:"vault-file-grid"}]}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.isImage=p.getFileClassName=p.getFileType=p.FileType=p.calculateCover=p.truncateWord=p.getBasis=void 0;var w=x(60),C=["byte","kilobyte","megabyte","gigabyte"];p.getBasis=function(d,_){return d===void 0&&(d=0),_===void 0&&(_=0),d<1024?d+" "+w.default[C[_]]:this.getBasis(Math.round(d/1024),_+1)};var b;function y(d){return{extension:d.name.split(".").pop()||"none",mime:d.file?d.file.type:""}}function g(d,_){switch(d){case"jpg":case"jpeg":case"gif":case"png":case"bmp":case"tiff":case"pcx":case"svg":case"ico":return b.image;case"avi":case"mpg":case"mpeg":case"rm":case"move":case"mov":case"mkv":case"flv":case"f4v":case"mp4":case"3gp":case"wmv":case"webm":case"vob":return b.video;case"rar":case"zip":case"tar":case"tgz":case"arj":case"gzip":case"bzip2":case"7z":case"ace":case"apk":case"deb":case"zipx":case"cab":case"tar-gz":case"rpm":case"xar":return b.archive;case"xlr":case"xls":case"xlsm":case"xlsx":case"ods":case"csv":case"tsv":return b.table;case"doc":case"docx":case"docm":case"dot":case"dotx":case"odt":case"wpd":case"wps":case"pages":return b.document;case"wav":case"aiff":case"au":case"mp3":case"aac":case"wma":case"ogg":case"flac":case"ape":case"wv":case"m4a":case"mid":case"midi":return b.audio;case"pot":case"potm":case"potx":case"pps":case"ppsm":case"ppsx":case"ppt":case"pptx":case"pptm":case"odp":return b.presentation;case"html":case"htm":case"eml":return b.web;case"exe":return b.application;case"dmg":return b.apple;case"pdf":case"ps":case"eps":return b.pdf;case"psd":return b.psd;case"txt":case"djvu":case"nfo":case"xml":return b.text;default:switch(_.split("/")[0]){case"image":return b.image;case"audio":return b.audio;case"video":return b.video;default:return b.other}}}p.truncateWord=function(d,_){var f,l;if(_===void 0&&(_=13),d.length<=_)return d;var u=d.lastIndexOf(".");if(u===-1)l=d.substr(d.length-4),f=d.substr(0,_-7);else{var r=u-3;l=d.substr(r),f=d.substr(0,_-(d.length-r))}return f+"..."+l},p.calculateCover=function(d){var _,f,l,u,r=d.width,s=d.height,t=r/s;return t>1?(_=s,l=(r-(f=s))/2,u=0):t<1?(f=r,l=0,u=(s-(_=r))/2):(_=r,f=r,l=0,u=0),{sx:l,sy:u,sWidth:f,sHeight:_,dx:0,dy:0}},function(d){d.image="image",d.video="video",d.archive="archive",d.table="table",d.document="document",d.presentation="presentation",d.application="application",d.web="web",d.apple="apple",d.pdf="pdf",d.psd="psd",d.audio="audio",d.other="other",d.text="text"}(b||(p.FileType=b={})),p.getFileType=g,p.getFileClassName=function(d){var _=y(d),f=_.mime,l=_.extension;return g(l,f)+" extension-"+l},p.isImage=function(d){var _=y(d),f=_.mime;return g(_.extension,f)===b.image}},function(O,p,x){var w,C=this&&this.__extends||(w=function(f,l){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(u[s]=r[s])},w(f,l)},function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function u(){this.constructor=f}w(f,l),f.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)});Object.defineProperty(p,"__esModule",{value:!0}),p.ProgressBar=void 0;var b=x(0),y=x(5),g=x(60),d=x(42),_=function(f){function l(u,r){var s=f.call(this,null,r)||this;return s.events=u,s._progress=0,s.mount(null,(0,b.create)({render:function(){return s._draw()}})),s._abortUpload=function(){s.events.fire(d.ProgressBarEvents.cancel)},s}return C(l,f),l.prototype.setState=function(u,r){this._progress=u,this.config.template?this._progressText=this.config.template(u,r):this._progressText=this._progress.toFixed(1)+"%",this.paint()},l.prototype._draw=function(){return(0,b.el)(".progress-bar",{_key:this._uid},[(0,b.el)(".progress-indicator",{style:{width:this._progress+"%"}}),(0,b.el)(".progress-text",{".innerHTML":this._progressText}),(0,b.el)("button",{class:"dhx_btn dhx_btn--flat dhx_btn_small action-abort-all",onclick:this._abortUpload},g.default.cancel)])},l}(y.View);p.ProgressBar=_},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.ReadStackPreview=void 0;var w=function(){function C(b){this._readerStack=[],this._isActive=!1,this._data=b}return C.prototype.add=function(b,y){y===void 0&&(y=!1),this._readerStack.push(b),y||this.read()},C.prototype.read=function(){var b=this;if(this._readerStack.length&&!this._isActive){var y=this._readerStack.shift();this._isActive=!0;var g=new FileReader;g.readAsDataURL(y.file),g.onload=function(d){var _=new Image;_.src=d.target.result,_.onload=function(){b._data.exists(y.id)&&b._data.update(y.id,{image:_}),b._isActive=!1,b.read()}},g.onerror=function(){b._isActive=!1,b.read()}}},C.prototype.stop=function(){this._readerStack=[]},C}();p.ReadStackPreview=w},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.default={simpleVaultText:"Drag & drop files or folders here or",simpleVaultLabel:"browse files"}},function(O,p,x){var w,C=this&&this.__extends||(w=function(n,i){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])},w(n,i)},function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=n}w(n,i),n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),b=this&&this.__spreadArray||function(n,i,e){if(e||arguments.length===2)for(var a,c=0,v=i.length;c<v;c++)!a&&c in i||(a||(a=Array.prototype.slice.call(i,0,c)),a[c]=i[c]);return n.concat(a||Array.prototype.slice.call(i))};Object.defineProperty(p,"__esModule",{value:!0}),p.TimePicker=void 0;var y=x(73),g=x(0),d=x(1),_=x(9),f=x(11),l=x(3),u=x(4),r=x(6),s=x(14),t=function(n){function i(e,a){var c=n.call(this,null,a)||this;return c.events=new l.EventSystem,c._popupIsFocus=!1,c._propsItem=["required","validation","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],c._propsTimepicker=["timeFormat","controls","valueFormat"],c._props=b(b(b([],r.baseProps,!0),c._propsItem,!0),c._propsTimepicker,!0),c._keyManager=new s.KeyManager(function(){var v,m,k,I=document.activeElement;return((k=(m=(v=c.getRootView())===null||v===void 0?void 0:v.refs)===null||m===void 0?void 0:m.input)===null||k===void 0?void 0:k.el)===I||c._popup.isVisible()}),c._initView(a),c._initHandlers(),c._initHotkeys(),c.mount(e,(0,g.create)({render:function(){return c._draw()}})),c}return C(i,n),i.prototype.destructor=function(){this.events&&this.events.clear(),this.timepicker&&this.timepicker.destructor(),this._keyManager&&this._keyManager.destructor(),this._popup&&this._popup.destructor(),this.events=this._uid=this._propsItem=this._propsTimepicker=this._props=this._keyManager=null,n.prototype._destructor.call(this),this.unmount()},i.prototype.setProperties=function(e){var a=this;(0,g.awaitRedraw)().then(function(){if(e&&!(0,d.isEmptyObj)(e)&&a.events.fire(u.ItemEvent.beforeChangeProperties,[a.getProperties()])){for(var c in e)a._props.includes(c)&&(a.config[c]=e[c]);a._initView(a.config),a._initHandlers(),a.events.fire(u.ItemEvent.afterChangeProperties,[a.getProperties()]),a.paint()}})},i.prototype.getProperties=function(){for(var e={},a=0,c=this._props;a<c.length;a++){var v=c[a];e[v]=this.config[v]}return e},i.prototype.show=function(){this.config.hidden&&this.events.fire(u.ItemEvent.beforeShow,[this.getValue(this.config.valueFormat==="timeObject")])&&(this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[this.getValue(this.config.valueFormat==="timeObject")]))},i.prototype.hide=function(e){this.config.hidden&&!e||!this.events.fire(u.ItemEvent.beforeHide,[this.getValue(this.config.valueFormat==="timeObject"),e])||(this.config.hidden=!0,this.events.fire(u.ItemEvent.afterHide,[this.getValue(this.config.valueFormat==="timeObject"),e]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.disable=function(){this.config.disabled=!0,this.paint()},i.prototype.enable=function(){var e;this.config.disabled=!1,!((e=this.parent)===null||e===void 0)&&e.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.validate=function(e){e===void 0&&(e=!1);for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];var v=a.length?a[0]:this.getValue(this._isTimeObject());if(!e&&!this.events.fire(u.ItemEvent.beforeValidate,[v]))return!1;var m=!0;return(this.config.required||a.length)&&(m=typeof v=="string"?(0,r.isTimeFormat)(v,this.config.timeFormat):(0,r.isTimeFormat)("".concat(v.hour,":").concat(v.minute).concat((0,d.isDefined)(v.AM)?v.AM?"AM":"PM":""),this.config.timeFormat)),typeof this.config.validation=="function"&&(m=this.config.validation(v)),e||(this.config.$validationStatus=m?u.ValidationStatus.success:u.ValidationStatus.error,this.events.fire(u.ItemEvent.afterValidate,[v,m]),this.paint()),m},i.prototype.clearValidate=function(){this.config.$validationStatus=u.ValidationStatus.pre,this.paint()},i.prototype.setValue=function(e){if(e!==void 0&&e!==this.config.value){if(this.timepicker.setValue(e),this.config.controls){var a=this.getValue(this._isTimeObject());if(!this.events.fire(u.ItemEvent.beforeChange,[a]))return;this.config.value=this.timepicker.getValue(),this.events.fire(u.ItemEvent.change,[a])}(0,r.isVerify)(this.config)&&this.validate(),this.paint()}},i.prototype.getValue=function(e){return e?this.timepicker.getValue(e):this.config.value||""},i.prototype.focus=function(){var e=this;(0,g.awaitRedraw)().then(function(){e.getRootView().refs.input.el.focus()})},i.prototype.blur=function(){var e=this;(0,g.awaitRedraw)().then(function(){e._popup.hide(),e.getRootView().refs.input.el.blur()})},i.prototype.clear=function(){this.config.value!==""&&this._clear()},i.prototype.getWidget=function(){return this.timepicker},i.prototype._initView=function(e){if((0,d.isEmptyObj)(e))throw new Error("Check the configuration is correct");for(var a in this.timepicker&&this.timepicker.destructor(),this._popup&&this._popup.destructor(),this.config={type:e.type,id:e.id,name:e.name,value:"",disabled:!1,editable:!1,hidden:!1,timeFormat:24,controls:!1,valueFormat:"string",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},e)a!=="id"&&a!=="type"&&a!=="name"&&(this.config[a]=e[a]);this._popup=new f.Popup,this.timepicker=new y.Timepicker(null,(0,r.widgetConfig)(e)),this._popup.attach(this.timepicker),this.config.value&&(this.config.value=this.timepicker.getValue())},i.prototype._initHandlers=function(){var e=this;this.config.controls?(this.timepicker.events.on(y.TimepickerEvents.afterClose,function(){e._popup.hide()}),this.timepicker.events.on(y.TimepickerEvents.afterApply,function(){e._afterApply(!0)}),this._popup.events.on(f.PopupEvents.afterHide,function(){e.config.value&&e.config.value!==e.timepicker.getValue()?e.timepicker.setValue(e.config.value):e.config.value!==""&&e.config.value!==void 0||e._clear(!0)})):(this.timepicker.events.on(y.TimepickerEvents.beforeChange,function(a){return e.events.fire(u.ItemEvent.beforeChange,[a])}),this.timepicker.events.on(y.TimepickerEvents.change,function(a){var c=e.config.timeFormat===12?"12:00AM":"00:00",v=e.timepicker.getValue();e.config.value===""&&c===v||e.config.value===v||(e.config.value=e.timepicker.getValue(),e.events.fire(u.ItemEvent.change,[a]),(0,r.isVerify)(e.config)&&e.validate(),e.paint())})),this._popup.events.on(f.PopupEvents.afterHide,function(){document.activeElement!==e.getRootView().refs.input.el&&e.events.fire(u.ItemEvent.blur,[e.getValue()]),e.paint()}),this.events.on(u.ItemEvent.input,function(a){var c=e.config.timeFormat===12?7:5;a.length>=c&&(0,r.isTimeFormat)(a,e.config.timeFormat)?e.timepicker.setValue(a):a!==""||e.config.controls||e._clear()}),this.events.on(u.ItemEvent.afterChangeProperties,function(){e.config.value=e.timepicker.getValue(),e.paint()}),this.events.on(u.ItemEvent.blur,function(){e._popupIsFocus=!1,e.paint()})},i.prototype._getHandlers=function(){var e=this;return{onfocus:function(){if(!e._popup.isVisible()){var a=e.getRootView().refs.input.el;e._popup.show(a,{theme:a}),e.events.fire(u.ItemEvent.focus,[e.getValue()]),e.paint()}},onblur:function(){e._popup.isVisible()||e.events.fire(u.ItemEvent.blur,[e.getValue()]),e.paint()},oninput:function(a){var c=a.target.value;e.events.fire(u.ItemEvent.input,[c])},onkeydown:function(a){var c,v,m,k=document.activeElement;(((m=(v=(c=e.getRootView())===null||c===void 0?void 0:c.refs)===null||v===void 0?void 0:v.input)===null||m===void 0?void 0:m.el)===k||e._popup.isVisible())&&e.events.fire(u.ItemEvent.keydown,[a])},onmousedown:function(){e._popup.getContainer()!==document.activeElement&&(e._popupIsFocus=!1)}}},i.prototype._initHotkeys=function(){var e=this,a={"shift+tab":function(){e._applyTab()},tab:function(){e._applyTab()},escape:function(){e._popup.isVisible()&&e.getRootView().refs.input.el.focus(),e._popup.hide()},enter:function(v){v.preventDefault();var m=e.getRootView().refs.input.el;e._popup.isVisible()||e._popup.show(m,{theme:m}),e._popupIsFocus&&e.config.controls?e._afterApply(!0):(e._popup.hide(),e.paint())},arrowRight:function(v){var m=e._popup.getContainer();e._popupIsFocus=m.contains(document.activeElement),e._popup.isVisible()&&!e._popupIsFocus&&(v.preventDefault(),m.focus(),e._popupIsFocus=!0)}};for(var c in a)this._keyManager.addHotKey(c,a[c])},i.prototype._draw=function(){var e,a,c,v=this.config,m=v.value,k=v.required,I=v.disabled,P=v.placeholder,T=v.name,H=v.id,$=v.editable,L=v.label,j=v.helpMessage,M=this._popup.isVisible()||((c=(a=(e=this.getRootView())===null||e===void 0?void 0:e.refs)===null||a===void 0?void 0:a.input)===null||c===void 0?void 0:c.el)===document.activeElement;return(0,g.el)("div.dhx_form-group",{class:(0,r.getFormItemCss)(this.config,(0,r.isVerify)(this.config),M)},[this._drawLabel(),(0,g.el)(".dhx_input__wrapper",[(0,g.el)("div.dhx_input__container",{},[(0,g.el)(".dhx_input__icon.dxi.dxi-clock-outline"),(0,g.el)("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":T||H,_key:this._uid,_ref:"input",value:m,type:"text",required:k,disabled:I,class:M&&"dhx_input--focus",placeholder:P||"",name:T||"",id:H||this._uid,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onkeydown:this._handlers.onkeydown,onmousedown:this._handlers.onmousedown,autocomplete:"off",readOnly:!$,"aria-label":L||"".concat($?"type or":""," select date"),"aria-describedby":j?"dhx_label__help_".concat(H||this._uid):null})]),(0,r.getValidationMessage)(this.config)&&(0,g.el)("span.dhx_input__caption",{},(0,r.getValidationMessage)(this.config))])])},i.prototype._clear=function(e){(e||this.events.fire(u.ItemEvent.beforeChange,[""]))&&(this.config.value="",this.timepicker.clear(),e||(this.events.fire(u.ItemEvent.change,[""]),(0,r.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error")),this.paint())},i.prototype._afterApply=function(e){if(e===void 0&&(e=!1),this.getRootView().refs.input.el.value!==""||e){var a=this.timepicker.getValue(this._isTimeObject());if(!this.events.fire(u.ItemEvent.beforeChange,[a]))return;this.config.value=this.timepicker.getValue(),this.events.fire(u.ItemEvent.change,[a]),(0,r.isVerify)(this.config)&&this.validate()}else this.clear();this._popup.hide(),this.paint()},i.prototype._applyTab=function(){var e,a,c;document.activeElement===((c=(a=(e=this._popup.getRootView())===null||e===void 0?void 0:e.refs)===null||a===void 0?void 0:a.content)===null||c===void 0?void 0:c.el)||this._popupIsFocus||this._popup.hide()},i.prototype._isTimeObject=function(){var e;return((e=this.config.valueFormat)===null||e===void 0?void 0:e.toLowerCase())==="timeobject"},i}(_.Label);p.TimePicker=t},function(O,p,x){var w,C=this&&this.__extends||(w=function(n,i){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])},w(n,i)},function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=n}w(n,i),n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),b=this&&this.__spreadArray||function(n,i,e){if(e||arguments.length===2)for(var a,c=0,v=i.length;c<v;c++)!a&&c in i||(a||(a=Array.prototype.slice.call(i,0,c)),a[c]=i[c]);return n.concat(a||Array.prototype.slice.call(i))};Object.defineProperty(p,"__esModule",{value:!0}),p.ColorPicker=void 0;var y=x(237),g=x(3),d=x(0),_=x(1),f=x(9),l=x(11),u=x(4),r=x(6),s=x(14),t=function(n){function i(e,a){var c=n.call(this,null,a)||this;return c.events=new g.EventSystem,c._popupIsFocus=!1,c._propsItem=["required","validation","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],c._propsColorpicker=["mode","grayShades","customColors","palette"],c._props=b(b(b([],r.baseProps,!0),c._propsItem,!0),c._propsColorpicker,!0),c._keyManager=new s.KeyManager(function(){var v,m,k,I=document.activeElement;return((k=(m=(v=c.getRootView())===null||v===void 0?void 0:v.refs)===null||m===void 0?void 0:m.input)===null||k===void 0?void 0:k.el)===I||c._popup.isVisible()}),c._initView(a),c._initHandlers(),c._initHotkeys(),c.mount(e,(0,d.create)({render:function(){return c._draw()}})),c}return C(i,n),i.prototype.destructor=function(){this.events&&this.events.clear(),this._popup&&this._popup.destructor(),this._keyManager&&this._keyManager.destructor(),this.colorpicker&&this.colorpicker.destructor(),this.events=this._uid=this._propsColorpicker=this._propsItem=this._props=this._keyManager=null,n.prototype._destructor.call(this),this.unmount()},i.prototype.setProperties=function(e){if(e&&!(0,_.isEmptyObj)(e)&&this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var a in e)this._props.includes(a)&&(this.config[a]=e[a],this._propsColorpicker.includes(a)&&(this.colorpicker.config[a]=e[a]));this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.colorpicker.paint(),this.paint()}},i.prototype.getProperties=function(){for(var e={},a=0,c=this._props;a<c.length;a++){var v=c[a];e[v]=this.config[v]}return e},i.prototype.show=function(){var e=this.config,a=e.value;e.hidden&&this.events.fire(u.ItemEvent.beforeShow,[a])&&(this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[a]))},i.prototype.hide=function(e){var a=this.config,c=a.value;a.hidden&&!e||!this.events.fire(u.ItemEvent.beforeHide,[c,e])||(this.config.hidden=!0,this.events.fire(u.ItemEvent.afterHide,[c,e]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.disable=function(){this.config.disabled=!0,this.paint()},i.prototype.enable=function(){var e;this.config.disabled=!1,!((e=this.parent)===null||e===void 0)&&e.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.validate=function(e){e===void 0&&(e=!1);for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];var v=a.length?a[0]:this.getValue();if(!e&&!this.events.fire(u.ItemEvent.beforeValidate,[v]))return!1;var m=!0;return(this.config.required||a.length)&&(m=(0,y.isHex)(v)),typeof this.config.validation=="function"&&(m=this.config.validation(v)),e||(this.setValidationStatus(m?"success":"error"),this.events.fire(u.ItemEvent.afterValidate,[v,m]),this.paint()),m},i.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},i.prototype.setValue=function(e){e!==void 0&&e!==this.config.value&&this.colorpicker.setValue(e)},i.prototype.getValue=function(){return this.colorpicker.getValue()},i.prototype.clear=function(){this.config.value!==""&&this.colorpicker.clear()},i.prototype.getWidget=function(){return this.colorpicker},i.prototype.focus=function(){var e=this;(0,d.awaitRedraw)().then(function(){e.getRootView().refs.input.el.focus()})},i.prototype.blur=function(){var e=this;(0,d.awaitRedraw)().then(function(){e._popup.hide(),e.getRootView().refs.input.el.blur()})},i.prototype._initView=function(e){if((0,_.isEmptyObj)(e))throw new Error("Check the configuration is correct");for(var a in this.colorpicker&&this.colorpicker.destructor(),this._popup&&this._popup.destructor(),this.config={type:e.type,id:e.id,name:e.name,disabled:!1,editable:!1,hidden:!1,value:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:y.palette,mode:"palette",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},e)a!=="id"&&a!=="type"&&a!=="name"&&(this.config[a]=e[a]);this._popup=new l.Popup,this.colorpicker=new y.Colorpicker(null,(0,r.widgetConfig)(e)),this.colorpicker.setValue(this.config.value),this._popup.attach(this.colorpicker)},i.prototype._initHandlers=function(){var e=this;this.colorpicker.events.on(y.ColorpickerEvents.beforeChange,function(a){return e.events.fire(u.ItemEvent.beforeChange,[a])}),this.colorpicker.events.on(y.ColorpickerEvents.change,function(a,c){e.config.value=e.colorpicker.getValue(),e.events.fire(u.ItemEvent.change,[e.config.value]),(0,r.isVerify)(e.config)&&(c==="clear"?e.setValidationStatus(e.validate(!0)?"success":"error"):e.validate()),e._popup.hide(),e.paint()}),this._popup.events.on(l.PopupEvents.afterHide,function(){document.activeElement!==e.getRootView().refs.input.el&&e.events.fire(u.ItemEvent.blur,[e.getValue()]),e.paint()}),this.events.on(u.ItemEvent.blur,function(){e._popupIsFocus=!1,e.paint()})},i.prototype._getHandlers=function(){var e=this;return{onblur:function(){e._popup.isVisible()||e.events.fire(u.ItemEvent.blur,[e.getValue()]),e.paint()},onfocus:function(){if(!e._popup.isVisible()){var a=e.getRootView().refs.input.el;e._popup.show(a,{theme:a}),e.events.fire(u.ItemEvent.focus,[e.getValue()]),e.paint()}},oninput:function(a){var c=a.target.value;e.events.fire(u.ItemEvent.input,[c])},onchange:function(a){var c=a.target.value;e.config.editable&&(0,y.isHex)(c)?e.setValue(c):c===""&&e.clear()},onkeydown:function(a){var c,v,m,k=document.activeElement;(((m=(v=(c=e.getRootView())===null||c===void 0?void 0:c.refs)===null||v===void 0?void 0:v.input)===null||m===void 0?void 0:m.el)===k||e._popup.isVisible())&&e.events.fire(u.ItemEvent.keydown,[a])},onmousedown:function(){e._popup.getContainer()!==document.activeElement&&(e._popupIsFocus=!1)}}},i.prototype._initHotkeys=function(){var e=this,a={"shift+tab":function(){e._applyTab()},tab:function(){e._applyTab()},escape:function(){e._popup.isVisible()&&e.getRootView().refs.input.el.focus(),e._popup.hide()},enter:function(v){if(v.preventDefault(),!e._popup.isVisible()){var m=e.getRootView().refs.input.el;e._popup.show(m,{theme:m})}},arrowRight:function(v){var m=e._popup.getContainer();e._popup.isVisible()&&!e._popupIsFocus&&(v.preventDefault(),m.focus(),e._popupIsFocus=!0)}};for(var c in a)this._keyManager.addHotKey(c,a[c])},i.prototype._draw=function(){var e,a,c,v=this.config,m=v.required,k=v.value,I=v.icon,P=v.disabled,T=v.placeholder,H=v.name,$=v.id,L=v.editable,j=v.label,M=v.helpMessage,F=this._popup.isVisible()||((c=(a=(e=this.getRootView())===null||e===void 0?void 0:e.refs)===null||a===void 0?void 0:a.input)===null||c===void 0?void 0:c.el)===document.activeElement;return(0,d.el)("div.dhx_form-group",{class:(0,r.getFormItemCss)(this.config,(0,r.isVerify)(this.config),F)},[this._drawLabel(),(0,d.el)(".dhx_input__wrapper",[(0,d.el)("div.dhx_input__container",{},[(0,d.el)(".dhx_input__icon",{class:I||"dxi dxi-eyedropper-variant"+(k?" dhx_input__icon--color-selected":""),style:{"background-color":k||"transparent"}}),(0,d.el)("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":H||$,_key:this._uid,_ref:"input",value:k,type:"text",required:m,disabled:P,class:F&&"dhx_input--focus",placeholder:T||"",name:H||"",id:$||this._uid,onfocus:this._handlers.onfocus,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,onmousedown:this._handlers.onmousedown,autocomplete:"off",readOnly:!L,"aria-label":j||"".concat(L?"type or":""," select color"),"aria-describedby":M?"dhx_label__help_".concat($||this._uid):null})]),(0,r.getValidationMessage)(this.config)&&(0,d.el)("span.dhx_input__caption",{},(0,r.getValidationMessage)(this.config))])])},i.prototype._applyTab=function(){var e,a,c;document.activeElement===((c=(a=(e=this._popup.getRootView())===null||e===void 0?void 0:e.refs)===null||a===void 0?void 0:a.content)===null||c===void 0?void 0:c.el)||this._popupIsFocus||this._popup.hide()},i}(f.Label);p.ColorPicker=t},function(O,p,x){var w=this&&this.__createBinding||(Object.create?function(y,g,d,_){_===void 0&&(_=d);var f=Object.getOwnPropertyDescriptor(g,d);f&&!("get"in f?!g.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return g[d]}}),Object.defineProperty(y,_,f)}:function(y,g,d,_){_===void 0&&(_=d),y[_]=g[d]}),C=this&&this.__exportStar||function(y,g){for(var d in y)d==="default"||Object.prototype.hasOwnProperty.call(g,d)||w(g,y,d)};Object.defineProperty(p,"__esModule",{value:!0}),p.locale=void 0,C(x(238),p),C(x(109),p),C(x(108),p),C(x(61),p);var b=x(62);Object.defineProperty(p,"locale",{enumerable:!0,get:function(){return b.default}})},function(O,p,x){var w,C=this&&this.__extends||(w=function(k,I){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,T){P.__proto__=T}||function(P,T){for(var H in T)Object.prototype.hasOwnProperty.call(T,H)&&(P[H]=T[H])},w(k,I)},function(k,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function P(){this.constructor=k}w(k,I),k.prototype=I===null?Object.create(I):(P.prototype=I.prototype,new P)}),b=this&&this.__spreadArray||function(k,I,P){if(P||arguments.length===2)for(var T,H=0,$=I.length;H<$;H++)!T&&H in I||(T||(T=Array.prototype.slice.call(I,0,H)),T[H]=I[H]);return k.concat(T||Array.prototype.slice.call(I))};Object.defineProperty(p,"__esModule",{value:!0}),p.Colorpicker=void 0;var y=x(0),g=x(3),d=x(2),_=x(5),f=x(1),l=x(61),u=x(108),r=x(62),s=x(109),t=x(67),n=x(21),i=x(239),e=x(240),a=x(14),c=x(31),v=x(1),m=function(k){function I(P,T){var H=k.call(this,P,T)||this;H._setPaletteGrip=function(L){var j=H.getRootView().refs.picker_palette.el.getBoundingClientRect(),M=L.targetTouches?L.targetTouches[0].clientX:L.clientX,F=(L.targetTouches?L.targetTouches[0].clientY:L.clientY)-j.top,S=M-j.left,R=(0,e.calculatePaletteGrip)(j,F,S),B=R.s,Y=R.v;H._pickerState.hsv.s=B,H._pickerState.hsv.v=Y,H.paint()},H._setRangeGrip=function(L){var j=H.getRootView().refs[H._activeRange].el.getBoundingClientRect(),M=(L.targetTouches?L.targetTouches[0].clientX:L.clientX)-j.left,F=(0,e.calculateRangeGrip)(j,M),S=F.h,R=F.alpha,B=F.rangeLeft;switch(H._activeRange){case"hue_range":H._pickerState.hsv.h=S,H._pickerState.hueRangeLeft=B;break;case"alpha_range":H._pickerState.alpha=R,H._pickerState.alphaRangeLeft=B}H.paint()},H._onColorClick=function(L,j){var M=j.data.color.toUpperCase();H.events.fire(s.ColorpickerEvents.beforeChange,[M])&&(H._selected=M,H._focusColor(M),H.events.fire(s.ColorpickerEvents.change,[H._selected]),H.events.fire(s.ColorpickerEvents.colorChange,[H._selected]))},H._container=P,H.config=(0,f.extend)({css:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:u.palette,width:"238px",mode:"palette",transparency:!0},H.config),H.config.palette||(H.config.palette=u.palette),H.config.customColors&&(H.config.customColors=H.config.customColors.map(function(L){return L.toUpperCase()})),H._pickerState={hsv:{h:0,s:1,v:1},customHex:"",alpha:1},H.events=new g.EventSystem(H),H._setHandlers(),H._keyManager=new a.KeyManager(function(L,j){return j===H._uid}),H._initHotKey();var $=(0,y.create)({render:function(){return H._getContent()}});return H.mount(H._container,$),H}return C(I,k),I.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.events&&this.events.clear(),this.config=this.events=this._selected=this._handlers=this._pickerState=this._inputTimeout=this._keyManager=null,this.unmount()},I.prototype.clear=function(){this.events.fire(s.ColorpickerEvents.beforeChange,[""])&&(this._selected="",this.events.fire(s.ColorpickerEvents.change,[this._selected,"clear"]),this.paint())},I.prototype.setValue=function(P){P=this.config.transparency||P.length!==9?P:P.slice(0,-2),this.events.fire(s.ColorpickerEvents.beforeChange,[P])&&(this._focusColor(P)||c.focusManager.getFocusId()===this._uid)&&(this.events.fire(s.ColorpickerEvents.change,[this._selected]),this.events.fire(s.ColorpickerEvents.colorChange,[this._selected]))},I.prototype.setFocus=function(P){this._focusColor(P)&&this.paint()},I.prototype.getValue=function(){return this._selected||""},I.prototype.getCustomColors=function(){return this.config.customColors},I.prototype.setCustomColors=function(P){this.config.customColors=P.map(function(T){return T.toUpperCase()}),this.paint()},I.prototype.setCurrentMode=function(P){P!=="palette"&&P!=="picker"||(this.config.mode=P,this.events.fire(s.ColorpickerEvents.modeChange,[P]),this.events.fire(s.ColorpickerEvents.viewChange,[P]),this.paint())},I.prototype.getCurrentMode=function(){return this.config.mode},I.prototype.getView=function(){return this.getCurrentMode()},I.prototype.setView=function(P){this.setCurrentMode(P)},I.prototype.focusValue=function(P){this.setFocus(P)},I.prototype._setHandlers=function(){var P=this;this._handlers={click:{".dhx_palette__cell":this._onColorClick},mousedown:function(T){P._pickerMove(T)},touchstart:function(T){P._pickerMove(T)},buttonsClick:function(T){if(P.setCurrentMode("palette"),T!=="cancel"){var H=P._pickerState.alpha,$=H!==1?(0,l.alphaToHex)(H):"",L=P._pickerState.background+$;T!=="apply"||P.config.customColors.includes(L)||(P.setValue(L),P.events.fire(s.ColorpickerEvents.apply,[]),P.events.fire(s.ColorpickerEvents.selectClick,[]))}else P.events.fire(s.ColorpickerEvents.cancelClick,[])},customColorClick:function(){P.setView("picker")},oninput:function(T){var H=(0,d.locate)(T);switch(P._inputTimeout&&clearTimeout(P._inputTimeout),H){case"hex_input":P._inputTimeout=setTimeout(function(){var L=T.target.value;L.indexOf("#")===-1&&(L="#".concat(L)),P._pickerState.customHex=L,(0,l.isHex)(L)&&(P._pickerState.hsv=(0,l.HexToHSV)(L),P._pickerState.alpha=(0,l.getAlpha)(L),P.paint())},100);break;case"alpha_input":P._pickerState.customHex="";var $=parseInt(T.target.value);$>100&&($=Math.trunc($/10)),$>=0&&(P._pickerState.alpha=$/100,P.paint())}},contextmenu:{".dhx_palette__cell":function(T,H){T.preventDefault();var $=P.config.customColors.indexOf(H.data.color);$!==-1&&P._removeCustomColor($),P.paint()}},mouseover:{".dhx_palette__cell":function(T){T.target&&(0,t.tooltip)(r.default.rightClickToDelete,{node:T.target,position:n.Position.bottom})},".dhx_colorpicker-custom-colors__picker":function(T){T.target&&(0,t.tooltip)(r.default.addNewColor,{node:T.target,position:n.Position.bottom})}}},this.events.on(s.ColorpickerEvents.change,function(){P.paint()}),this.events.on(s.ColorpickerEvents.colorChange,function(){P.paint()})},I.prototype._pickerMove=function(P){var T=this,H=(0,d.locate)(P);this._pickerState.customHex="",H==="picker_palette"?this._setPaletteGrip(P):(this._activeRange=H,this._setRangeGrip(P));var $=H==="picker_palette"?this._setPaletteGrip:this._setRangeGrip,L=P.targetTouches?"touchmove":"mousemove",j=P.targetTouches?"touchend":"mouseup";document.addEventListener(L,$),document.addEventListener(j,function(){document.removeEventListener(L,$),T._activeRange=null}),this.paint()},I.prototype._focusColor=function(P){if(P===void 0||P.length<4)return!1;var T=P.toUpperCase();if(!(0,l.isHex)(T))return!1;var H=this.config.palette.reduce(function(j,M){return j||(M.forEach(function(F){F.toUpperCase()!==T||(j=!0)}),j)},!1),$=u.grayShades.includes(T);if(!H&&!$){var L=this.getCustomColors();L.includes(T.toUpperCase())||L.push(T.toUpperCase())}return this._selected=T||null,this._pickerState.hsv=(0,l.HexToHSV)(T),this._pickerState.alpha=(0,l.getAlpha)(T),!0},I.prototype._removeCustomColor=function(P){this.config.customColors.splice(P,1)},I.prototype._getCells=function(P,T){var H=this;return T===void 0&&(T=""),P.reduce(function($,L){var j=(H._selected||"").toUpperCase()===L.toUpperCase()?"dhx_palette__cell--selected":"";return $.push((0,y.el)(".dhx_palette__cell",{class:"".concat(j," ").concat(T),_data:{color:L},style:"background:".concat(L),tabindex:0})),$},[])},I.prototype._getGrayShades=function(){return(0,y.el)(".dhx_palette__row",this._getCells(u.grayShades))},I.prototype._getPalette=function(){var P=this;return this.config.palette.reduce(function(T,H){return T.push((0,y.el)(".dhx_palette__col",P._getCells(H))),T},[])},I.prototype._getContent=function(){var P;return P=this.config.pickerOnly?[(0,i.getPicker)(this,this._pickerState,this._handlers)]:this.config.mode==="palette"?b(b([this.config.grayShades&&this._getGrayShades()],this._getPalette(),!0),[!this.config.paletteOnly&&(0,y.el)(".dhx_colorpicker-custom-colors",{onmouseover:this._handlers.mouseover},[(0,y.el)(".dhx_colorpicker-custom-colors__header",[r.default.customColors]),(0,y.el)(".dhx_palette--custom.dhx_palette__row",b(b([],this._getCells(this.config.customColors,"dhx_custom-color__cell"),!0),[(0,y.el)(".dhx_colorpicker-custom-colors__picker",{class:"dxi dxi-plus",onclick:this._handlers.customColorClick,onmouseover:this._handlers.mouseover,tabindex:0})],!1))])],!1):[(0,i.getPicker)(this,this._pickerState,this._handlers)],(0,y.el)(".dhx_widget.dhx_colorpicker",{class:this.config.css,style:{width:this.config.width},"data-dhx-widget-id":this._uid},[(0,y.el)(".dhx_palette",{onclick:this._handlers.click,oncontextmenu:this._handlers.contextmenu},P)])},I.prototype._initHotKey=function(){var P=this,T={enter:function($){if((0,d.locateNodeByClassName)($,"dhx_palette__cell")){var L=(0,v.rgbToHex)($.target.style.background);if(!P.events.fire(s.ColorpickerEvents.beforeChange,[L]))return;P._selected=L,P.events.fire(s.ColorpickerEvents.change,[P._selected]),P.events.fire(s.ColorpickerEvents.colorChange,[P._selected])}(0,d.locateNodeByClassName)($,"dhx_colorpicker-custom-colors__picker")&&P.setCurrentMode("picker")}};for(var H in T)this._keyManager.addHotKey(H,T[H])},I}(_.View);p.Colorpicker=m},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.calculatePaletteGrip=p.getPicker=void 0;var w=x(61),C=x(0),b=x(62);p.getPicker=function(y,g,d){var _=(0,w.HSVtoRGB)(g.hsv);g.background=(0,w.RGBToHex)(_);var f=g.background,l=g.hsv,u=g.customHex,r=g.alpha,s=(0,w.RGBToHex)((0,w.HSVtoRGB)({h:l.h,s:1,v:1})),t=y.getRootView(),n=t.refs?t.refs.picker_palette.el.getBoundingClientRect():{height:200,width:218,x:0,y:0},i=n.height-2,e=n.width-2,a=i-l.v*i-4,c=l.s*e-4,v=n.width-6,m=v-(360-l.h)/360*v,k=r*v,I=r!==1?(0,w.alphaToHex)(r):"",P=(0,w.isHex)(u)?u.replace("#",""):f.replace("#","")+I,T=Math.round(100*r),H=y.config.transparency;return(0,C.el)(".dhx_colorpicker-picker",{},[(0,C.el)(".dhx_colorpicker-picker__palette",{style:{height:132,background:s},onmousedown:d.mousedown,ontouchstart:d.touchstart,"data-dhx-id":"picker_palette",_ref:"picker_palette"},[(0,C.el)(".dhx_palette_grip",{style:{top:a,left:c},tabindex:0})]),(0,C.el)(".dhx_colorpicker-range.dhx_colorpicker-range--hue",{onmousedown:d.mousedown,ontouchstart:d.touchstart,"data-dhx-id":"hue_range",_key:"hue_range",_ref:"hue_range"},[(0,C.el)(".dhx_colorpicker-range__grip.dhx_colorpicker-range__grip--hue",{style:{left:m},tabindex:0})]),H?(0,C.el)(".dhx_colorpicker-range.dhx_colorpicker-range--alpha",{onmousedown:d.mousedown,ontouchstart:d.touchstart,"data-dhx-id":"alpha_range",_key:"alpha_range",_ref:"alpha_range"},[(0,C.el)(".dhx_colorpicker-range__substrate"),(0,C.el)(".dhx_colorpicker-range__background",{style:{backgroundImage:"linear-gradient(to right, transparent, ".concat(f,")")}}),(0,C.el)(".dhx_colorpicker-range__grip.dhx_colorpicker-range__grip--alpha",{style:{left:r!==1?k:null},tabindex:0})]):null,(0,C.el)(".dhx_colorpicker-value",[(0,C.el)(".dhx_colorpicker-value__color",{style:{background:f+(0,w.alphaToHex)(r)}}),(0,C.el)(".dhx_colorpicker-value__input-wrapper.dhx_colorpicker-value__input-wrapper--hex",[(0,C.el)("input",{class:"dhx_colorpicker-value__input dhx_colorpicker-value__input--hex",style:{width:H?112:100},value:P,oninput:d.oninput,maxlength:H?"9":"7",_key:"hex_input","data-dhx-id":"hex_input","aria-label":"type color in HEX format"})]),H?(0,C.el)(".dhx_colorpicker-value__input-wrapper.dhx_colorpicker-value__input-wrapper--alpha",[(0,C.el)("input",{class:"dhx_colorpicker-value__input dhx_colorpicker-value__input--alpha",value:T,oninput:d.oninput,maxlength:"3",_key:"alpha_input","data-dhx-id":"alpha_input","aria-label":"type opacity in percent"})]):null]),(0,C.el)(".dhx_colorpicker-picker__buttons",[!y.config.pickerOnly&&(0,C.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_link dhx_button--color_primary",onclick:[d.buttonsClick,"cancel"]},b.default.cancel),(0,C.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_flat dhx_button--color_primary",onclick:[d.buttonsClick,"apply"]},b.default.select)])])},p.calculatePaletteGrip=function(y,g,d){var _=y.refs.picker_palette.el.getBoundingClientRect(),f=_.height,l=_.width;g=g<0?0:g>f?f:g,d=d<0?0:d>l?l:d;var u=Math.round(d/(l/100)),r=100-Math.round(g/(f/100));this._pickerState.hsv.s=u/100,this._pickerState.hsv.v=r/100}},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.calculateRangeGrip=p.calculatePaletteGrip=void 0,p.calculatePaletteGrip=function(w,C,b){var y=w.height,g=w.width;return C=C<0?0:C>y?y:C,b=b<0?0:b>g?g:b,{s:Math.round(b/(g/100))/100,v:(100-Math.round(C/(y/100)))/100}},p.calculateRangeGrip=function(w,C){var b=w.width;return C=C<0?0:C>b?b:C,{h:Math.round(C/b*360),alpha:Number((C/b).toFixed(2)),rangeLeft:C}}},function(O,p,x){var w,C=this&&this.__extends||(w=function(r,s){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},w(r,s)},function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function t(){this.constructor=r}w(r,s),r.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}),b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var s,t=1,n=arguments.length;t<n;t++)for(var i in s=arguments[t])Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i]);return r},b.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.Spacer=void 0;var y=x(0),g=x(5),d=x(4),_=x(3),f=x(1),l=x(6),u=function(r){function s(t,n){var i=r.call(this,t,b({disabled:!1,hidden:!1,width:"content",height:"content"},n))||this;return i.events=new _.EventSystem,i.mount(t,(0,y.create)({render:function(){return i._draw()}})),i}return C(s,r),s.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=null,this.unmount()},s.prototype.setProperties=function(t){if(t&&!(0,f.isEmptyObj)(t)&&this.events.fire(d.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var n in t)l.baseProps.includes(n)&&(this.config[n]=t[n]);this.events.fire(d.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},s.prototype.getProperties=function(){for(var t={},n=0,i=l.baseProps;n<i.length;n++){var e=i[n];t[e]=this.config[e]}return t},s.prototype.show=function(){this.config.hidden&&this.events.fire(d.ItemEvent.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(d.ItemEvent.afterShow,[]))},s.prototype.hide=function(t){this.config.hidden&&!t||!this.events.fire(d.ItemEvent.beforeHide,[!!t])||(this.config.hidden=!0,this.events.fire(d.ItemEvent.afterHide,[!!t]))},s.prototype.isVisible=function(){return!this.config.hidden},s.prototype._draw=function(){return(0,y.el)("div")},s}(g.View);p.Spacer=u},function(O,p,x){var w,C=this&&this.__extends||(w=function(t,n){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])},w(t,n)},function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}w(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}),b=this&&this.__assign||function(){return b=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var a in n=arguments[i])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},b.apply(this,arguments)},y=this&&this.__spreadArray||function(t,n,i){if(i||arguments.length===2)for(var e,a=0,c=n.length;a<c;a++)!e&&a in n||(e||(e=Array.prototype.slice.call(n,0,a)),e[a]=n[a]);return t.concat(e||Array.prototype.slice.call(n))};Object.defineProperty(p,"__esModule",{value:!0}),p.Avatar=void 0;var g=x(0),d=x(1),_=x(3),f=x(9),l=x(4),u=x(6),r=x(106),s=function(t){function n(i,e){var a=t.call(this,i,e)||this;return a.events=new _.EventSystem,a._propsItem=["validation","required","readOnly","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","size","circle","alt","icon","placeholder","preview","accept","autosend","params","headerParams","fieldName","target","updateFromResponse","removeIcon"],a._props=y(y([],u.baseProps,!0),a._propsItem,!0),a._isUpload=!1,a._initView(e),a._initHandlers(),a}return C(n,t),n.prototype.send=function(i){var e=this,a=this.config,c=a.target,v=a.value,m=a.updateFromResponse,k=a.headerParams;if(!this._isUpload&&c&&(v!=null&&v.file)&&v.status!==r.FileStatus.uploaded&&this.events.fire(l.ItemEvent.beforeUploadFile,[v])){var I=this._createFormData(v,i),P=new XMLHttpRequest;if(this._isUpload=!0,this.config.value=b(b({},v),{status:r.FileStatus.inprogress,request:P}),this.events.fire(l.ItemEvent.uploadBegin,[this.config.value]),this.events.fire(l.ItemEvent.uploadProgress,[0,this.config.value]),P.open("POST",c),k)for(var T in k)P.setRequestHeader(T,k[T]);P.upload.onprogress=function(H){var $=H.loaded/H.total;e.config.value=b(b({},e.config.value),{progress:$}),e.events.fire(l.ItemEvent.uploadProgress,[100*$,e.config.value])},P.onloadend=function(){var H=P.status===200?r.FileStatus.uploaded:r.FileStatus.failed,$=P.status===200&&P.response?JSON.parse(P.response):null;e.config.value=b(b({},e.config.value),{status:H}),H===r.FileStatus.uploaded?($&&m&&(e.config.value=b(b({},e.config.value),$)),e.events.fire(l.ItemEvent.uploadFile,[e.config.value,$])):e.events.fire(l.ItemEvent.uploadFail,[e.config.value]),e._isUpload=!1,e.events.fire(l.ItemEvent.uploadComplete,[e.config.value])},P.send(I)}},n.prototype.selectFile=function(){var i,e,a;(a=(e=(i=this.getRootView())===null||i===void 0?void 0:i.refs)===null||e===void 0?void 0:e.input)===null||a===void 0||a.el.click()},n.prototype.setValue=function(i){this._setValue(i),(0,u.isVerify)(this.config)&&this.validate()},n.prototype._setValue=function(i){this.events.fire(l.ItemEvent.beforeChange,[i])&&(this.config.value=!(0,d.isEmptyObj)(i)&&b({id:(0,d.uid)(),status:r.FileStatus.queue,progress:0,path:""},i)||{},this.events.fire(l.ItemEvent.change,[this.getValue()]))},n.prototype.getValue=function(){return this.config.value||{}},n.prototype.clear=function(){this._setValue({}),(0,u.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error")},n.prototype.disable=function(){this.config.disabled=!0,this.paint()},n.prototype.enable=function(){var i;this.config.disabled=!1,!((i=this.parent)===null||i===void 0)&&i.isDisabled()&&this.parent.enable(),this.paint()},n.prototype.isDisabled=function(){return!!this.config.disabled},n.prototype.show=function(){this.config.hidden&&this.events.fire(l.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(l.ItemEvent.afterShow,[this.getValue()]))},n.prototype.hide=function(i){i===void 0&&(i=!1),this.config.hidden&&!i||!this.events.fire(l.ItemEvent.beforeHide,[this.getValue(),i])||(this.config.hidden=!0,this.events.fire(l.ItemEvent.afterHide,[this.getValue(),i]))},n.prototype.isVisible=function(){return!this.config.hidden},n.prototype.validate=function(i,e){if(i===void 0&&(i=!1),e===void 0&&(e=this.getValue()),!i&&!this.events.fire(l.ItemEvent.beforeValidate,[e]))return!1;var a=!0;return this.config.required&&(a=!!e.src),typeof this.config.validation=="function"&&(a=this.config.validation(e)),i||(this.setValidationStatus(a?"success":"error"),this.events.fire(l.ItemEvent.afterValidate,[e,a]),this.paint()),a},n.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},n.prototype.setProperties=function(i){if(i&&!(0,d.isEmptyObj)(i)&&this.events.fire(l.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in i)this._props.includes(e)&&(this.config[e]=i[e]);this.events.fire(l.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},n.prototype.getProperties=function(){for(var i={},e=0,a=this._props;e<a.length;e++){var c=a[e];i[c]=this.config[c]}return i},n.prototype.focus=function(){var i=this;(0,g.awaitRedraw)().then(function(){var e,a,c;(c=(a=(e=i.getRootView())===null||e===void 0?void 0:e.refs)===null||a===void 0?void 0:a.input)===null||c===void 0||c.el.focus(),i.paint()})},n.prototype.blur=function(){var i=this;(0,g.awaitRedraw)().then(function(){var e,a,c;(c=(a=(e=i.getRootView())===null||e===void 0?void 0:e.refs)===null||a===void 0?void 0:a.input)===null||c===void 0||c.el.blur(),i.paint()})},n.prototype.destructor=function(){this.events&&this.events.clear(),t.prototype._destructor.call(this),this.unmount()},n.prototype._initView=function(i){this.config=b({size:"medium",labelPosition:"top",width:"content",height:"content",accept:"image/*",fieldName:"file",target:"",alt:"",css:"",label:"",errorMessage:"",successMessage:"",helpMessage:"",icon:"",labelWidth:"",placeholder:"",preMessage:"",removeIcon:!0,circle:!1,readOnly:!1,hiddenLabel:!1,autosend:!1,updateFromResponse:!0},i),this.paint()},n.prototype._initHandlers=function(){var i=this;this._handlers=b({change:function(e){var a,c,v=(c=(a=e.target)===null||a===void 0?void 0:a.files)===null||c===void 0?void 0:c[0];if(!i.config.readOnly&&v){var m=URL.createObjectURL(v);i.setValue({file:v,src:m}),i.config.autosend&&i.validate(!0)&&i.send()}},drop:function(e){var a,c;e.preventDefault();var v=(c=(a=e.dataTransfer)===null||a===void 0?void 0:a.files)===null||c===void 0?void 0:c[0];if(!i.config.readOnly&&v){var m=URL.createObjectURL(v);i._dragover=!1,i.setValue({file:v,src:m}),i.config.autosend&&i.validate(!0)&&i.send()}},dragover:function(e){if(e.preventDefault(),!i.config.readOnly){for(var a=0,c=e.dataTransfer.types;a<c.length;a++){var v=c[a];if(v!=="Files"&&v!=="application/x-moz-file")return}i._dragoverTimeout?clearTimeout(i._dragoverTimeout):i.paint(),i._dragover=!0,i._dragoverTimeout=setTimeout(function(){i._dragover=!1,i._dragoverTimeout=null,i.paint()},150)}},onfocus:function(){return i.events.fire(l.ItemEvent.focus,[i.getValue()])},onblur:function(){return i.events.fire(l.ItemEvent.blur,[i.getValue()])},onkeydown:function(e){return i.events.fire(l.ItemEvent.keydown,[e])}},this._handlers),this.events.on(l.ItemEvent.change,function(){return i.paint()})},n.prototype._draw=function(){var i=this.config,e=i.hidden,a=i.alt,c=i.circle,v=i.size,m=i.label,k=i.value,I=i.readOnly,P=e?" dhx_form-group--hidden":"",T="",H={};return this._dragover&&(T+="dhx_avatar--on-drag "),c&&(T+="dhx_avatar--circle "),v&&typeof v!="string"?H.width=H.height=v:v&&["small","medium","large"].includes(v)?T+="dhx_avatar-size--".concat(v," "):T+="dhx_avatar-size--medium ",(0,g.el)("div.dhx_form-group.dhx_form-group--avatar",{"aria-label":a||m,role:"img",class:(0,u.getFormItemCss)(this.config,(0,u.isVerify)(this.config),!1)+P},[this._drawLabel(),(0,g.el)("div.dhx_avatar",{class:T,style:H,ondragover:this._handlers.dragover,ondrop:this._handlers.drop},[k!=null&&k.src?this._drawImage(this.config):this._drawPreview(this.config),!I&&this._drawCover(this.config)]),(0,u.getValidationMessage)(this.config)&&(0,g.el)("span.dhx_input__caption",(0,u.getValidationMessage)(this.config))])},n.prototype._drawImage=function(i){var e=i.alt,a=i.value;return(0,g.el)("img.dhx_avatar__image",{src:a==null?void 0:a.src,alt:e})},n.prototype._drawPreview=function(i){var e=i.icon,a=i.placeholder,c=i.preview,v=[];return e&&v.push((0,g.el)("div.dhx_avatar__preview-icon",{class:e})),a&&v.push((0,g.el)("div.dhx_avatar__preview-placeholder",{"aria-placeholder":a},a)),(0,g.el)("div.dhx_avatar__preview",{style:b({},c&&{"background-image":"url(".concat(c)}||{})},[].concat(v))},n.prototype._drawCover=function(i){var e=this,a=i.accept,c=i.id,v=i.value,m=i.removeIcon;return(0,g.el)("div.dhx_avatar__cover",[(0,g.el)("label.dhx_avatar__cover-upload",[(0,g.el)("input.dhx_avatar__cover-input",{_ref:"input",id:c,accept:a,type:"file",onchange:this._handlers.change,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown}),(0,g.el)("i.dhx_avatar__cover-icon.dxi.dxi-vault")]),(v==null?void 0:v.src)&&m&&(0,g.el)("div.dhx_avatar__cover-remove",{onclick:function(){return e.clear()}},[(0,g.el)("i.dhx_avatar__cover-icon.dxi.dxi-delete-forever")])])},n.prototype._createFormData=function(i,e){var a=this.config.fieldName,c=this.config.params,v=new FormData;if(e)for(var m in e)v.append(m,e[m]);if(c)for(var m in c)v.append(m,c[m]);return v.append(a,i.file,i.file.name),v.append(a+"_fullname",i.path+i.file.name),v.append(a+"_id",i.id),v},n}(f.Label);p.Avatar=s},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(l){for(var u,r=1,s=arguments.length;r<s;r++)for(var t in u=arguments[r])Object.prototype.hasOwnProperty.call(u,t)&&(l[t]=u[t]);return l},w.apply(this,arguments)},C=this&&this.__spreadArray||function(l,u,r){if(r||arguments.length===2)for(var s,t=0,n=u.length;t<n;t++)!s&&t in u||(s||(s=Array.prototype.slice.call(u,0,t)),s[t]=u[t]);return l.concat(s||Array.prototype.slice.call(u))};Object.defineProperty(p,"__esModule",{value:!0}),p.Fieldset=void 0;var b=x(3),y=x(4),g=x(6),d=x(1),_=x(0),f=function(){function l(u){var r=this;this.events=new b.EventSystem,this.attachments=[],this.propsItem=["label","labelAlignment","align"],this.props=C(C([],g.baseProps,!0),this.propsItem,!0),this.config=w({disabled:!1,hidden:!1,width:"content",height:"content",labelAlignment:"left",label:"",css:""},u),(0,_.awaitRedraw)().then(function(){r.config.disabled&&r.disable()})}return l.prototype.forEach=function(u,r){r===void 0&&(r=!1);for(var s=r?this.getTreeAttachments(this.getAttachments()):this.attachments,t=0;t<s.length;t++)u.call(this,s[t],t,s)},l.prototype.disable=function(){this.forEach(function(u){return typeof u.disable=="function"&&u.disable()}),this.config.disabled=this.cell.config.$disabled=!0,this.cell.paint()},l.prototype.enable=function(){var u;this.config.disabled=this.cell.config.$disabled=!1,this.attachments.every(function(r){return r.isDisabled()})&&this.forEach(function(r){return typeof r.enable=="function"&&r.enable()}),!((u=this.parent)===null||u===void 0)&&u.isDisabled()&&this.parent.enable(),this.cell.paint()},l.prototype.isDisabled=function(){return!!this.config.disabled},l.prototype.show=function(){this.config.hidden&&(this.forEach(function(u){return typeof u.hide=="function"&&u.show()}),this.config.hidden=!1,this.cell.show())},l.prototype.hide=function(u){u===void 0&&(u=!1),this.config.hidden&&!u||(this.forEach(function(r){typeof r.hide=="function"&&(r.config.type==="checkboxgroup"||r.config.type==="radiogroup"?r.hide(void 0,u):r.hide(u))}),this.config.hidden=!0,this.cell.hide())},l.prototype.isVisible=function(){return!this.config.hidden},l.prototype.setProperties=function(u){if(u&&!(0,d.isEmptyObj)(u)&&this.events.fire(y.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var r in u)this.props.includes(r)&&(this.config[r]=u[r]);this.events.fire(y.ItemEvent.afterChangeProperties,[this.getProperties()])}},l.prototype.getProperties=function(){for(var u={},r=0,s=this.props;r<s.length;r++){var t=s[r];u[t]=this.config[t]}return u},l.prototype.destructor=function(){this.cell.hide(),this.events.clear(),this.attachments=[]},l.prototype.setCell=function(u){this.cell=u},l.prototype.getCell=function(){return this.cell},l.prototype.setAttachments=function(u){this.attachments=u},l.prototype.getAttachments=function(){return this.attachments},l.prototype.getTreeAttachments=function(u){for(var r=[],s=0;s<u.length;s++){var t=u[s];r.push(t),t.config.type==="fieldset"&&r.push.apply(r,t.getTreeAttachments(t.getAttachments()))}return r},l}();p.Fieldset=f},function(O,p,x){var w,C=this&&this.__extends||(w=function(t,n){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])},w(t,n)},function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}w(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}),b=this&&this.__assign||function(){return b=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var a in n=arguments[i])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},b.apply(this,arguments)},y=this&&this.__spreadArray||function(t,n,i){if(i||arguments.length===2)for(var e,a=0,c=n.length;a<c;a++)!e&&a in n||(e||(e=Array.prototype.slice.call(n,0,a)),e[a]=n[a]);return t.concat(e||Array.prototype.slice.call(n))};Object.defineProperty(p,"__esModule",{value:!0}),p.ToggleGroup=void 0;var g=x(4),d=x(110),_=x(5),f=x(0),l=x(6),u=x(3),r=x(1),s=function(t){function n(i,e){var a=t.call(this,i,b({full:!1,multiselect:!1,disabled:!1,hidden:!1,width:"content",height:"content",gap:0,css:"",padding:"",items:[]},e))||this;return a.events=new u.EventSystem,a.items=[],a.props=y(y([],l.baseProps,!0),["options","full","gap","multiselect"],!1),a.initView(),a.initHandlers(),a.mount(i,(0,f.create)({render:function(){return a.draw()}})),a}return C(n,t),n.prototype.setValue=function(i){var e;i===void 0&&(i={});var a=this.getValue(),c=Object.entries(i).every(function(R){var B=R[0];return!!R[1]==!!a[B]});if(!c){if(!this.config.multiselection)for(var v=Object.entries(i).find(function(R){return R[0],R[1]}),m=this.getValue(),k=0,I=Object.entries(m);k<I.length;k++){var P=I[k],T=P[0],H=P[1],$=H;typeof H=="string"&&($=""),typeof H=="number"&&($=0),typeof H=="boolean"&&($=!1),i[T]=v&&v[0]===T?v[1]:$}if(!this.events.fire(g.ItemEvent.beforeChange,[b(b({},this.getValue()),i)]))return!1;for(var L=function(R,B){(e=j.items.find(function(Y){return Y.config.id===R}))===null||e===void 0||e.setValue(!!B,!0)},j=this,M=0,F=Object.entries(i);M<F.length;M++){var S=F[M];L(S[0],S[1])}this.events.fire(g.ItemEvent.change,[this.getValue()])}},n.prototype.getValue=function(i){if(i){var e=this.items.find(function(c){return c.config.id===i});if(e)return e.getValue()}var a={};return this.items.forEach(function(c){a[c.config.id]=c.getValue()}),a},n.prototype.isSelected=function(i){if(i){var e=this.items.find(function(c){return c.config.id===i});if(e)return e.isSelected()}var a={};return this.items.forEach(function(c){a[c.config.id]=c.isSelected()}),a},n.prototype.show=function(i){var e=i&&this.items.find(function(a){return a.config.id===i});e&&!e.config.hidden||!this.events.fire(g.ItemEvent.beforeShow,[this.getValue(),i])||(e?e.show():this.items.forEach(function(a){return a.show()}),this.config.hidden=!1,this.checkVisibleOrder(!!e),this.events.fire(g.ItemEvent.afterShow,[this.getValue(),i]))},n.prototype.hide=function(i,e){var a=i&&this.items.find(function(c){return c.config.id===i});this.config.hidden&&!e||a&&a.config.hidden||!this.events.fire(g.ItemEvent.beforeHide,[this.getValue(),i,e])||(a?(a.hide(),this.config.hidden=this.items.every(function(c){return c.config.hidden})):(this.items.forEach(function(c){return c.hide()}),this.config.hidden=!0),this.checkVisibleOrder(!!a),this.events.fire(g.ItemEvent.afterHide,[this.getValue(),i,e]))},n.prototype.isVisible=function(i){var e=this.items.find(function(a){return a.config.id===i});return e?e.isVisible():!this.config.hidden},n.prototype.focus=function(i){var e=this;(0,f.awaitRedraw)().then(function(){var a=e.items.find(function(c){return c.config.id===i})||e.items[0];a&&a.focus()})},n.prototype.blur=function(){var i=this;(0,f.awaitRedraw)().then(function(){i.items.forEach(function(e){return e.blur()})})},n.prototype.disable=function(i){var e=i&&this.items.find(function(a){return a.config.id===i});this.config.disabled||e&&e.config.disabled||(e?(e.disable(),this.config.disabled=this.items.every(function(a){return a.config.disabled})):(this.items.forEach(function(a){return a.disable()}),this.config.disabled=!0),this.paint())},n.prototype.enable=function(i){var e,a=i&&this.items.find(function(c){return c.config.id===i});!a&&!this.config.disabled||a&&!a.config.disabled||(a?a==null||a.enable():this.items.forEach(function(c){return c.enable()}),this.config.disabled=!1,!((e=this.parent)===null||e===void 0)&&e.isDisabled()&&this.parent.enable(),this.paint())},n.prototype.isDisabled=function(i){var e=this.items.find(function(a){return a.config.id===i});return e?e.isDisabled():!!this.config.disabled},n.prototype.setProperties=function(i,e){var a=this.items.find(function(v){return v.config.id===e});if(i&&!(0,r.isEmptyObj)(i)&&this.events.fire(g.ItemEvent.beforeChangeProperties,[b(b({},a?a.getProperties():this.getProperties()),i)])){if(a)a.setProperties(i);else for(var c in i)this.props.includes(c)&&(this.config[c]=i[c]);this.events.fire(g.ItemEvent.afterChangeProperties,[a?a.getProperties():this.getProperties()])}},n.prototype.getProperties=function(i){if(i){var e=this.items.find(function(k){return k.config.id===i});if(e)return e.getProperties()}for(var a={},c=0,v=this.props;c<v.length;c++){var m=v[c];a[m]=this.config[m]}return a},n.prototype.destructor=function(){this.events.clear(),this.unmount()},n.prototype.initView=function(){var i,e=this;if(!(!((i=this.config.options)===null||i===void 0)&&i.length))throw new Error("Check the configuration is correct");this.items=this.config.options.map(function(a,c){return a.id||(a.id=a.name||(0,r.uid)()),e.config.gap&&(a.$gap=c&&e.config.gap),new d.ToggleButton(null,b(b({},a),{$group:!0}))}),this.config.value&&this.setValue(this.config.value),this.checkVisibleOrder()},n.prototype.initHandlers=function(){var i=this;this.items.forEach(function(e){e.events.on(g.ItemEvent.keydown,function(a){i.events.fire(g.ItemEvent.keydown,[a,e.config.id])}),e.events.on(g.ItemEvent.focus,function(){i.events.fire(g.ItemEvent.focus,[i.getValue(),e.config.id])}),e.events.on(g.ItemEvent.blur,function(){i.events.fire(g.ItemEvent.blur,[i.getValue(),e.config.id])}),e.events.on(g.ItemEvent.beforeChange,function(a){var c;return typeof e.config.value=="string"&&(a=a?e.config.value:""),typeof e.config.value=="number"&&(a=a?e.config.value:0),i.setValue(((c={})[e.config.id]=a,c))})})},n.prototype.draw=function(){var i=this.config,e=i.hidden,a=i.id,c=i.name,v=i.full,m=i.gap,k=this.items.map(function(I){return(0,f.inject)(I.getRootView())});return(0,f.el)("div.dhx_form-group.dhx_form-group--toggle-group.dhx_toggle-group",{"data-dhx-id":c||a,"aria-label":c||a,role:"group",class:(e?"dhx_form-group--hidden ":"")+(v?"dhx_toggle-group--full ":"")+(m?"dhx_toggle-group--segmented ":"")+(0,l.getFormItemCss)(this.config)},[].concat(k))},n.prototype.checkVisibleOrder=function(i){var e=this.items.map(function(v){return delete v.config.$extraCss,v}).filter(function(v){return!v.config.hidden});if(e.length){var a=this.items.findIndex(function(v){return v.config.id===e[0].config.id}),c=this.items.findIndex(function(v){return v.config.id===e[e.length-1].config.id});this.items[a].config.$extraCss="dhx_toggle--first ",this.items[c].config.$extraCss=this.items[c].config.$extraCss?this.items[c].config.$extraCss+"dhx_toggle--last ":"dhx_toggle--last "}i&&this.items.forEach(function(v){return v.paint()})},n}(_.View);p.ToggleGroup=s},function(O,p,x){var w,C=this&&this.__extends||(w=function(l,u){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])},w(l,u)},function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function r(){this.constructor=l}w(l,u),l.prototype=u===null?Object.create(u):(r.prototype=u.prototype,new r)});Object.defineProperty(p,"__esModule",{value:!0}),p.ProForm=void 0;var b=x(104),y=x(4),g=x(16),d=x(246),_=x(6),f=function(l){function u(r,s){return l.call(this,r,s)||this}return C(u,l),u.prototype._initItemHandlers=function(r,s){var t=this;if(l.prototype._initItemHandlers.call(this,r,s),r.type==="container"){var n=this._attachments[s]=new d.Container(null,r);n.events.on(y.ItemEvent.beforeChangeProperties,function(i){return t.events.fire(y.FormEvents.beforeChangeProperties,[s,i])}),n.events.on(y.ItemEvent.afterChangeProperties,function(i){t._changeProps(s,i,n.config),t.events.fire(y.FormEvents.afterChangeProperties,[s,i]),t.layout.paint()}),n.events.on(y.ItemEvent.beforeHide,function(i){if(!i)return t.events.fire(y.FormEvents.beforeHide,[s])}),n.events.on(y.ItemEvent.beforeShow,function(){return t.events.fire(y.FormEvents.beforeShow,[s])}),n.events.on(y.ItemEvent.afterHide,function(i){t.layout.getCell(s).hide(),!i&&t.events.fire(y.FormEvents.afterHide,[s])}),n.events.on(y.ItemEvent.afterShow,function(){t.layout.getCell(s).show(),t.events.fire(y.FormEvents.afterShow,[s])})}},u.prototype._initUI=function(r){var s=this._attachments={},t={padding:"8px"};this.config.css+=" dhx_form",this._createLayoutConfig(this.config,t),this.layout=new g.ProLayout(r,t),(0,_.setAttacments)(s,this.layout)},u}(b.Form);p.ProForm=f},function(O,p,x){var w,C=this&&this.__extends||(w=function(t,n){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i[a]=e[a])},w(t,n)},function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}w(t,n),t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}),b=this&&this.__assign||function(){return b=Object.assign||function(t){for(var n,i=1,e=arguments.length;i<e;i++)for(var a in n=arguments[i])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},b.apply(this,arguments)},y=this&&this.__spreadArray||function(t,n,i){if(i||arguments.length===2)for(var e,a=0,c=n.length;a<c;a++)!e&&a in n||(e||(e=Array.prototype.slice.call(n,0,a)),e[a]=n[a]);return t.concat(e||Array.prototype.slice.call(n))};Object.defineProperty(p,"__esModule",{value:!0}),p.Container=void 0;var g=x(0),d=x(9),_=x(4),f=x(3),l=x(1),u=x(16),r=x(6),s=function(t){function n(i,e){var a=t.call(this,i,b({disabled:!1,hidden:!1,width:"content",height:"content",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:""},e))||this;if(a.events=new f.EventSystem,a._props=y(y([],r.baseProps,!0),["label","labelWidth","labelPosition","hiddenLabel","helpMessage"],!1),(0,l.isEmptyObj)(e))throw new Error("Check the configuration is correct");a.container&&a.container.destructor();var c={};for(var v in e)v!=="id"&&v!=="type"&&v!=="name"&&v!=="width"&&v!=="height"&&(a.config[v]=e[v],v!=="validation"&&(c[v]=e[v]));return a.container=new u.Layout(null,{rows:[c]}),c.html&&a.container.attachHTML(c.html),a.paint(),a.mount(i,(0,g.create)({render:function(){return a._draw()}})),a}return C(n,t),n.prototype.destructor=function(){this.container.destructor()},n.prototype.attach=function(i){this.container.attach(i)},n.prototype.attachHTML=function(i){this.container.attachHTML(i)},n.prototype.show=function(){this.config.hidden&&this.events.fire(_.ItemEvent.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(_.ItemEvent.afterShow,[]))},n.prototype.hide=function(i){i===void 0&&(i=!1),this.config.hidden&&!i||!this.events.fire(_.ItemEvent.beforeHide,[i])||(this.config.hidden=!0,this.events.fire(_.ItemEvent.afterHide,[i]))},n.prototype.isVisible=function(){return!this.config.hidden},n.prototype.disable=function(){this.config.disabled=!0,this.paint()},n.prototype.enable=function(){var i;this.config.disabled=!1,!((i=this.parent)===null||i===void 0)&&i.isDisabled()&&this.parent.enable(),this.paint()},n.prototype.isDisabled=function(){return!!this.config.disabled},n.prototype.setProperties=function(i){if(i&&!(0,l.isEmptyObj)(i)&&this.events.fire(_.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in i)this._props.includes(e)&&(this.config[e]=i[e]);this.events.fire(_.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},n.prototype.getProperties=function(){for(var i={},e=0,a=this._props;e<a.length;e++){var c=a[e];i[c]=this.config[c]}return i},n.prototype._getRootView=function(){return this.container.getRootView()},n.prototype._draw=function(){var i=this.config,e=i.name,a=i.id;return(0,g.el)(".dhx_form-group.dhx_form-group--container",{class:(0,r.getFormItemCss)(this.config),"data-dhx-id":e||a},[this._drawLabel(),(0,g.inject)(this._getRootView())])},n}(d.Label);p.Container=s},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0});var w=x(248),C=x(249),b=x(250),y=x(251),g=x(252),d=x(253),_=x(254),f=x(255),l=x(13),u=x(10),r=x(256),s=x(257),t=x(258),n=x(259),i=x(260),e=x(261),a=x(111),c=x(262),v=x(263),m=x(264),k=x(265),I=x(266),P=x(267),T=x(268),H=x(269),$=x(270),L=x(271),j=x(272),M=x(273),F=x(274);p.default=function(S){return{avatar:w.default,button:C.default,colorpicker:b.default,combo:y.default,checkbox:g.default,checkboxGroup:d.default,container:_.default,datepicker:f.default,fieldset:l.default,input:u.default,radioGroup:r.default,select:s.default,slider:t.default,spacer:n.default,textarea:i.default,timepicker:e.default,toggle:a.default,toggleGroup:c.default,arrange:(0,v.default)(S),border:(0,m.default)(S),position:(0,k.default)(S),size:(0,I.default)(S),gridStep:(0,P.default)(S),textStyle:(0,T.default)(S),textAlign:(0,H.default)(S),pointerView:(0,$.default)(S),lineShape:(0,L.default)(S),header:(0,j.default)(S),headerPosition:(0,M.default)(S),headerCommon:F.default}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(g){for(var d,_=1,f=arguments.length;_<f;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(1),b=x(12),y=x(10);p.default=w(w({},y.default),{type:"avatar",key:"img",icon:"dxi dxi-image-outline",$handler:function(g){var d,_=g.id,f=g.value,l=g.editor,u=g.key;f.src?fetch(f.src).then(function(r){r.blob().then(function(s){(0,C.blobToBase64)(s).then(function(t){var n;l.diagram.data.update(_,((n={})[u]=t,n))})})}):l.diagram.data.update(_,((d={})[u]="",d))},$setValue:function(g){var d=g.control,_=g.value;d.setValue({src:_})},$layout:function(g){return(0,b.default)(g,{type:"avatar"})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(C){for(var b,y=1,g=arguments.length;y<g;y++)for(var d in b=arguments[y])Object.prototype.hasOwnProperty.call(b,d)&&(C[d]=b[d]);return C},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0}),p.default={type:"button",$layout:function(C){return w(w({},C),{type:"button"})}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(12),b=x(10);p.default=w(w({},b.default),{type:"colorpicker",key:"fill",$layout:function(y){return(0,C.default)(y,{type:"colorpicker"})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(12),b=x(10);p.default=w(w({},b.default),{type:"combo",options:[],$layout:function(y){var g=y.options.map(function(d){return typeof d=="string"?{id:d,value:d}:d});return(0,C.default)(y,{type:"combo",data:g})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(b){for(var y,g=1,d=arguments.length;g<d;g++)for(var _ in y=arguments[g])Object.prototype.hasOwnProperty.call(y,_)&&(b[_]=y[_]);return b},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(111);p.default=w(w({},C.default),{type:"checkbox",$setValue:function(b){var y=b.control,g=b.value;y.setValue(!!g)},$layout:function(b){return w(w({},b),{type:"checkbox"})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(12),b=x(10);p.default=w(w({},b.default),{type:"checkboxGroup",$layout:function(y){return(0,C.default)(y,{type:"checkboxGroup"})}})},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0});var w=x(12);p.default={type:"container",$layout:function(C){return(0,w.default)(C,{type:"container"})}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(12),b=x(10);p.default=w(w({},b.default),{type:"datepicker",key:"date",$layout:function(y){return(0,C.default)(y,{type:"datepicker"})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(12),b=x(10);p.default=w(w({},b.default),{type:"radioGroup",$layout:function(y){return(0,C.default)(y,{type:"radioGroup"})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(12),b=x(10);p.default=w(w({},b.default),{type:"select",options:[],$layout:function(y){var g=y.options.map(function(d){return typeof d=="string"?{value:d,content:d}:d});return(0,C.default)(y,{type:"select",options:g})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(12),b=x(10);p.default=w(w({},b.default),{type:"slider",$layout:function(y){return(0,C.default)(y,{type:"slider"})}})},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.default={type:"spacer",$layout:function(){return{type:"spacer"}}}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(12),b=x(10);p.default=w(w({},b.default),{type:"textarea",height:160,$layout:function(y){var g=y.height||"content";return y.wrap&&g!=="content"&&(g=parseInt(g)-47),(0,C.default)(w(w({},y),{height:"content"}),{type:"textarea",height:g})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(12),b=x(10);p.default=w(w({},b.default),{type:"timepicker",key:"time",$layout:function(y){return(0,C.default)(y,{type:"timepicker"})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(43),b=x(10);p.default=w(w({},b.default),{type:"toggleGroup",$setValue:function(y){var g,d=y.control,_=y.value;if(((g=Object.values(d.getValue()))===null||g===void 0?void 0:g.find(function(l){return l}))!==_){var f={};d.getProperties().options.forEach(function(l){return f[l.id]=l.value==_&&_}),d.setValue(f)}},$handler:function(y){var g,d=y.id,_=y.value,f=y.editor,l=y.key;f.diagram.data.update(d,(0,C.getModifiedObject)(l,(g=Object.values(_).filter(function(u){return u}))===null||g===void 0?void 0:g[0],Array.isArray(l)&&f.diagram.data.getItem(d)||{}))},$layout:function(y){return w(w({},y),{type:"toggleGroup"})}})},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13),b=x(20);p.default=function(y){return w(w({},C.default),{label:y.editbar.arrange,css:"dhx_arrange",rows:[{cols:[{type:"input",key:"x",inputType:"number",value:0,width:b.INPUT_WIDTH_50,padding:b.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-x-box"},{type:"input",key:"y",inputType:"number",value:0,width:b.INPUT_WIDTH_50,icon:"dxi dxi-alpha-y-box"}]},{cols:[{type:"input",key:"width",inputType:"number",value:0,min:0,width:b.INPUT_WIDTH_50,padding:b.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-w-box"},{type:"input",key:"height",inputType:"number",value:0,min:0,width:b.INPUT_WIDTH_50,icon:"dxi dxi-alpha-h-box"}]},{type:"input",key:"angle",inputType:"number",value:0,min:0,max:360,icon:"dxi dxi-rotate-right"}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13),b=x(20);p.default=function(y){return w(w({},C.default),{label:y.editbar.border,align:"between",cols:[{type:"colorpicker",key:"stroke",css:"dhx_colorpicker--picker-only",padding:b.INPUT_PADDING_RIGHT_8,width:"content"},{type:"combo",key:"strokeType",padding:b.INPUT_PADDING_RIGHT_8,readOnly:!0,itemHeight:37,options:["line","dash"],template:function(g){var d=g.id;return`
					<div style="display:flex; align-items:center; height:100%; width:100%;">
						<div style="border:1px `.concat({line:"solid",dash:"dashed"}[d],` var(--dhx-font-color-secondary); height:0; width:100%;"></div>
					</div>
				`)}},{type:"input",key:"strokeWidth",inputType:"number",value:0,min:0,width:50}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13),b=x(20);p.default=function(y){return w(w({},C.default),{label:y.editbar.positionOffset,cols:[{type:"input",key:"dx",inputType:"number",value:0,width:b.INPUT_WIDTH_50,padding:b.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-x-box"},{type:"input",key:"dy",inputType:"number",value:0,width:b.INPUT_WIDTH_50,icon:"dxi dxi-alpha-y-box"}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13),b=x(20);p.default=function(y){return w(w({},C.default),{label:y.editbar.size,cols:[{type:"input",key:"width",inputType:"number",min:0,value:0,width:b.INPUT_WIDTH_50,padding:b.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-w-box"},{type:"input",key:"height",inputType:"number",min:0,value:0,width:b.INPUT_WIDTH_50,icon:"dxi dxi-alpha-h-box"}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(b){for(var y,g=1,d=arguments.length;g<d;g++)for(var _ in y=arguments[g])Object.prototype.hasOwnProperty.call(y,_)&&(b[_]=y[_]);return b},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(10);p.default=function(b){return w(w({},C.default),{label:b.editbar.gridStep,inputType:"number",icon:"dxi dxi-grid-step",min:1,wrap:!0,key:void 0,$handler:function(y){var g=y.editor,d=y.value,_=y.control;d=+d,_.validate(!0,d)&&(g.diagram.config.gridStep=g.config.gridStep=d),_.setValue(d)},$setValue:function(y){var g=y.control,d=y.editor;g.setValue(parseInt(d.diagram.config.gridStep))}})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(g){for(var d,_=1,f=arguments.length;_<f;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13),b=x(20);function y(g,d,_){for(var f=[];g<=d;)f.push({id:g,value:"".concat(g," px")}),g+=_;return f}p.default=function(g){return w(w({},C.default),{label:g.editbar.textStyle,rows:[{cols:[{type:"combo",key:"fontSize",width:b.INPUT_WIDTH_50,padding:b.INPUT_PADDING_RIGHT_8,readOnly:!0,options:y(10,30,2)},{type:"input",key:"lineHeight",inputType:"number",value:0,min:0,icon:"dxi dxi-format-line-spacing",width:b.INPUT_WIDTH_50}]},{cols:[{type:"colorpicker",key:"fontColor",css:"dhx_colorpicker--picker-only",width:"content",padding:b.INPUT_PADDING_RIGHT_4},{type:"toggle",key:"fontWeight",value:"bold",icon:"dxi dxi-format-bold",width:"content",padding:b.INPUT_PADDING_RIGHT_4},{type:"toggle",key:"fontStyle",value:"italic",icon:"dxi dxi-format-italic",width:"content"}]}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13),b=x(20);p.default=function(y){return w(w({},C.default),{label:y.editbar.textAlignment,align:"between",cols:[{type:"toggleGroup",key:"textAlign",gap:4,$on:{beforeChange:function(g,d){return!Object.values(d).every(function(_){return!_})}},options:[{icon:"dxi dxi-format-align-left",value:"left"},{icon:"dxi dxi-format-align-center",value:"center"},{icon:"dxi dxi-format-align-right",value:"right"}],padding:b.INPUT_PADDING_RIGHT_8},{type:"toggleGroup",key:"textVerticalAlign",gap:4,$on:{beforeChange:function(g,d){return!Object.values(d).every(function(_){return!_})}},options:[{icon:"dxi dxi-format-vertical-align-bottom",value:"bottom"},{icon:"dxi dxi-format-vertical-align-center",value:"center"},{icon:"dxi dxi-format-vertical-align-top",value:"top"}]}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(g){for(var d,_=1,f=arguments.length;_<f;_++)for(var l in d=arguments[_])Object.prototype.hasOwnProperty.call(d,l)&&(g[l]=d[l]);return g},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13),b=x(20),y=`
	<div style="display:flex; align-items:center; height:100%; width:100%;">
		<div style="border:1px solid var(--dhx-font-color-secondary); height:0; width:100%;"></div>
	</div>
`;p.default=function(g){return w(w({},C.default),{label:g.editbar.pointerView,align:"between",cols:[{type:"combo",key:"backArrow",padding:b.INPUT_PADDING_RIGHT_8,readOnly:!0,itemHeight:37,width:"50%",options:["none","filled"],template:function(d){return d.id==="filled"?`
						<div style="display:flex; align-items:center; height:100%; width:100%;">
							<div
								style="
									width: 0;
									height: 0;
									border: 0 solid transparent;
									border-top-width: 6px;
									border-bottom-width: 6px;
									border-right: 6px solid var(--dhx-font-color-secondary);">
							</div>
							<div style="border:1px solid var(--dhx-font-color-secondary); height:0; width:100%;"></div>
						</div>
					`:y}},{type:"combo",key:"forwardArrow",readOnly:!0,itemHeight:37,width:"50%",options:["none","filled"],template:function(d){return d.id==="filled"?`
						<div style="display:flex; align-items:center; height:100%; width:100%;">
							<div style="border:1px solid var(--dhx-font-color-secondary); height:0; width:100%;"></div>
							<div
								style="
									width: 0;
									height: 0;
									border: 0 solid transparent;
									border-bottom-width: 6px;
									border-top-width: 6px;
									border-left: 6px solid var(--dhx-font-color-secondary);">
							</div>
						</div>
					`:y}}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13),b=x(20);p.default=function(y){return w(w({},C.default),{label:y.editbar.lineShape,align:"between",rows:[{type:"toggleGroup",key:"connectType",gap:4,$on:{beforeChange:function(g,d){return!Object.values(d).every(function(_){return!_})}},options:[{icon:"dxi dxi-line-straight",value:"straight"},{icon:"dxi dxi-line-elbow",value:"elbow"}],padding:b.INPUT_PADDING_RIGHT_8}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(b){for(var y,g=1,d=arguments.length;g<d;g++)for(var _ in y=arguments[g])Object.prototype.hasOwnProperty.call(y,_)&&(b[_]=y[_]);return b},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13);p.default=function(b){return w(w({},C.default),{label:b.editbar.header,rows:[{type:"headerCommon",compact:!0,$properties:{enable:{key:["header","enable"]},fill:{key:["header","fill"]},height:{key:["header","height"]}}},{type:"headerPosition",compact:!0,$properties:{position:{key:["header","position"]}}},{type:"textStyle",compact:!0,$properties:{fontSize:{key:["header","fontSize"]},lineHeight:{key:["header","lineHeight"]},fontColor:{key:["header","fontColor"]},fontWeight:{key:["header","fontWeight"]},fontStyle:{key:["header","fontStyle"]}}},{type:"textAlign",compact:!0,$properties:{textAlign:{key:["header","textAlign"]},textVerticalAlign:{key:["header","textVerticalAlign"]}}}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(b){for(var y,g=1,d=arguments.length;g<d;g++)for(var _ in y=arguments[g])Object.prototype.hasOwnProperty.call(y,_)&&(b[_]=y[_]);return b},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13);p.default=function(b){return w(w({},C.default),{label:b.editbar.headerPosition,rows:[{type:"toggleGroup",key:"position",$on:{beforeChange:function(y,g){return!Object.values(g).every(function(d){return!d})}},gap:4,options:[{icon:"dxi dxi-format-vertical-align-top",value:"top"},{icon:"dxi dxi-format-vertical-align-bottom",value:"bottom"},{icon:"dxi dxi-format-horizontal-align-left",value:"left"},{icon:"dxi dxi-format-horizontal-align-right",value:"right"}]}]})}},function(O,p,x){var w=this&&this.__assign||function(){return w=Object.assign||function(y){for(var g,d=1,_=arguments.length;d<_;d++)for(var f in g=arguments[d])Object.prototype.hasOwnProperty.call(g,f)&&(y[f]=g[f]);return y},w.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0});var C=x(13),b=x(20);p.default=w(w({},C.default),{align:"between",cols:[{type:"toggle",key:"enable",padding:b.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-eye",offIcon:"dxi dxi-eye-off",text:"Visible",offText:"Invisible",full:!0,width:100},{type:"colorpicker",key:"fill",css:"dhx_colorpicker--picker-only",padding:b.INPUT_PADDING_RIGHT_8,width:"content"},{type:"input",key:"height",inputType:"number",icon:"dxi dxi-alpha-h-box",value:0,min:0,width:80}]})},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(w){return{default:{$default:[{type:"gridStep"}],$shape:function(C){var b=C.item;return(b==null?void 0:b.type)==="text"?[{type:"arrange"},{type:"textarea",key:"text",label:w.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign"}]:(b==null?void 0:b.type)==="img-card"?[{type:"arrange"},{type:"colorpicker",key:"headerColor",label:w.editbar.headerColor,wrap:!0},{type:"textarea",key:"title",label:w.editbar.title,wrap:!0},{type:"textarea",key:"text",label:w.editbar.text,wrap:!0},{type:"avatar",label:w.editbar.image,wrap:!0}]:[{type:"arrange"},{type:"textarea",key:"text",label:w.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign"},{type:"colorpicker",key:"fill",label:w.editbar.fill,wrap:!0},{type:"border"}]},$group:[{type:"arrange",$properties:{angle:{hidden:!0}}},{type:"header"},{type:"colorpicker",key:["style","fill"],label:w.editbar.fill,wrap:!0},{type:"border",$properties:{stroke:{key:["style","stroke"]},strokeType:{key:["style","strokeType"],options:["line"]},strokeWidth:{key:["style","strokeWidth"]}}}],$swimlane:[{type:"arrange",$properties:{angle:{hidden:!0}}},{type:"header"},{type:"headerCommon",label:w.editbar.subheaderCols,$properties:{enable:{key:["subHeaderCols","enable"]},fill:{key:["subHeaderCols","fill"]},height:{key:["subHeaderCols","height"]}}},{type:"headerCommon",label:w.editbar.subheaderRows,$properties:{enable:{key:["subHeaderRows","enable"]},fill:{key:["subHeaderRows","fill"]},height:{key:["subHeaderRows","height"]}}},{type:"colorpicker",key:["style","fill"],label:w.editbar.fill,wrap:!0},{type:"border",$properties:{stroke:{key:["style","stroke"]},strokeType:{key:["style","strokeType"],options:["line"]},strokeWidth:{key:["style","strokeWidth"]}}}],$line:[{type:"border",label:w.editbar.lineStyle},{type:"lineShape"},{type:"pointerView"}],$lineTitle:[{type:"textarea",key:"text",label:w.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign",$properties:{textVerticalAlign:{hidden:!0}}},{type:"colorpicker",key:"fill",label:w.editbar.fill,wrap:!0}]},org:{$default:[{type:"gridStep"}],$shape:function(C){var b=C.item;return(b==null?void 0:b.type)==="img-card"?[{type:"position"},{type:"size"},{type:"colorpicker",key:"headerColor",label:w.editbar.headerColor,wrap:!0},{type:"textarea",key:"title",label:w.editbar.title,wrap:!0},{type:"textarea",key:"text",label:w.editbar.text,wrap:!0},{type:"avatar",label:w.editbar.image,wrap:!0}]:[{type:"position"},{type:"size"},{type:"colorpicker",key:"headerColor",label:w.editbar.headerColor,wrap:!0},{type:"textarea",key:"text",label:w.editbar.text,wrap:!0}]}},mindmap:{$default:[{type:"gridStep"}],$shape:function(C){var b=C.item;return(b==null?void 0:b.type)==="img-card"?[{type:"position"},{type:"size"},{type:"colorpicker",key:"headerColor",label:w.editbar.headerColor,wrap:!0},{type:"textarea",key:"title",label:w.editbar.title,wrap:!0},{type:"textarea",key:"text",label:w.editbar.text,wrap:!0},{type:"avatar",label:w.editbar.image,wrap:!0}]:[{type:"position"},{type:"size"},{type:"textarea",key:"text",label:w.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign"},{type:"colorpicker",key:"fill",label:w.editbar.fill,wrap:!0},{type:"border"}]}}}}},function(O,p,x){var w,C=this&&this.__extends||(w=function(n,i){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])},w(n,i)},function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=n}w(n,i),n.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}),b=this&&this.__assign||function(){return b=Object.assign||function(n){for(var i,e=1,a=arguments.length;e<a;e++)for(var c in i=arguments[e])Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c]);return n},b.apply(this,arguments)},y=this&&this.__spreadArray||function(n,i,e){if(e||arguments.length===2)for(var a,c=0,v=i.length;c<v;c++)!a&&c in i||(a||(a=Array.prototype.slice.call(i,0,c)),a[c]=i[c]);return n.concat(a||Array.prototype.slice.call(i))};Object.defineProperty(p,"__esModule",{value:!0}),p.DefaultEditor=void 0;var g=x(1),d=x(29),_=x(40),f=x(100),l=x(59),u=x(98),r=x(37),s=x(112),t=function(n){function i(e,a){return n.call(this,e,(0,g.extend)({type:"default",shapeType:"rectangle",view:{toolbar:!0,shapebar:!0,editbar:!0},lineConfig:{lineGap:10},magnetic:!0,connectionPoints:!0,autoplacement:{mode:"direct"}},a))||this}return C(i,n),i.prototype.alignItems=function(e,a,c){var v=this;if(e.length){var m,k,I,P,T=e.filter(function($){return $.$item.getBaseType()!=="line"});T.forEach(function($){m=isNaN(m)||$.x<m?$.x:m,k=isNaN(k)||$.x+$.width>k?$.x+$.width:k,I=isNaN(I)||$.y<I?$.y:I,P=isNaN(P)||$.y+$.height>P?$.y+$.height:P});var H={"-1":c==="x"?m:I,0:c==="x"?m/2+k/2:I/2+P/2,1:c==="x"?k:P};T.forEach(function($){var L=a>=0?H[a]-$[c==="x"?"width":"height"]/(a||2):H[a];v.diagram.data.update($.id,{x:c==="x"?L:$.x,y:c==="x"?$.y:L})})}},i.prototype.distributeItems=function(e,a){if(e.length){var c=e.filter(function($){return $.$item.getBaseType()!=="line"});c.sort(function($,L){return $[a]-L[a]});for(var v=c[c.length-1],m=v[a]+v[a==="x"?"width":"height"]-c[0][a],k=0;k<c.length;k++)m-=c[k][a==="x"?"width":"height"];var I=m/(c.length-1);for(k=0;k<c.length;k++)if(k!==0&&k!==c.length-1){var P=c[k],T=c[k-1],H=T[a]+T[a==="x"?"width":"height"]+I;this.diagram.data.update(P.id,{x:a==="x"?H:P.x,y:a==="x"?P.y:H})}}},i.prototype._initDiagram=function(){var e;this.diagram=new d.Diagram(null,{type:"default",select:!0,toolbar:this._getToolbarConfig(this.config),gridStep:this.config.gridStep,margin:{y:70,x:40},defaults:this._getDefaults(),lineConfig:b({lineDirection:((e=this.config.lineConfig)===null||e===void 0?void 0:e.lineDirection)||"forwardArrow"},this.config.lineConfig),scale:this.config.scale,autoplacement:this.config.autoplacement,defaultShapeType:this.config.shapeType,$isEditor:!0})},i.prototype._initUI=function(e){var a=this;this.view=new f.View(e,this);var c=this.view.getViews(),v=c.toolbar,m=c.shapebar,k=c.editbar;this.toolbar=v,this.editbar=k,this.shapebar=m,this._resizer=new l.Controls(this.events,this.diagram,{magnetic:this.config.magnetic,connectionPoints:this.config.connectionPoints,resizePoints:this.config.resizePoints}),this.diagram.config.$svg=function(I){var P,T=(P=a.diagram.selection.getItem())===null||P===void 0?void 0:P.id,H=a.diagram.data.getItem(T);return a._selectionBox&&a._selectionBox.isValid()?a._selectionBox.render():a.diagram.selection.getIds().length<=1?a._resizer.render(H,I):null},this.diagram.config.$grid=function(){return!!a.config.grid}},i.prototype._showConnectPoints=function(e,a){if(this.config.connectionPoints){var c=this.diagram.data.getItem(e);c.$item.getBaseType()==="shape"&&(a?(c.$connectMode=!c.$connectMode,this._resizer.toggleNearShape(c)):this._resizer.setNearShape(c))}},i.prototype._setHandlers=function(){var e=this;n.prototype._setHandlers.call(this),this.diagram.events.on(d.DataEvents.load,function(){e.history.reset()}),this.diagram.events.on(d.DiagramEvents.shapeIconClick,function(a){var c=e.diagram.selection.getItem(),v=e.diagram.selection.getIds().map(function(m){return e.diagram.data.getItem(m)});if(e.events.fire(r.DiagramEditorEvents.beforeShapeIconClick,[a,v])){switch(a){case"copy":e.model.copy(),e.model.paste();break;case"remove":e._removeSelected();break;case"connect":e._showConnectPoints(e.diagram.selection.getItem().id,!0);break;case"removePoint":c.points.splice(c.$selectedPoint,1),c.$selectedPoint=null,e.diagram.paint();break;case"addColumnFirst":e._addSwimlaneCells(c,"left");break;case"addColumnLast":e._addSwimlaneCells(c,"right");break;case"addRowFirst":e._addSwimlaneCells(c,"up");break;case"addRowLast":e._addSwimlaneCells(c,"down");break;case"lineTitleAutoPositionEnable":e.diagram.data.update(c.id,{autoPosition:!1});break;case"lineTitleAutoPositionDisable":e.diagram.data.update(c.id,{autoPosition:!0});break;case"addLineTitle":(0,_.addLineTitle)(c,e.diagram);break;case"alignHorizontalCenter":e.alignItems(v,0,"x");break;case"alignHorizontalLeft":e.alignItems(v,-1,"x");break;case"alignHorizontalRight":e.alignItems(v,1,"x");break;case"alignVerticalMiddle":e.alignItems(v,0,"y");break;case"alignVerticalTop":e.alignItems(v,-1,"y");break;case"alignVerticalBottom":e.alignItems(v,1,"y");break;case"alignHorizontalDistribute":e.distributeItems(v,"x");break;case"alignVerticalDistribute":e.distributeItems(v,"y")}e.events.fire(r.DiagramEditorEvents.afterShapeIconClick,[a,c??v])}}),this.diagram.events.on(d.DiagramEvents.itemMouseOver,function(a){var c=e.diagram.selection.getItem(),v=e.diagram.data.getItem(a);c&&c.$item.getBaseType()!=="line"||v.$item.getBaseType()!=="shape"||e._showConnectPoints(a)}),this.events.on(r.DiagramEditorEvents.shapesUp,function(a){var c=e.diagram.getRootView().node.el.getBoundingClientRect();if(!(a.$x<c.left||a.$x>c.right)){var v=e._resizer.getPoint(a.$x,a.$y);v.x=Math.round(v.x/e.config.gridStep)*e.config.gridStep,v.y=Math.round(v.y/e.config.gridStep)*e.config.gridStep;var m=e.view.getRootView().node.el;(0,s.setValueFromCssVariable)(a,m);var k=e.diagram.data.getItem(e._addItem(b(b({},a),{x:v.x,y:v.y})));e._addItemToGroup(k)}}),this.events.on(r.DiagramEditorEvents.beforeItemMove,function(a){var c=a.id,v=a.$mov;return e._moveChildren(c,v)}),[r.DiagramEditorEvents.afterGroupMove,r.DiagramEditorEvents.afterShapeMove].forEach(function(a){e.events.on(a,function(c){var v=c.id,m=c.batch,k=e.diagram.data.getItem(v);if(m.length&&k.$item.getBaseType()!=="swimlane"){var I=e.diagram.data.getItem(k==null?void 0:k.$group),P=new Set(m);e.diagram.data.mapVisible(function(T){if(!P.has(T.id)){var H=T.id,$=T.$item,L=T.groupChildren,j=T.exitArea;if($.getBaseType()==="group"&&open){if((j.groupBehavior==="unbound"||(I==null?void 0:I.id)!=H)&&L.find(function(S){return S==k.id})){var M=L.findIndex(function(S){return S==k.id});L.splice(M,1),e.diagram.data.update(H,{groupChildren:L}),e.diagram.data.update(k.id,{$group:null},!0)}if((I==null?void 0:I.id)!=H&&(!I||(I==null?void 0:I.exitArea.groupBehavior)==="unbound"||(I==null?void 0:I.exitArea.groupBehavior)!=="unbound"&&(I==null?void 0:I.groupChildren.findIndex(function(S){return S==H}))!==-1)){var F=$.getLocatePercent(k.$item.getBox());e._setItemIndicator(T,F)}}}})}})}),this.events.on(r.DiagramEditorEvents.itemMoveEnd,function(){var a=e.diagram.selection.getItem();a&&e._addItemToGroup(a)})},i.prototype._initHotkeys=function(){var e=this;n.prototype._initHotkeys.call(this),this._keyManager.addHotKey("ctrl+c",function(){e.editbar.isFocused()||e.model.copy()}),this._keyManager.addHotKey("ctrl+v",function(){e.editbar.isFocused()||e.model.paste()}),this._keyManager.addHotKey("ctrl+d",function(a){a.preventDefault(),e.model.copy(),e.model.paste()})},i.prototype._removeItem=function(e){var a=this.diagram.data.getItem(e);a!=null&&a.$connectMode&&this._showConnectPoints(e,!0),n.prototype._removeItem.call(this,e)},i.prototype._getGroupTarget=function(e,a,c){var v=this;if(c===void 0&&(c=null),e.id==a.selected.id||e.id==a.exclude)return c;var m=e.id,k=e.open,I=e.groupChildren,P=e.$item,T=e.entryArea,H=P.getLocatePercent(a.selected.$item.getBox());return k&&H>=T.catchArea&&(c=e,I.length&&this.diagram.data.eachChild(m,function($){$.$item.getBaseType()==="group"&&(c=v._getGroupTarget($,a,c))},!1)),c},i.prototype._addItemToGroup=function(e){var a=this;if(e){var c=null;if(this.diagram.data.mapVisible(function(k){var I=k.id,P=k.groupChildren,T=k.$item.getBaseType();if(T==="group"&&T!=="swimlane"&&e.$item.getBaseType()!=="swimlane"){c||(c=a._getGroupTarget(k,{selected:e})),a.diagram.data.update(I,{$captureArea:"out"},!0);var H=P.find(function(L){return L==e.id});if(H){var $=P.findIndex(function(L){return L==e.id});P.splice($,1),a.diagram.data.update(k.id,{groupChildren:P}),a.diagram.data.update(e.id,{$group:null},!0)}}}),c){var v=c.id,m=c.groupChildren;v==e.$group||this.diagram.data.update(v,{groupChildren:y(y([],m,!0),[e.id],!1)})}this._setParentBox(e.id)}},i.prototype._addItem=function(e){var a;return delete e.$key,delete e.$x,delete e.$y,e.type==="$swimlane"?a=this._addSwimlaneItem(e):a=this.diagram.data.add(b(b({},e),{id:(0,g.uid)()})),this.diagram.selection.add({id:a}),a},i.prototype._addSwimlaneItem=function(e){for(var a=JSON.parse(JSON.stringify(e)),c=a.layout,v={},m=0;m<c.length;m++)for(var k=c[m],I=0;I<k.length;I++){var P=k[I];if(v[P])a.layout[m][I]=v[P];else{var T=(0,g.uid)();a.layout[m][I]=v[P]=T}}return this.diagram.data.add(b(b({},a),{layout:c,width:2*a.width,height:2*a.height,id:(0,g.uid)()}))},i.prototype._moveChildren=function(e,a){var c=this.diagram.data.getItem(e),v=this.diagram.selection.getItem(),m=c.$item.isFixed();if(!m&&c.$group){var k=this.diagram.data.getItem(c.$group);return k.$group&&this._moveChildren(k.id,a),k.$item.trackChildMove(v.$item.getBox(),{x:a.x,y:a.y})}return!m},i.prototype._setParentBox=function(e){if(e){var a=this.diagram.data.getItem(e);a.$item.getBaseType()==="group"&&a.$item.setMinBox(),a.$group&&this._setParentBox(a.$group)}},i.prototype._setItemIndicator=function(e,a){var c=e.entryArea,v=e.$captureArea,m=e.id;a>=c.catchArea?v!=="over"&&this.diagram.data.update(m,{$captureArea:"over"},!0):a!==0?v!=="partially"&&this.diagram.data.update(m,{$captureArea:"partially"},!0):v!=="out"&&this.diagram.data.update(m,{$captureArea:"out"},!0)},i.prototype._addSwimlaneCells=function(e,a){var c=e.layout[a==="down"?e.layout.length-1:0][a==="right"?e.layout[0].length-1:0],v=a==="left"||a==="right"?"col":"row";this.diagram.cellManager.setSwimlane(e.id),this.diagram.cellManager.add(this.diagram.cellManager.getCellIndex(c,v),a,!0)},i}(u.BaseDiagramEditor);p.DefaultEditor=t},function(O,p,x){Object.defineProperty(p,"__esModule",{value:!0}),p.setLocale=void 0,p.setLocale=function(w,C){var b=this[w];if(b)for(var y in C)b[y]=C[y]}},function(O,p,x){x.r(p);var w=x(113);location.hostname.includes("dhtmlx.com")||location.hostname.includes("dhtmlxcode.com")||location.hostname.includes("webixcode.com")||location.hostname.includes("webix.io/dev/dhtmlx")||location.hostname.includes("replit.com/@dhtmlx")||location.origin.endsWith("csb.app")||(window.onload=function(){var C;function b(){(C=document.createElement("div")).addEventListener("click",function(){document.body.removeChild(C),window.open("https://dhtmlx.com/docs/products/dhtmlxDiagram/download.shtml","_blank")});var y=new w.CssManager,g=y.add({display:"block !important",background:"#ff5252 !important",color:"white !important",padding:"12px",position:"absolute !important",maxWidth:"260px",top:"2% !important",right:"2% !important",fontSize:"14px !important",boxShadow:"0 1px 6px rgba(0,0,0,.1), 0 10px 20px rgba(0,0,0,.1)",cursor:"pointer",borderRadius:"2px",fontFamily:"Roboto",zIndex:2500});y.add({content:'"This version of DHTMLX Diagram is intended for demonstration only. Download an official evaluation version to try DHTMLX Diagram in your project." !important',fontSize:"14px !important",background:"#ff5252 !important",color:"white !important"},`${g}:after`),C.classList.add(g),document.body.appendChild(C)}setInterval(function(){var y=window.getComputedStyle(C,":after");y&&y.getPropertyValue("content")&&y.getPropertyValue("content")!=="none"||b()},6e4),b()})}])}),window.dhx_legacy){if(window.dhx)for(var E in dhx)if(E==="i18n")for(var D in dhx[E])window.dhx_legacy[E][D]=dhx[E][D];else dhx_legacy[E]=dhx[E];window.dhx=dhx_legacy,delete window.dhx_legacy}})(Wd);var Vp=Wd.exports;const jp=({data:o})=>{let[h,E]=bn.useState(null);const D=bn.useRef(null);return bn.useEffect(()=>{const O=new Vp.DiagramEditor(D.current,{type:"default"});return E(O),()=>O.destructor()},[]),bn.useEffect(()=>{h&&h.parse(o)},[h,o]),ar.jsx("div",{ref:D,style:{width:"100vw",height:"100vh"}})};function Rp(){return[{id:1,x:880,y:105,text:"Does user remember his password?",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:2,x:1080,y:125,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:3,x:1160,y:40,text:"User forgets his password",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:3.1,x:1340,y:40,text:"Send an E-mail with new password",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:3.2,x:1520,y:40,text:"E-mail sent",type:"preparation",fontColor:"#fff",lineHeight:18,fill:"#33B579",stroke:"#33B579"},{id:4,x:1160,y:180,text:"User remembers his password",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:5,x:1340,y:180,text:"User types in login and password",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:6,x:1520,y:180,text:"Data typed in",type:"preparation",fontColor:"#fff",lineHeight:18,fill:"#33B579",stroke:"#33B579"},{id:7,x:1700,y:180,text:`Proof completion 
 and correctness`,type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:7.1,x:1745,y:600,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:7.2,x:1880,y:320,text:"User logged in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:7.3,x:1880,y:450,text:"Complete logging in",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:7.4,x:1880,y:580,text:"Data is correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:7.5,x:1530,y:580,text:"Data is not correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:8,x:1700,y:40,text:"System",type:"subroutine",fontColor:"#fff",lineHeight:18,fill:"#7E6BAD",stroke:"#7E6BAD"},{id:9,x:1880,y:180,text:"Database",type:"database",fontColor:"#fff",lineHeight:18,fill:"#7E6BAD",stroke:"#7E6BAD"},{id:10,x:0,y:220,text:"Visitor enters the website",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:11,x:180,y:220,text:"Logged in user?",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:12,x:365,y:240,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:13,x:320,y:120,text:"User is logged in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:14,x:320,y:320,text:"User is not logged in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:15,x:490,y:320,text:"Registered user?",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:16,x:660,y:340,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:17,x:730,y:240,text:"User is registered",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:18,x:730,y:400,text:"User is not registered",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:19,x:905,y:420,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:20,x:860,y:510,text:"User types in needed data",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:21,x:860,y:640,text:"Data typed in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:22,x:860,y:770,text:`Proof completion 
 and correctness`,type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:23,x:700,y:770,text:"System",type:"subroutine",lineHeight:18,fontColor:"#fff",fill:"#7E6BAD",stroke:"#7E6BAD"},{id:24,x:860,y:890,text:"Database",type:"database",lineHeight:18,fontColor:"#fff",fill:"#7E6BAD",stroke:"#7E6BAD"},{id:25,x:1065,y:790,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:26,x:1020,y:640,text:"Data is not correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:27,x:1020,y:890,text:"Data is correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:28,x:1245,y:910,width:50,height:50,text:"AND",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:29,x:1200,y:770,text:"Write account data into database",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:29.1,x:1380,y:770,text:"Data writing done",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:29.2,x:1200,y:640,text:"Database",type:"database",lineHeight:18,fontColor:"#fff",fill:"#7E6BAD",stroke:"#7E6BAD"},{id:30,x:1330,y:890,text:`Send activation 
 e-mail`,type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:31,x:1510,y:890,text:"Activation e-mail sent",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:32,x:1690,y:890,text:"User activates his account",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:33,x:1870,y:889,text:"Account activated",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{from:1,to:2,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:2,to:3,type:"dash",toSide:"bottom",forwardArrow:"filled",stroke:"#7D8495"},{from:2,to:7.5,type:"dash",fromSide:"bottom",toSide:"top",backArrow:"filled",stroke:"#7D8495"},{from:2,to:3.2,type:"dash",fromSide:"top",toSide:"top",stroke:"#7D8495"},{from:3,to:3.1,type:"line",forwardArrow:"filled",stroke:"#7D8495"},{from:3.1,to:3.2,type:"line",forwardArrow:"filled",stroke:"#7D8495"},{from:2,to:4,type:"dash",toSide:"top",forwardArrow:"filled",stroke:"#7D8495"},{from:4,to:5,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:5,to:6,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:6,to:7,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:7,to:7.1,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:7.1,to:7.4,type:"dash",toSide:"left",stroke:"#7D8495"},{from:7.1,to:7.5,type:"dash",toSide:"right",stroke:"#7D8495"},{from:7.2,to:7.3,type:"dash",backArrow:"filled",stroke:"#7D8495"},{from:7.3,to:7.4,type:"dash",backArrow:"filled",stroke:"#7D8495"},{from:7,to:8,type:"dash",toSide:"bottom",forwardArrow:"filled",stroke:"#7D8495"},{from:7,to:9,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:10,to:11,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:11,to:12,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:12,to:13,type:"dash",forwardArrow:"filled",toSide:"bottom",stroke:"#7D8495"},{from:12,to:14,type:"dash",forwardArrow:"filled",toSide:"top",stroke:"#7D8495"},{from:14,to:15,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:15,to:16,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:16,to:17,type:"dash",forwardArrow:"filled",toSide:"bottom",stroke:"#7D8495"},{from:16,to:33,type:"dash",backArrow:"filled",fromSide:"bottom",toSide:"bottom",stroke:"#7D8495"},{from:17,to:1,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:17,to:18,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:18,to:19,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:19,to:20,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:19,to:26,type:"dash",backArrow:"filled",fromSide:"right",stroke:"#7D8495"},{from:20,to:22,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:22,to:23,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:22,to:24,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:22,to:25,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:25,to:26,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:25,to:27,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:27,to:28,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:28,to:29,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:29,to:29.1,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:29,to:29.2,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:28,to:30,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:30,to:31,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:31,to:32,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:32,to:33,type:"dash",forwardArrow:"filled",stroke:"#7D8495"}]}function Fp(){let[o]=bn.useState(Rp());return ar.jsx(jp,{data:o})}Sa.createRoot(document.getElementById("root")).render(ar.jsx(Eh.StrictMode,{children:ar.jsx(Fp,{})}));
